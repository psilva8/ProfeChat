(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[49],{859:function(e,t,s){Promise.resolve().then(s.bind(s,3924))},3924:function(e,t,s){"use strict";let a;s.r(t),s.d(t,{default:function(){return g}});var r=s(7437);s(2265);var i=s(2846);a=new(s(5357)).PrismaClient;var l=s(4250),n=s.n(l),c=s(6042),d=s(7181),o=s(6068),x=s(9079);let m={adapter:(0,i.N)(a),providers:[(0,d.Z)({name:"credentials",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},async authorize(e){if(!(null==e?void 0:e.email)||!(null==e?void 0:e.password))throw Error("Invalid credentials");let t=e.email,s=e.password,r=await a.user.findUnique({where:{email:t}});if(!r||!(null==r?void 0:r.hashedPassword))throw Error("User not found");if(!await n().compare(s,r.hashedPassword))throw Error("Invalid password");return{id:r.id,name:r.name,email:r.email,image:r.image}}}),(0,o.Z)({clientId:x.env.GOOGLE_CLIENT_ID,clientSecret:x.env.GOOGLE_CLIENT_SECRET})],pages:{signIn:"/auth/login"},session:{strategy:"jwt"},callbacks:{async jwt(e){let{token:t,user:s}=e;return s&&(t.id=s.id),t},async session(e){let{session:t,token:s}=e;return t.user&&(t.user.id=s.id),t}},secret:x.env.NEXTAUTH_SECRET},{auth:p,handlers:{GET:u,POST:h},signIn:y,signOut:w}=(0,c.ZP)(m);var f=s(7907);async function g(e){var t;let{params:s}=e,i=await p();if(!(null==i?void 0:null===(t=i.user)||void 0===t?void 0:t.id))return(0,f.notFound)();let l=await a.rubric.findUnique({where:{id:s.rubricId,userId:i.user.id}});if(!l)return(0,f.notFound)();let n=JSON.parse(l.content);return(0,r.jsxs)("div",{className:"container mx-auto py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:l.title}),(0,r.jsxs)("div",{className:"mt-2 flex gap-4 text-sm text-gray-500",children:[(0,r.jsxs)("p",{children:["Grado: ",l.grade,"\xb0 Primaria"]}),(0,r.jsxs)("p",{children:["Asignatura: ",l.subject]})]})]}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Criterio"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Destacado (4)"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Satisfactorio (3)"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"En Proceso (2)"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Inicial (1)"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:n.rubric.criteria.map((e,t)=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-normal text-sm font-medium text-gray-900",children:e.name}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-normal text-sm text-gray-500",children:e.levels.destacado}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-normal text-sm text-gray-500",children:e.levels.satisfactorio}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-normal text-sm text-gray-500",children:e.levels.enProceso}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-normal text-sm text-gray-500",children:e.levels.inicial})]},t))})]})})]})}}},function(e){e.O(0,[218,8,761,971,69,744],function(){return e(e.s=859)}),_N_E=e.O()}]);