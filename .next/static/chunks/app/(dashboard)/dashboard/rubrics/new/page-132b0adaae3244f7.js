(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[752],{7892:function(e,a,r){Promise.resolve().then(r.bind(r,5836))},7907:function(e,a,r){"use strict";var t=r(5313);r.o(t,"notFound")&&r.d(a,{notFound:function(){return t.notFound}}),r.o(t,"redirect")&&r.d(a,{redirect:function(){return t.redirect}}),r.o(t,"usePathname")&&r.d(a,{usePathname:function(){return t.usePathname}}),r.o(t,"useRouter")&&r.d(a,{useRouter:function(){return t.useRouter}})},5836:function(e,a,r){"use strict";r.r(a),r.d(a,{RubricForm:function(){return o}});var t=r(7437),s=r(2265),i=r(7907),l=r(9414);let c=[{value:"1",label:"1\xb0 Primaria"},{value:"2",label:"2\xb0 Primaria"},{value:"3",label:"3\xb0 Primaria"},{value:"4",label:"4\xb0 Primaria"},{value:"5",label:"5\xb0 Primaria"},{value:"6",label:"6\xb0 Primaria"}],n=[{value:"matematicas",label:"Matem\xe1ticas"},{value:"comunicacion",label:"Comunicaci\xf3n"},{value:"ciencias",label:"Ciencias"},{value:"sociales",label:"Ciencias Sociales"}];function o(){let e=(0,i.useRouter)(),[a,r]=(0,s.useState)(!1),[o,d]=(0,s.useState)({title:"",grade:"",subject:"",criteria:[{name:"",description:""}]}),u=e=>{let{name:a,value:r}=e.target;d(e=>({...e,[a]:r}))},m=(e,a,r)=>{let t=[...o.criteria];t[e]={...t[e],[a]:r},d(e=>({...e,criteria:t}))},b=e=>{if(o.criteria.length>1){let a=o.criteria.filter((a,r)=>r!==e);d(e=>({...e,criteria:a}))}},h=async a=>{a.preventDefault(),r(!0);try{let a=await fetch("/api/rubrics/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(!a.ok)throw Error("Error al generar la r\xfabrica");let r=await a.json();l.default.success("R\xfabrica generada exitosamente"),e.push("/dashboard/rubrics/".concat(r.id))}catch(e){l.default.error("Ocurri\xf3 un error al generar la r\xfabrica")}finally{r(!1)}};return(0,t.jsxs)("form",{onSubmit:h,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[(0,t.jsxs)("div",{className:"sm:col-span-2",children:[(0,t.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"T\xedtulo de la R\xfabrica"}),(0,t.jsx)("input",{type:"text",name:"title",id:"title",value:o.title,onChange:u,required:!0,placeholder:"Ej: Evaluaci\xf3n de Presentaci\xf3n Oral",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-accent-500 focus:ring-accent-500 sm:text-sm"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"grade",className:"block text-sm font-medium text-gray-700",children:"Grado"}),(0,t.jsxs)("select",{id:"grade",name:"grade",value:o.grade,onChange:u,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-accent-500 focus:ring-accent-500 sm:text-sm",children:[(0,t.jsx)("option",{value:"",children:"Selecciona un grado"}),c.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700",children:"Asignatura"}),(0,t.jsxs)("select",{id:"subject",name:"subject",value:o.subject,onChange:u,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-accent-500 focus:ring-accent-500 sm:text-sm",children:[(0,t.jsx)("option",{value:"",children:"Selecciona una asignatura"}),n.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,t.jsxs)("div",{className:"sm:col-span-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Criterios de Evaluaci\xf3n"}),(0,t.jsx)("button",{type:"button",onClick:()=>{d(e=>({...e,criteria:[...e.criteria,{name:"",description:""}]}))},className:"text-sm font-medium text-accent-600 hover:text-accent-500",children:"+ Agregar Criterio"})]}),(0,t.jsx)("div",{className:"mt-4 space-y-4",children:o.criteria.map((e,a)=>(0,t.jsxs)("div",{className:"flex gap-4 items-start",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("input",{type:"text",value:e.name,onChange:e=>m(a,"name",e.target.value),placeholder:"Nombre del criterio",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-accent-500 focus:ring-accent-500 sm:text-sm"}),(0,t.jsx)("input",{type:"text",value:e.description,onChange:e=>m(a,"description",e.target.value),placeholder:"Descripci\xf3n del criterio",className:"mt-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-accent-500 focus:ring-accent-500 sm:text-sm"})]}),o.criteria.length>1&&(0,t.jsxs)("button",{type:"button",onClick:()=>b(a),className:"mt-1 text-gray-400 hover:text-gray-500",children:[(0,t.jsx)("span",{className:"sr-only",children:"Eliminar criterio"}),(0,t.jsx)("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]},a))})]})]}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)("button",{type:"submit",disabled:a,className:"flex justify-center rounded-md border border-transparent bg-accent-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-accent-700 focus:outline-none focus:ring-2 focus:ring-accent-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Generando...":"Generar R\xfabrica"})})]})}}},function(e){e.O(0,[414,971,69,744],function(){return e(e.s=7892)}),_N_E=e.O()}]);