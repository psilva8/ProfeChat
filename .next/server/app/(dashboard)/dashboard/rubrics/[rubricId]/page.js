(()=>{var exports={};exports.id=49,exports.ids=[49],exports.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},852:e=>{"use strict";e.exports=require("async_hooks")},2081:e=>{"use strict";e.exports=require("child_process")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3292:e=>{"use strict";e.exports=require("fs/promises")},2254:e=>{"use strict";e.exports=require("node:buffer")},6005:e=>{"use strict";e.exports=require("node:crypto")},7261:e=>{"use strict";e.exports=require("node:util")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},6224:e=>{"use strict";e.exports=require("tty")},3837:e=>{"use strict";e.exports=require("util")},6715:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>s.a,__next_app__:()=>f,originalPathname:()=>d,pages:()=>u,routeModule:()=>h,tree:()=>c});var n=r(482),i=r(9108),a=r(2563),s=r.n(a),o=r(8300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["(dashboard)",{children:["dashboard",{children:["rubrics",{children:["[rubricId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,8173)),"/Users/paulsilva/Documents/demo-02/src/app/(dashboard)/dashboard/rubrics/[rubricId]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,9363)),"/Users/paulsilva/Documents/demo-02/src/app/(dashboard)/dashboard/layout.tsx"]}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,1342)),"/Users/paulsilva/Documents/demo-02/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"]}],u=["/Users/paulsilva/Documents/demo-02/src/app/(dashboard)/dashboard/rubrics/[rubricId]/page.tsx"],d="/(dashboard)/dashboard/rubrics/[rubricId]/page",f={require:r,loadChunk:()=>Promise.resolve()},h=new n.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/(dashboard)/dashboard/rubrics/[rubricId]/page",pathname:"/dashboard/rubrics/[rubricId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},4064:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,1476,23)),Promise.resolve().then(r.bind(r,3653))},5959:(e,t,r)=>{Promise.resolve().then(r.bind(r,7707))},1021:(e,t,r)=>{e.exports={...r(4230)}},4230:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});let{PrismaClientKnownRequestError:n,PrismaClientUnknownRequestError:i,PrismaClientRustPanicError:a,PrismaClientInitializationError:s,PrismaClientValidationError:o,NotFoundError:l,getPrismaClient:c,sqltag:u,empty:d,join:f,raw:h,skip:p,Decimal:m,Debug:g,objectEnumValues:y,makeStrictEnum:w,Extensions:b,warnOnce:v,defineDmmfProperty:_,Public:x,getRuntime:k}=r(49),E={};t.Prisma=E,t.$Enums={},E.prismaVersion={client:"5.22.0",engine:"605197351a3c8bdd595af2d2a9bc3025bca48ea2"},E.PrismaClientKnownRequestError=n,E.PrismaClientUnknownRequestError=i,E.PrismaClientRustPanicError=a,E.PrismaClientInitializationError=s,E.PrismaClientValidationError=o,E.NotFoundError=l,E.Decimal=m,E.sql=u,E.empty=d,E.join=f,E.raw=h,E.validator=x.validator,E.getExtensionContext=b.getExtensionContext,E.defineExtension=b.defineExtension,E.DbNull=y.instances.DbNull,E.JsonNull=y.instances.JsonNull,E.AnyNull=y.instances.AnyNull,E.NullTypes={DbNull:y.classes.DbNull,JsonNull:y.classes.JsonNull,AnyNull:y.classes.AnyNull};let S=r(1017);t.Prisma.TransactionIsolationLevel=w({Serializable:"Serializable"}),t.Prisma.AccountScalarFieldEnum={id:"id",userId:"userId",type:"type",provider:"provider",providerAccountId:"providerAccountId",refresh_token:"refresh_token",access_token:"access_token",expires_at:"expires_at",token_type:"token_type",scope:"scope",id_token:"id_token",session_state:"session_state"},t.Prisma.SessionScalarFieldEnum={id:"id",sessionToken:"sessionToken",userId:"userId",expires:"expires"},t.Prisma.UserScalarFieldEnum={id:"id",name:"name",email:"email",emailVerified:"emailVerified",image:"image",hashedPassword:"hashedPassword",createdAt:"createdAt",updatedAt:"updatedAt"},t.Prisma.LessonPlanScalarFieldEnum={id:"id",userId:"userId",grade:"grade",subject:"subject",topic:"topic",duration:"duration",objectives:"objectives",content:"content",createdAt:"createdAt",updatedAt:"updatedAt"},t.Prisma.RubricScalarFieldEnum={id:"id",userId:"userId",title:"title",subject:"subject",grade:"grade",criteria:"criteria",content:"content",createdAt:"createdAt",updatedAt:"updatedAt"},t.Prisma.ActivityScalarFieldEnum={id:"id",userId:"userId",title:"title",subject:"subject",grade:"grade",type:"type",duration:"duration",objectives:"objectives",content:"content",materials:"materials",createdAt:"createdAt",updatedAt:"updatedAt"},t.Prisma.SortOrder={asc:"asc",desc:"desc"},t.Prisma.NullsOrder={first:"first",last:"last"},t.Prisma.ModelName={Account:"Account",Session:"Session",User:"User",LessonPlan:"LessonPlan",Rubric:"Rubric",Activity:"Activity"};let A={generator:{name:"client",provider:{fromEnvVar:null,value:"prisma-client-js"},output:{value:"/Users/paulsilva/Documents/demo-02/node_modules/@prisma/client",fromEnvVar:null},config:{engineType:"library"},binaryTargets:[{fromEnvVar:null,value:"darwin-arm64",native:!0}],previewFeatures:[],sourceFilePath:"/Users/paulsilva/Documents/demo-02/prisma/schema.prisma"},relativeEnvPaths:{rootEnvPath:null,schemaEnvPath:"../../../.env"},relativePath:"../../../prisma",clientVersion:"5.22.0",engineVersion:"605197351a3c8bdd595af2d2a9bc3025bca48ea2",datasourceNames:["db"],activeProvider:"sqlite",postinstall:!1,inlineDatasources:{db:{url:{fromEnvVar:null,value:"file:./dev.db"}}},inlineSchema:"// This is your Prisma schema file,\n// learn more about it in the docs: https://pris.ly/d/prisma-schema\n\n// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?\n// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init\n\ngenerator client {\n  provider = \"prisma-client-js\"\n}\n\ndatasource db {\n  provider = \"sqlite\"\n  url      = \"file:./dev.db\"\n}\n\nmodel Account {\n  id                String  @id @default(cuid())\n  userId            String\n  type              String\n  provider          String\n  providerAccountId String\n  refresh_token     String?\n  access_token      String?\n  expires_at        Int?\n  token_type        String?\n  scope             String?\n  id_token          String?\n  session_state     String?\n\n  user User @relation(fields: [userId], references: [id], onDelete: Cascade)\n\n  @@unique([provider, providerAccountId])\n}\n\nmodel Session {\n  id           String   @id @default(cuid())\n  sessionToken String   @unique\n  userId       String\n  expires      DateTime\n  user         User     @relation(fields: [userId], references: [id], onDelete: Cascade)\n}\n\nmodel User {\n  id             String    @id @default(cuid())\n  name           String?\n  email          String?   @unique\n  emailVerified  DateTime?\n  image          String?\n  hashedPassword String?\n  createdAt      DateTime  @default(now())\n  updatedAt      DateTime  @updatedAt\n\n  accounts    Account[]\n  sessions    Session[]\n  lessonPlans LessonPlan[]\n  rubrics     Rubric[]\n  activities  Activity[]\n}\n\nmodel LessonPlan {\n  id         String   @id @default(cuid())\n  userId     String\n  grade      String\n  subject    String\n  topic      String\n  duration   Int\n  objectives String\n  content    String\n  createdAt  DateTime @default(now())\n  updatedAt  DateTime @updatedAt\n\n  user User @relation(fields: [userId], references: [id], onDelete: Cascade)\n}\n\nmodel Rubric {\n  id        String   @id @default(cuid())\n  userId    String\n  title     String\n  subject   String\n  grade     String\n  criteria  String // JSON string of criteria and levels\n  content   String // Generated rubric content\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  user User @relation(fields: [userId], references: [id], onDelete: Cascade)\n}\n\nmodel Activity {\n  id         String   @id @default(cuid())\n  userId     String\n  title      String\n  subject    String\n  grade      String\n  type       String // 'individual', 'group', 'interactive'\n  duration   Int\n  objectives String\n  content    String // Generated activity content\n  materials  String // JSON string of required materials\n  createdAt  DateTime @default(now())\n  updatedAt  DateTime @updatedAt\n\n  user User @relation(fields: [userId], references: [id], onDelete: Cascade)\n}\n",inlineSchemaHash:"01ba1c57b3dfaa0d838f024e419aad9ed60483d72e9b0bf37e87f80cd9c71da6",copyEngine:!0},P=r(7147);if(A.dirname=__dirname,!P.existsSync(S.join(__dirname,"schema.prisma"))){let e=["node_modules/.prisma/client",".prisma/client"],t=e.find(e=>P.existsSync(S.join(process.cwd(),e,"schema.prisma")))??e[0];A.dirname=S.join(process.cwd(),t),A.isBundled=!0}A.runtimeDataModel=JSON.parse('{"models":{"Account":{"dbName":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","default":{"name":"cuid","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"userId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","isGenerated":false,"isUpdatedAt":false},{"name":"type","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","isGenerated":false,"isUpdatedAt":false},{"name":"provider","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","isGenerated":false,"isUpdatedAt":false},{"name":"providerAccountId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","isGenerated":false,"isUpdatedAt":false},{"name":"refresh_token","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","isGenerated":false,"isUpdatedAt":false},{"name":"access_token","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","isGenerated":false,"isUpdatedAt":false},{"name":"expires_at","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","isGenerated":false,"isUpdatedAt":false},{"name":"token_type","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","isGenerated":false,"isUpdatedAt":false},{"name":"scope","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","isGenerated":false,"isUpdatedAt":false},{"name":"id_token","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","isGenerated":false,"isUpdatedAt":false},{"name":"session_state","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","isGenerated":false,"isUpdatedAt":false},{"name":"user","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","relationName":"AccountToUser","relationFromFields":["userId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[["provider","providerAccountId"]],"uniqueIndexes":[{"name":null,"fields":["provider","providerAccountId"]}],"isGenerated":false},"Session":{"dbName":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","default":{"name":"cuid","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"sessionToken","kind":"scalar","isList":false,"isRequired":true,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","isGenerated":false,"isUpdatedAt":false},{"name":"userId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","isGenerated":false,"isUpdatedAt":false},{"name":"expires","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","isGenerated":false,"isUpdatedAt":false},{"name":"user","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","relationName":"SessionToUser","relationFromFields":["userId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"User":{"dbName":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","default":{"name":"cuid","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"name","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","isGenerated":false,"isUpdatedAt":false},{"name":"email","kind":"scalar","isList":false,"isRequired":false,"isUnique":true,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","isGenerated":false,"isUpdatedAt":false},{"name":"emailVerified","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","isGenerated":false,"isUpdatedAt":false},{"name":"image","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","isGenerated":false,"isUpdatedAt":false},{"name":"hashedPassword","kind":"scalar","isList":false,"isRequired":false,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","isGenerated":false,"isUpdatedAt":true},{"name":"accounts","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Account","relationName":"AccountToUser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"sessions","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Session","relationName":"SessionToUser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"lessonPlans","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"LessonPlan","relationName":"LessonPlanToUser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"rubrics","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Rubric","relationName":"RubricToUser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false},{"name":"activities","kind":"object","isList":true,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Activity","relationName":"ActivityToUser","relationFromFields":[],"relationToFields":[],"isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"LessonPlan":{"dbName":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","default":{"name":"cuid","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"userId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","isGenerated":false,"isUpdatedAt":false},{"name":"grade","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","isGenerated":false,"isUpdatedAt":false},{"name":"subject","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","isGenerated":false,"isUpdatedAt":false},{"name":"topic","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","isGenerated":false,"isUpdatedAt":false},{"name":"duration","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","isGenerated":false,"isUpdatedAt":false},{"name":"objectives","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","isGenerated":false,"isUpdatedAt":false},{"name":"content","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","isGenerated":false,"isUpdatedAt":true},{"name":"user","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","relationName":"LessonPlanToUser","relationFromFields":["userId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Rubric":{"dbName":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","default":{"name":"cuid","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"userId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","isGenerated":false,"isUpdatedAt":false},{"name":"title","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","isGenerated":false,"isUpdatedAt":false},{"name":"subject","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","isGenerated":false,"isUpdatedAt":false},{"name":"grade","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","isGenerated":false,"isUpdatedAt":false},{"name":"criteria","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","isGenerated":false,"isUpdatedAt":false},{"name":"content","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","isGenerated":false,"isUpdatedAt":true},{"name":"user","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","relationName":"RubricToUser","relationFromFields":["userId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false},"Activity":{"dbName":null,"fields":[{"name":"id","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":true,"isReadOnly":false,"hasDefaultValue":true,"type":"String","default":{"name":"cuid","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"userId","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":true,"hasDefaultValue":false,"type":"String","isGenerated":false,"isUpdatedAt":false},{"name":"title","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","isGenerated":false,"isUpdatedAt":false},{"name":"subject","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","isGenerated":false,"isUpdatedAt":false},{"name":"grade","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","isGenerated":false,"isUpdatedAt":false},{"name":"type","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","isGenerated":false,"isUpdatedAt":false},{"name":"duration","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"Int","isGenerated":false,"isUpdatedAt":false},{"name":"objectives","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","isGenerated":false,"isUpdatedAt":false},{"name":"content","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","isGenerated":false,"isUpdatedAt":false},{"name":"materials","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"String","isGenerated":false,"isUpdatedAt":false},{"name":"createdAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":true,"type":"DateTime","default":{"name":"now","args":[]},"isGenerated":false,"isUpdatedAt":false},{"name":"updatedAt","kind":"scalar","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"DateTime","isGenerated":false,"isUpdatedAt":true},{"name":"user","kind":"object","isList":false,"isRequired":true,"isUnique":false,"isId":false,"isReadOnly":false,"hasDefaultValue":false,"type":"User","relationName":"ActivityToUser","relationFromFields":["userId"],"relationToFields":["id"],"relationOnDelete":"Cascade","isGenerated":false,"isUpdatedAt":false}],"primaryKey":null,"uniqueFields":[],"uniqueIndexes":[],"isGenerated":false}},"enums":{},"types":{}}'),_(t.Prisma,A.runtimeDataModel),A.engineWasm=void 0;let{warnEnvConflicts:R}=r(49);R({rootEnvPath:A.relativeEnvPaths.rootEnvPath&&S.resolve(A.dirname,A.relativeEnvPaths.rootEnvPath),schemaEnvPath:A.relativeEnvPaths.schemaEnvPath&&S.resolve(A.dirname,A.relativeEnvPaths.schemaEnvPath)});let T=c(A);t.PrismaClient=T,Object.assign(t,E),S.join(__dirname,"libquery_engine-darwin-arm64.dylib.node"),S.join(process.cwd(),"node_modules/.prisma/client/libquery_engine-darwin-arm64.dylib.node"),S.join(__dirname,"schema.prisma"),S.join(process.cwd(),"node_modules/.prisma/client/schema.prisma")},8163:(e,t,r)=>{e.exports={...r(1021)}},49:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var eu=Object.create,Nr=Object.defineProperty,tu=Object.getOwnPropertyDescriptor,ru=Object.getOwnPropertyNames,nu=Object.getPrototypeOf,iu=Object.prototype.hasOwnProperty,Z=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Ut=(e,t)=>{for(var r in t)Nr(e,r,{get:t[r],enumerable:!0})},ho=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of ru(t))iu.call(e,i)||i===r||Nr(e,i,{get:()=>t[i],enumerable:!(n=tu(t,i))||n.enumerable});return e},k=(e,t,r)=>(r=null!=e?eu(nu(e)):{},ho(!t&&e&&e.__esModule?r:Nr(r,"default",{value:e,enumerable:!0}),e)),ou=e=>ho(Nr({},"__esModule",{value:!0}),e),jo=Z((e,t)=>{var r=t.exports;t.exports.default=r;var n="\x1b[",i="\x1b]",a="\x07",s=";",o="Apple_Terminal"===process.env.TERM_PROGRAM;r.cursorTo=(e,t)=>{if("number"!=typeof e)throw TypeError("The `x` argument is required");return"number"!=typeof t?n+(e+1)+"G":n+(t+1)+";"+(e+1)+"H"},r.cursorMove=(e,t)=>{if("number"!=typeof e)throw TypeError("The `x` argument is required");let r="";return e<0?r+=n+-e+"D":e>0&&(r+=n+e+"C"),t<0?r+=n+-t+"A":t>0&&(r+=n+t+"B"),r},r.cursorUp=(e=1)=>n+e+"A",r.cursorDown=(e=1)=>n+e+"B",r.cursorForward=(e=1)=>n+e+"C",r.cursorBackward=(e=1)=>n+e+"D",r.cursorLeft=n+"G",r.cursorSavePosition=o?"\x1b7":n+"s",r.cursorRestorePosition=o?"\x1b8":n+"u",r.cursorGetPosition=n+"6n",r.cursorNextLine=n+"E",r.cursorPrevLine=n+"F",r.cursorHide=n+"?25l",r.cursorShow=n+"?25h",r.eraseLines=e=>{let t="";for(let n=0;n<e;n++)t+=r.eraseLine+(n<e-1?r.cursorUp():"");return e&&(t+=r.cursorLeft),t},r.eraseEndLine=n+"K",r.eraseStartLine=n+"1K",r.eraseLine=n+"2K",r.eraseDown=n+"J",r.eraseUp=n+"1J",r.eraseScreen=n+"2J",r.scrollUp=n+"S",r.scrollDown=n+"T",r.clearScreen="\x1bc",r.clearTerminal="win32"===process.platform?`${r.eraseScreen}${n}0f`:`${r.eraseScreen}${n}3J${n}H`,r.beep=a,r.link=(e,t)=>[i,"8",s,s,t,a,e,i,"8",s,s,a].join(""),r.image=(e,t={})=>{let r=`${i}1337;File=inline=1`;return t.width&&(r+=`;width=${t.width}`),t.height&&(r+=`;height=${t.height}`),!1===t.preserveAspectRatio&&(r+=";preserveAspectRatio=0"),r+":"+e.toString("base64")+a},r.iTerm={setCwd:(e=process.cwd())=>`${i}50;CurrentDir=${e}${a}`,annotation:(e,t={})=>{let r=`${i}1337;`,n="u">typeof t.x,s="u">typeof t.y;if((n||s)&&!(n&&s&&"u">typeof t.length))throw Error("`x`, `y` and `length` must be defined when `x` or `y` is defined");return e=e.replace(/\|/g,""),r+=t.isHidden?"AddHiddenAnnotation=":"AddAnnotation=",t.length>0?r+=(n?[e,t.length,t.x,t.y]:[t.length,e]).join("|"):r+=e,r+a}}}),Xn=Z((e,t)=>{t.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":1===e.length?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return -1!==n&&(-1===i||n<i)}}),Go=Z((e,t)=>{var r,n=__webpack_require__(2037),i=__webpack_require__(6224),a=Xn(),{env:s}=process;function o(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function l(e,t){if(0===r)return 0;if(a("color=16m")||a("color=full")||a("color=truecolor"))return 3;if(a("color=256"))return 2;if(e&&!t&&void 0===r)return 0;let i=r||0;if("dumb"===s.TERM)return i;if("win32"===process.platform){let e=n.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in s)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(e=>e in s)||"codeship"===s.CI_NAME?1:i;if("TEAMCITY_VERSION"in s)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(s.TEAMCITY_VERSION)?1:0;if("truecolor"===s.COLORTERM)return 3;if("TERM_PROGRAM"in s){let e=parseInt((s.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(s.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(s.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(s.TERM)||"COLORTERM"in s?1:i}function c(e){return o(l(e,e&&e.isTTY))}a("no-color")||a("no-colors")||a("color=false")||a("color=never")?r=0:(a("color")||a("colors")||a("color=true")||a("color=always"))&&(r=1),"FORCE_COLOR"in s&&(r="true"===s.FORCE_COLOR?1:"false"===s.FORCE_COLOR?0:0===s.FORCE_COLOR.length?1:Math.min(parseInt(s.FORCE_COLOR,10),3)),t.exports={supportsColor:c,stdout:o(l(!0,i.isatty(1))),stderr:o(l(!0,i.isatty(2)))}}),Wo=Z((e,t)=>{var r=Go(),n=Xn();function i(e){if(/^\d{3,4}$/.test(e)){let t=/(\d{1,2})(\d{2})/.exec(e);return{major:0,minor:parseInt(t[1],10),patch:parseInt(t[2],10)}}let t=(e||"").split(".").map(e=>parseInt(e,10));return{major:t[0],minor:t[1],patch:t[2]}}function a(e){let{env:t}=process;if("FORCE_HYPERLINK"in t)return!(t.FORCE_HYPERLINK.length>0&&0===parseInt(t.FORCE_HYPERLINK,10));if(n("no-hyperlink")||n("no-hyperlinks")||n("hyperlink=false")||n("hyperlink=never"))return!1;if(n("hyperlink=true")||n("hyperlink=always")||"NETLIFY"in t)return!0;if(!r.supportsColor(e)||e&&!e.isTTY||"win32"===process.platform||"CI"in t||"TEAMCITY_VERSION"in t)return!1;if("TERM_PROGRAM"in t){let e=i(t.TERM_PROGRAM_VERSION);switch(t.TERM_PROGRAM){case"iTerm.app":return 3===e.major?e.minor>=1:e.major>3;case"WezTerm":return e.major>=20200620;case"vscode":return e.major>1||1===e.major&&e.minor>=72}}if("VTE_VERSION"in t){if("0.50.0"===t.VTE_VERSION)return!1;let e=i(t.VTE_VERSION);return e.major>0||e.minor>=50}return!1}t.exports={supportsHyperlink:a,stdout:a(process.stdout),stderr:a(process.stderr)}}),Ko=Z((e,t)=>{var r=jo(),n=Wo(),i=(e,t,{target:i="stdout",...a}={})=>n[i]?r.link(e,t):!1===a.fallback?e:"function"==typeof a.fallback?a.fallback(e,t):`${e} (\u200B${t}\u200B)`;t.exports=(e,t,r={})=>i(e,t,r),t.exports.stderr=(e,t,r={})=>i(e,t,{target:"stderr",...r}),t.exports.isSupported=n.stdout,t.exports.stderr.isSupported=n.stderr}),oi=Z((e,t)=>{t.exports={name:"@prisma/engines-version",version:"5.22.0-44.605197351a3c8bdd595af2d2a9bc3025bca48ea2",main:"index.js",types:"index.d.ts",license:"Apache-2.0",author:"Tim Suchanek <suchanek@prisma.io>",prisma:{enginesVersion:"605197351a3c8bdd595af2d2a9bc3025bca48ea2"},repository:{type:"git",url:"https://github.com/prisma/engines-wrapper.git",directory:"packages/engines-version"},devDependencies:{"@types/node":"18.19.34",typescript:"4.9.5"},files:["index.js","index.d.ts"],scripts:{build:"tsc -d"}}}),si=Z(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.enginesVersion=void 0,e.enginesVersion=oi().prisma.enginesVersion}),Xo=Z((e,t)=>{t.exports={name:"dotenv",version:"16.0.3",description:"Loads environment variables from .env file",main:"lib/main.js",types:"lib/main.d.ts",exports:{".":{require:"./lib/main.js",types:"./lib/main.d.ts",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},scripts:{"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard","lint-readme":"standard-markdown",pretest:"npm run lint && npm run dts-check",test:"tap tests/*.js --100 -Rspec",prerelease:"npm test",release:"standard-version"},repository:{type:"git",url:"git://github.com/motdotla/dotenv.git"},keywords:["dotenv","env",".env","environment","variables","config","settings"],readmeFilename:"README.md",license:"BSD-2-Clause",devDependencies:{"@types/node":"^17.0.9",decache:"^4.6.1",dtslint:"^3.7.0",sinon:"^12.0.1",standard:"^16.0.4","standard-markdown":"^7.1.0","standard-version":"^9.3.2",tap:"^15.1.6",tar:"^6.1.11",typescript:"^4.5.4"},engines:{node:">=12"}}}),ts=Z((e,t)=>{var r=__webpack_require__(7147),n=__webpack_require__(1017),i=__webpack_require__(2037),a=Xo().version,s=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function o(e){console.log(`[dotenv@${a}][DEBUG] ${e}`)}function l(e){return"~"===e[0]?n.join(i.homedir(),e.slice(1)):e}var c={config:function(e){let t=n.resolve(process.cwd(),".env"),i="utf8",a=!!(e&&e.debug),s=!!(e&&e.override);e&&(null!=e.path&&(t=l(e.path)),null!=e.encoding&&(i=e.encoding));try{let e=c.parse(r.readFileSync(t,{encoding:i}));return Object.keys(e).forEach(function(t){Object.prototype.hasOwnProperty.call(process.env,t)?(!0===s&&(process.env[t]=e[t]),a&&o(!0===s?`"${t}" is already defined in \`process.env\` and WAS overwritten`:`"${t}" is already defined in \`process.env\` and was NOT overwritten`)):process.env[t]=e[t]}),{parsed:e}}catch(e){return a&&o(`Failed to load ${t} ${e.message}`),{error:e}}},parse:function(e){let t,r={},n=e.toString();for(n=n.replace(/\r\n?/mg,`
`);null!=(t=s.exec(n));){let e=t[1],n=t[2]||"",i=(n=n.trim())[0];n=n.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),'"'===i&&(n=(n=n.replace(/\\n/g,`
`)).replace(/\\r/g,"\r")),r[e]=n}return r}};t.exports.config=c.config,t.exports.parse=c.parse,t.exports=c}),as=Z((e,t)=>{t.exports=e=>{let t=e.match(/^[ \t]*(?=\S)/gm);return t?t.reduce((e,t)=>Math.min(e,t.length),1/0):0}}),us=Z((e,t)=>{var r=as();t.exports=e=>{let t=r(e);if(0===t)return e;let n=RegExp(`^[ \\t]{${t}}`,"gm");return e.replace(n,"")}}),fi=Z((e,t)=>{t.exports=(e,t=1,r)=>{if(r={indent:" ",includeEmptyLines:!1,...r},"string"!=typeof e)throw TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof e}\``);if("number"!=typeof t)throw TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof t}\``);if("string"!=typeof r.indent)throw TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof r.indent}\``);if(0===t)return e;let n=r.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return e.replace(n,r.indent.repeat(t))}}),fs=Z((e,t)=>{t.exports=({onlyFirst:e=!1}={})=>RegExp("[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)|(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))",e?void 0:"g")}),bi=Z((e,t)=>{var r=fs();t.exports=e=>"string"==typeof e?e.replace(r(),""):e}),hs=Z((e,t)=>{t.exports=(e={})=>{let t;if(e.repoUrl)t=e.repoUrl;else if(e.user&&e.repo)t=`https://github.com/${e.user}/${e.repo}`;else throw Error("You need to specify either the `repoUrl` option or both the `user` and `repo` options");let r=new URL(`${t}/issues/new`);for(let t of["body","title","labels","template","milestone","assignee","projects"]){let n=e[t];if(void 0!==n){if("labels"===t||"projects"===t){if(!Array.isArray(n))throw TypeError(`The \`${t}\` option should be an array`);n=n.join(",")}r.searchParams.set(t,n)}}return r.toString()},t.exports.default=t.exports}),Ai=Z((e,t)=>{t.exports=function(){function e(e,t,r,n,i){return e<t||r<t?e>r?r+1:e+1:n===i?t:t+1}return function(t,r){if(t===r)return 0;if(t.length>r.length){var n=t;t=r,r=n}for(var i=t.length,a=r.length;i>0&&t.charCodeAt(i-1)===r.charCodeAt(a-1);)i--,a--;for(var s=0;s<i&&t.charCodeAt(s)===r.charCodeAt(s);)s++;if(i-=s,a-=s,0===i||a<3)return a;var o,l,c,u,d,f,h,p,m,g,y,w,b=0,v=[];for(o=0;o<i;o++)v.push(o+1),v.push(t.charCodeAt(s+o));for(var _=v.length-1;b<a-3;)for(m=r.charCodeAt(s+(l=b)),g=r.charCodeAt(s+(c=b+1)),y=r.charCodeAt(s+(u=b+2)),w=r.charCodeAt(s+(d=b+3)),f=b+=4,o=0;o<_;o+=2)l=e(h=v[o],l,c,m,p=v[o+1]),c=e(l,c,u,g,p),u=e(c,u,d,y,p),f=e(u,d,f,w,p),v[o]=f,d=u,u=c,c=l,l=h;for(;b<a;)for(m=r.charCodeAt(s+(l=b)),f=++b,o=0;o<_;o+=2)h=v[o],v[o]=f=e(h,l,f,m,v[o+1]),l=h;return f}}()}),Nm={};Ut(Nm,{Debug:()=>Gn,Decimal:()=>xe,Extensions:()=>jn,MetricsClient:()=>Dt,NotFoundError:()=>Le,PrismaClientInitializationError:()=>R,PrismaClientKnownRequestError:()=>V,PrismaClientRustPanicError:()=>le,PrismaClientUnknownRequestError:()=>B,PrismaClientValidationError:()=>J,Public:()=>Vn,Sql:()=>oe,defineDmmfProperty:()=>ua,deserializeJsonResponse:()=>wt,dmmfToRuntimeDataModel:()=>la,empty:()=>ma,getPrismaClient:()=>Yl,getRuntime:()=>In,join:()=>da,makeStrictEnum:()=>Zl,makeTypedQueryFactory:()=>ca,objectEnumValues:()=>yn,raw:()=>ji,serializeJsonQuery:()=>vn,skip:()=>Pn,sqltag:()=>Vi,warnEnvConflicts:()=>Xl,warnOnce:()=>tr}),module.exports=ou(Nm);var jn={};function yo(e){return"function"==typeof e?e:t=>t.$extends(e)}function bo(e){return e}Ut(jn,{defineExtension:()=>yo,getExtensionContext:()=>bo});var Vn={};function Eo(...e){return e=>e}Ut(Vn,{validator:()=>Eo});var Mr={};Ut(Mr,{$:()=>To,bgBlack:()=>gu,bgBlue:()=>Eu,bgCyan:()=>xu,bgGreen:()=>yu,bgMagenta:()=>wu,bgRed:()=>hu,bgWhite:()=>Pu,bgYellow:()=>bu,black:()=>pu,blue:()=>rt,bold:()=>H,cyan:()=>De,dim:()=>Oe,gray:()=>Gt,green:()=>qe,grey:()=>fu,hidden:()=>uu,inverse:()=>lu,italic:()=>au,magenta:()=>du,red:()=>ce,reset:()=>su,strikethrough:()=>cu,underline:()=>X,white:()=>mu,yellow:()=>ke});var Bn,wo,xo,Po,vo=!0;"u">typeof process&&({FORCE_COLOR:Bn,NODE_DISABLE_COLORS:wo,NO_COLOR:xo,TERM:Po}=process.env||{},vo=process.stdout&&process.stdout.isTTY);var To={enabled:!wo&&null==xo&&"dumb"!==Po&&(null!=Bn&&"0"!==Bn||vo)};function M(e,t){let r=RegExp(`\\x1b\\[${t}m`,"g"),n=`\x1b[${e}m`,i=`\x1b[${t}m`;return function(e){return To.enabled&&null!=e?n+(~(""+e).indexOf(i)?e.replace(r,i+n):e)+i:e}}var su=M(0,0),H=M(1,22),Oe=M(2,22),au=M(3,23),X=M(4,24),lu=M(7,27),uu=M(8,28),cu=M(9,29),pu=M(30,39),ce=M(31,39),qe=M(32,39),ke=M(33,39),rt=M(34,39),du=M(35,39),De=M(36,39),mu=M(37,39),Gt=M(90,39),fu=M(90,39),gu=M(40,49),hu=M(41,49),yu=M(42,49),bu=M(43,49),Eu=M(44,49),wu=M(45,49),xu=M(46,49),Pu=M(47,49),vu=100,Ro=["green","yellow","blue","magenta","cyan","red"],Qt=[],Co=Date.now(),Tu=0,Un="u">typeof process?process.env:{};globalThis.DEBUG??=Un.DEBUG??"",globalThis.DEBUG_COLORS??=!Un.DEBUG_COLORS||"true"===Un.DEBUG_COLORS;var Jt={enable(e){"string"==typeof e&&(globalThis.DEBUG=e)},disable(){let e=globalThis.DEBUG;return globalThis.DEBUG="",e},enabled(e){let t=globalThis.DEBUG.split(",").map(e=>e.replace(/[.+?^${}()|[\]\\]/g,"\\$&")),r=t.some(t=>""!==t&&"-"!==t[0]&&e.match(RegExp(t.split("*").join(".*")+"$"))),n=t.some(t=>""!==t&&"-"===t[0]&&e.match(RegExp(t.slice(1).split("*").join(".*")+"$")));return r&&!n},log:(...e)=>{let[t,r,...n]=e;(console.warn??console.log)(`${t} ${r}`,...n)},formatters:{}};function Ru(e){let t={color:Ro[Tu++%Ro.length],enabled:Jt.enabled(e),namespace:e,log:Jt.log,extend:()=>{}},r=(...e)=>{let{enabled:r,namespace:n,color:i,log:a}=t;if(0!==e.length&&Qt.push([n,...e]),Qt.length>vu&&Qt.shift(),Jt.enabled(n)||r){let t=e.map(e=>"string"==typeof e?e:Cu(e)),r=`+${Date.now()-Co}ms`;Co=Date.now(),globalThis.DEBUG_COLORS?a(Mr[i](H(n)),...t,Mr[i](r)):a(n,...t,r)}};return new Proxy(r,{get:(e,r)=>t[r],set:(e,r,n)=>t[r]=n})}var Gn=new Proxy(Ru,{get:(e,t)=>Jt[t],set:(e,t,r)=>Jt[t]=r});function Cu(e,t=2){let r=new Set;return JSON.stringify(e,(e,t)=>{if("object"==typeof t&&null!==t){if(r.has(t))return"[Circular *]";r.add(t)}else if("bigint"==typeof t)return t.toString();return t},t)}function So(e=7500){let t=Qt.map(([e,...t])=>`${e} ${t.map(e=>"string"==typeof e?e:JSON.stringify(e)).join(" ")}`).join(`
`);return t.length<e?t:t.slice(-e)}function Ao(){Qt.length=0}var L=Gn,Io=k(__webpack_require__(7147));function Qn(){let e=process.env.PRISMA_QUERY_ENGINE_LIBRARY;if(!(e&&Io.default.existsSync(e))&&"ia32"===process.arch)throw Error('The default query engine type (Node-API, "library") is currently not supported for 32bit Node. Please set `engineType = "binary"` in the "generator" block of your "schema.prisma" file (or use the environment variables "PRISMA_CLIENT_ENGINE_TYPE=binary" and/or "PRISMA_CLI_QUERY_ENGINE_TYPE=binary".)')}var Jn=["darwin","darwin-arm64","debian-openssl-1.0.x","debian-openssl-1.1.x","debian-openssl-3.0.x","rhel-openssl-1.0.x","rhel-openssl-1.1.x","rhel-openssl-3.0.x","linux-arm64-openssl-1.1.x","linux-arm64-openssl-1.0.x","linux-arm64-openssl-3.0.x","linux-arm-openssl-1.1.x","linux-arm-openssl-1.0.x","linux-arm-openssl-3.0.x","linux-musl","linux-musl-openssl-3.0.x","linux-musl-arm64-openssl-1.1.x","linux-musl-arm64-openssl-3.0.x","linux-nixos","linux-static-x64","linux-static-arm64","windows","freebsd11","freebsd12","freebsd13","freebsd14","freebsd15","openbsd","netbsd","arm"],$r="libquery_engine";function qr(e,t){let r="url"===t;return e.includes("windows")?r?"query_engine.dll.node":`query_engine-${e}.dll.node`:e.includes("darwin")?r?`${$r}.dylib.node`:`${$r}-${e}.dylib.node`:r?`${$r}.so.node`:`${$r}-${e}.so.node`}var _o=k(__webpack_require__(2081)),zn=k(__webpack_require__(3292)),Gr=k(__webpack_require__(2037)),_e=Symbol.for("@ts-pattern/matcher"),Su=Symbol.for("@ts-pattern/isVariadic"),Vr="@ts-pattern/anonymous-select-key",Wn=e=>!!(e&&"object"==typeof e),jr=e=>e&&!!e[_e],Ee=(e,t,r)=>{if(jr(e)){let{matched:n,selections:i}=e[_e]().match(t);return n&&i&&Object.keys(i).forEach(e=>r(e,i[e])),n}if(Wn(e)){if(!Wn(t))return!1;if(Array.isArray(e)){if(!Array.isArray(t))return!1;let n=[],i=[],a=[];for(let t of e.keys()){let r=e[t];jr(r)&&r[Su]?a.push(r):a.length?i.push(r):n.push(r)}if(a.length){if(a.length>1)throw Error("Pattern error: Using `...P.array(...)` several times in a single pattern is not allowed.");if(t.length<n.length+i.length)return!1;let e=t.slice(0,n.length),s=0===i.length?[]:t.slice(-i.length),o=t.slice(n.length,0===i.length?1/0:-i.length);return n.every((t,n)=>Ee(t,e[n],r))&&i.every((e,t)=>Ee(e,s[t],r))&&(0===a.length||Ee(a[0],o,r))}return e.length===t.length&&e.every((e,n)=>Ee(e,t[n],r))}return Object.keys(e).every(n=>{var i;let a=e[n];return(n in t||jr(i=a)&&"optional"===i[_e]().matcherType)&&Ee(a,t[n],r)})}return Object.is(t,e)},Ge=e=>{var t,r,n;return Wn(e)?jr(e)?null!=(t=null==(r=(n=e[_e]()).getSelectionKeys)?void 0:r.call(n))?t:[]:Array.isArray(e)?Wt(e,Ge):Wt(Object.values(e),Ge):[]},Wt=(e,t)=>e.reduce((e,r)=>e.concat(t(r)),[]);function pe(e){return Object.assign(e,{optional:()=>Au(e),and:t=>j(e,t),or:t=>Iu(e,t),select:t=>void 0===t?Oo(e):Oo(t,e)})}function Au(e){return pe({[_e]:()=>({match:t=>{let r={},n=(e,t)=>{r[e]=t};return void 0===t?(Ge(e).forEach(e=>n(e,void 0)),{matched:!0,selections:r}):{matched:Ee(e,t,n),selections:r}},getSelectionKeys:()=>Ge(e),matcherType:"optional"})})}function j(...e){return pe({[_e]:()=>({match:t=>{let r={},n=(e,t)=>{r[e]=t};return{matched:e.every(e=>Ee(e,t,n)),selections:r}},getSelectionKeys:()=>Wt(e,Ge),matcherType:"and"})})}function Iu(...e){return pe({[_e]:()=>({match:t=>{let r={},n=(e,t)=>{r[e]=t};return Wt(e,Ge).forEach(e=>n(e,void 0)),{matched:e.some(e=>Ee(e,t,n)),selections:r}},getSelectionKeys:()=>Wt(e,Ge),matcherType:"or"})})}function I(e){return{[_e]:()=>({match:t=>({matched:!!e(t)})})}}function Oo(...e){let t="string"==typeof e[0]?e[0]:void 0,r=2===e.length?e[1]:"string"==typeof e[0]?void 0:e[0];return pe({[_e]:()=>({match:e=>{let n={[t??Vr]:e};return{matched:void 0===r||Ee(r,e,(e,t)=>{n[e]=t}),selections:n}},getSelectionKeys:()=>[t??Vr].concat(void 0===r?[]:Ge(r))})})}function ye(e){return"number"==typeof e}function je(e){return"string"==typeof e}function Ve(e){return"bigint"==typeof e}var Km=pe(I(function(e){return!0})),Be=e=>Object.assign(pe(e),{startsWith:t=>{var r;return Be(j(e,(r=t,I(e=>je(e)&&e.startsWith(r)))))},endsWith:t=>{var r;return Be(j(e,(r=t,I(e=>je(e)&&e.endsWith(r)))))},minLength:t=>{var r;return Be(j(e,(r=t,I(e=>je(e)&&e.length>=r))))},length:t=>{var r;return Be(j(e,(r=t,I(e=>je(e)&&e.length===r))))},maxLength:t=>{var r;return Be(j(e,(r=t,I(e=>je(e)&&e.length<=r))))},includes:t=>{var r;return Be(j(e,(r=t,I(e=>je(e)&&e.includes(r)))))},regex:t=>{var r;return Be(j(e,(r=t,I(e=>je(e)&&!!e.match(r)))))}}),zm=Be(I(je)),be=e=>Object.assign(pe(e),{between:(t,r)=>{var n,i;return be(j(e,(n=t,i=r,I(e=>ye(e)&&n<=e&&i>=e))))},lt:t=>{var r;return be(j(e,(r=t,I(e=>ye(e)&&e<r))))},gt:t=>{var r;return be(j(e,(r=t,I(e=>ye(e)&&e>r))))},lte:t=>{var r;return be(j(e,(r=t,I(e=>ye(e)&&e<=r))))},gte:t=>{var r;return be(j(e,(r=t,I(e=>ye(e)&&e>=r))))},int:()=>be(j(e,I(e=>ye(e)&&Number.isInteger(e)))),finite:()=>be(j(e,I(e=>ye(e)&&Number.isFinite(e)))),positive:()=>be(j(e,I(e=>ye(e)&&e>0))),negative:()=>be(j(e,I(e=>ye(e)&&e<0)))}),Ym=be(I(ye)),Ue=e=>Object.assign(pe(e),{between:(t,r)=>{var n,i;return Ue(j(e,(n=t,i=r,I(e=>Ve(e)&&n<=e&&i>=e))))},lt:t=>{var r;return Ue(j(e,(r=t,I(e=>Ve(e)&&e<r))))},gt:t=>{var r;return Ue(j(e,(r=t,I(e=>Ve(e)&&e>r))))},lte:t=>{var r;return Ue(j(e,(r=t,I(e=>Ve(e)&&e<=r))))},gte:t=>{var r;return Ue(j(e,(r=t,I(e=>Ve(e)&&e>=r))))},positive:()=>Ue(j(e,I(e=>Ve(e)&&e>0))),negative:()=>Ue(j(e,I(e=>Ve(e)&&e<0)))}),Zm=Ue(I(Ve)),Xm=pe(I(function(e){return"boolean"==typeof e})),ef=pe(I(function(e){return"symbol"==typeof e})),tf=pe(I(function(e){return null==e})),rf=pe(I(function(e){return null!=e})),Hn={matched:!1,value:void 0};function mt(e){return new Kn(e,Hn)}var Kn=class e{constructor(e,t){this.input=void 0,this.state=void 0,this.input=e,this.state=t}with(...t){if(this.state.matched)return this;let r=t[t.length-1],n=[t[0]],i;3===t.length&&"function"==typeof t[1]?i=t[1]:t.length>2&&n.push(...t.slice(1,t.length-1));let a=!1,s={},o=(t,r)=>{a=!0,s[t]=r},l=n.some(t=>Ee(t,this.input,o))&&(!i||i(this.input))?{matched:!0,value:r(a?Vr in s?s[Vr]:s:this.input,this.input)}:Hn;return new e(this.input,l)}when(t,r){if(this.state.matched)return this;let n=!!t(this.input);return new e(this.input,n?{matched:!0,value:r(this.input,this.input)}:Hn)}otherwise(e){return this.state.matched?this.state.value:e(this.input)}exhaustive(){let e;if(this.state.matched)return this.state.value;try{e=JSON.stringify(this.input)}catch{e=this.input}throw Error(`Pattern matching error: no pattern matches value ${e}`)}run(){return this.exhaustive()}returnType(){return this}},Fo=__webpack_require__(3837),Ou={warn:ke("prisma:warn")},ku={};function Br(e,...t){process.env.PRISMA_DISABLE_WARNINGS||console.warn(`${Ou.warn} ${e}`,...t)}var Du=(0,Fo.promisify)(_o.default.exec),te=L("prisma:get-platform"),_u=["1.0.x","1.1.x","3.0.x"];async function Lo(){let e=Gr.default.platform(),t=process.arch;if("freebsd"===e){let e=await Qr("freebsd-version");if(e&&e.trim().length>0){let r=/^(\d+)\.?/.exec(e);if(r)return{platform:"freebsd",targetDistro:`freebsd${r[1]}`,arch:t}}}if("linux"!==e)return{platform:e,arch:t};let r=await Lu(),n=await Uu(),i=Mu({arch:t,archFromUname:n,familyDistro:r.familyDistro}),{libssl:a}=await $u(i);return{platform:"linux",libssl:a,arch:t,archFromUname:n,...r}}function Fu(e){let t=/^ID_LIKE="?([^"\n]*)"?$/im,r=/^ID="?([^"\n]*)"?$/im.exec(e),n=r&&r[1]&&r[1].toLowerCase()||"",i=t.exec(e),a=mt({id:n,idLike:i&&i[1]&&i[1].toLowerCase()||""}).with({id:"alpine"},({id:e})=>({targetDistro:"musl",familyDistro:e,originalDistro:e})).with({id:"raspbian"},({id:e})=>({targetDistro:"arm",familyDistro:"debian",originalDistro:e})).with({id:"nixos"},({id:e})=>({targetDistro:"nixos",originalDistro:e,familyDistro:"nixos"})).with({id:"debian"},{id:"ubuntu"},({id:e})=>({targetDistro:"debian",familyDistro:"debian",originalDistro:e})).with({id:"rhel"},{id:"centos"},{id:"fedora"},({id:e})=>({targetDistro:"rhel",familyDistro:"rhel",originalDistro:e})).when(({idLike:e})=>e.includes("debian")||e.includes("ubuntu"),({id:e})=>({targetDistro:"debian",familyDistro:"debian",originalDistro:e})).when(({idLike:e})=>"arch"===n||e.includes("arch"),({id:e})=>({targetDistro:"debian",familyDistro:"arch",originalDistro:e})).when(({idLike:e})=>e.includes("centos")||e.includes("fedora")||e.includes("rhel")||e.includes("suse"),({id:e})=>({targetDistro:"rhel",familyDistro:"rhel",originalDistro:e})).otherwise(({id:e})=>({targetDistro:void 0,familyDistro:void 0,originalDistro:e}));return te(`Found distro info:
${JSON.stringify(a,null,2)}`),a}async function Lu(){let e="/etc/os-release";try{let t=await zn.default.readFile(e,{encoding:"utf-8"});return Fu(t)}catch{return{targetDistro:void 0,familyDistro:void 0,originalDistro:void 0}}}function Nu(e){let t=/^OpenSSL\s(\d+\.\d+)\.\d+/.exec(e);if(t)return No(`${t[1]}.x`)}function ko(e){let t=/libssl\.so\.(\d)(\.\d)?/.exec(e);if(t)return No(`${t[1]}${t[2]??".0"}.x`)}function No(e){let t=(()=>{if($o(e))return e;let t=e.split(".");return t[1]="0",t.join(".")})();if(_u.includes(t))return t}function Mu(e){return mt(e).with({familyDistro:"musl"},()=>(te('Trying platform-specific paths for "alpine"'),["/lib"])).with({familyDistro:"debian"},({archFromUname:e})=>(te('Trying platform-specific paths for "debian" (and "ubuntu")'),[`/usr/lib/${e}-linux-gnu`,`/lib/${e}-linux-gnu`])).with({familyDistro:"rhel"},()=>(te('Trying platform-specific paths for "rhel"'),["/lib64","/usr/lib64"])).otherwise(({familyDistro:e,arch:t,archFromUname:r})=>(te(`Don't know any platform-specific paths for "${e}" on ${t} (${r})`),[]))}async function $u(e){let t='grep -v "libssl.so.0"',r=await Do(e);if(r){te(`Found libssl.so file using platform-specific paths: ${r}`);let e=ko(r);if(te(`The parsed libssl version is: ${e}`),e)return{libssl:e,strategy:"libssl-specific-path"}}te('Falling back to "ldconfig" and other generic paths');let n=await Qr(`ldconfig -p | sed "s/.*=>s*//" | sed "s|.*/||" | grep libssl | sort | ${t}`);if(n||(n=await Do(["/lib64","/usr/lib64","/lib"])),n){te(`Found libssl.so file using "ldconfig" or other generic paths: ${n}`);let e=ko(n);if(te(`The parsed libssl version is: ${e}`),e)return{libssl:e,strategy:"ldconfig"}}let i=await Qr("openssl version -v");if(i){te(`Found openssl binary with version: ${i}`);let e=Nu(i);if(te(`The parsed openssl version is: ${e}`),e)return{libssl:e,strategy:"openssl-binary"}}return te("Couldn't find any version of libssl or OpenSSL in the system"),{}}async function Do(e){for(let t of e){let e=await qu(t);if(e)return e}}async function qu(e){try{return(await zn.default.readdir(e)).find(e=>e.startsWith("libssl.so.")&&!e.startsWith("libssl.so.0"))}catch(e){if("ENOENT"===e.code)return;throw e}}async function nt(){let{binaryTarget:e}=await Mo();return e}function ju(e){return void 0!==e.binaryTarget}async function Yn(){let{memoized:e,...t}=await Mo();return t}var Ur={};async function Mo(){if(ju(Ur))return Promise.resolve({...Ur,memoized:!0});let e=await Lo(),t=Vu(e);return{...Ur={...e,binaryTarget:t},memoized:!1}}function Vu(e){let{platform:t,arch:r,archFromUname:n,libssl:i,targetDistro:a,familyDistro:s,originalDistro:o}=e;"linux"!==t||["x64","arm64"].includes(r)||Br(`Prisma only officially supports Linux on amd64 (x86_64) and arm64 (aarch64) system architectures (detected "${r}" instead). If you are using your own custom Prisma engines, you can ignore this warning, as long as you've compiled the engines for your system architecture "${n}".`);let l="1.1.x";if("linux"===t&&void 0===i){let e=mt({familyDistro:s}).with({familyDistro:"debian"},()=>"Please manually install OpenSSL via `apt-get update -y && apt-get install -y openssl` and try installing Prisma again. If you're running Prisma on Docker, add this command to your Dockerfile, or switch to an image that already has OpenSSL installed.").otherwise(()=>"Please manually install OpenSSL and try installing Prisma again.");Br(`Prisma failed to detect the libssl/openssl version to use, and may not work as expected. Defaulting to "openssl-${l}".
${e}`)}let c="debian";if("linux"===t&&void 0===a&&te(`Distro is "${o}". Falling back to Prisma engines built for "${c}".`),"darwin"===t&&"arm64"===r)return"darwin-arm64";if("darwin"===t)return"darwin";if("win32"===t)return"windows";if("freebsd"===t)return a;if("openbsd"===t)return"openbsd";if("netbsd"===t)return"netbsd";if("linux"===t&&"nixos"===a)return"linux-nixos";if("linux"===t&&"arm64"===r)return`${"musl"===a?"linux-musl-arm64":"linux-arm64"}-openssl-${i||l}`;if("linux"===t&&"arm"===r)return`linux-arm-openssl-${i||l}`;if("linux"===t&&"musl"===a){let e="linux-musl";return!i||$o(i)?e:`${e}-openssl-${i}`}return"linux"===t&&a&&i?`${a}-openssl-${i}`:("linux"!==t&&Br(`Prisma detected unknown OS "${t}" and may not work as expected. Defaulting to "linux".`),i?`${c}-openssl-${i}`:a?`${a}-openssl-${l}`:`${c}-openssl-${l}`)}async function Bu(e){try{return await e()}catch{return}}function Qr(e){return Bu(async()=>{let t=await Du(e);return te(`Command "${e}" successfully returned "${t.stdout}"`),t.stdout})}async function Uu(){return"function"==typeof Gr.default.machine?Gr.default.machine():(await Qr("uname -m"))?.trim()}function $o(e){return e.startsWith("1.")}var zo=k(Ko());function ii(e){return(0,zo.default)(e,e,{fallback:X})}var Ku=k(si()),$=k(__webpack_require__(1017)),zu=k(si()),Lf=L("prisma:engines");function Yo(){return $.default.join(__dirname,"../")}var Nf="libquery-engine";$.default.join(__dirname,"../query-engine-darwin"),$.default.join(__dirname,"../query-engine-darwin-arm64"),$.default.join(__dirname,"../query-engine-debian-openssl-1.0.x"),$.default.join(__dirname,"../query-engine-debian-openssl-1.1.x"),$.default.join(__dirname,"../query-engine-debian-openssl-3.0.x"),$.default.join(__dirname,"../query-engine-linux-static-x64"),$.default.join(__dirname,"../query-engine-linux-static-arm64"),$.default.join(__dirname,"../query-engine-rhel-openssl-1.0.x"),$.default.join(__dirname,"../query-engine-rhel-openssl-1.1.x"),$.default.join(__dirname,"../query-engine-rhel-openssl-3.0.x"),$.default.join(__dirname,"../libquery_engine-darwin.dylib.node"),$.default.join(__dirname,"../libquery_engine-darwin-arm64.dylib.node"),$.default.join(__dirname,"../libquery_engine-debian-openssl-1.0.x.so.node"),$.default.join(__dirname,"../libquery_engine-debian-openssl-1.1.x.so.node"),$.default.join(__dirname,"../libquery_engine-debian-openssl-3.0.x.so.node"),$.default.join(__dirname,"../libquery_engine-linux-arm64-openssl-1.0.x.so.node"),$.default.join(__dirname,"../libquery_engine-linux-arm64-openssl-1.1.x.so.node"),$.default.join(__dirname,"../libquery_engine-linux-arm64-openssl-3.0.x.so.node"),$.default.join(__dirname,"../libquery_engine-linux-musl.so.node"),$.default.join(__dirname,"../libquery_engine-linux-musl-openssl-3.0.x.so.node"),$.default.join(__dirname,"../libquery_engine-rhel-openssl-1.0.x.so.node"),$.default.join(__dirname,"../libquery_engine-rhel-openssl-1.1.x.so.node"),$.default.join(__dirname,"../libquery_engine-rhel-openssl-3.0.x.so.node"),$.default.join(__dirname,"../query_engine-windows.dll.node");var ai=k(__webpack_require__(7147)),Zo=L("chmodPlusX");function li(e){if("win32"===process.platform)return;let t=ai.default.statSync(e),r=73|t.mode;if(t.mode===r){Zo(`Execution permissions of ${e} are fine`);return}let n=r.toString(8).slice(-3);Zo(`Have to call chmodPlusX on ${e}`),ai.default.chmodSync(e,n)}function ui(e){let t=e.e,r=e=>`Prisma cannot find the required \`${e}\` system library in your system`,n=t.message.includes("cannot open shared object file"),i=`Please refer to the documentation about Prisma's system requirements: ${ii("https://pris.ly/d/system-requirements")}`,a=`Unable to require(\`${Oe(e.id)}\`).`,s=mt({message:t.message,code:t.code}).with({code:"ENOENT"},()=>"File does not exist.").when(({message:e})=>n&&e.includes("libz"),()=>`${r("libz")}. Please install it and try again.`).when(({message:e})=>n&&e.includes("libgcc_s"),()=>`${r("libgcc_s")}. Please install it and try again.`).when(({message:e})=>n&&e.includes("libssl"),()=>{let t=e.platformInfo.libssl?`openssl-${e.platformInfo.libssl}`:"openssl";return`${r("libssl")}. Please install ${t} and try again.`}).when(({message:e})=>e.includes("GLIBC"),()=>`Prisma has detected an incompatible version of the \`glibc\` C standard library installed in your system. This probably means your system may be too old to run Prisma. ${i}`).when(({message:t})=>"linux"===e.platformInfo.platform&&t.includes("symbol not found"),()=>`The Prisma engines are not compatible with your system ${e.platformInfo.originalDistro} on (${e.platformInfo.archFromUname}) which uses the \`${e.platformInfo.binaryTarget}\` binaryTarget by default. ${i}`).otherwise(()=>`The Prisma engines do not seem to be compatible with your system. ${i}`);return`${a}
${s}

Details: ${t.message}`}var di=k(ts()),zr=k(__webpack_require__(7147)),ht=k(__webpack_require__(1017));function rs(e){let t=e.ignoreProcessEnv?{}:process.env,r=n=>n.match(/(.?\${(?:[a-zA-Z0-9_]+)?})/g)?.reduce(function(n,i){let a=/(.?)\${([a-zA-Z0-9_]+)?}/g.exec(i);if(!a)return n;let s=a[1],o,l;if("\\"===s)o=(l=a[0]).replace("\\$","$");else{let n=a[2];l=a[0].substring(s.length),o=r(o=Object.hasOwnProperty.call(t,n)?t[n]:e.parsed[n]||"")}return n.replace(l,o)},n)??n;for(let n in e.parsed){let i=Object.hasOwnProperty.call(t,n)?t[n]:e.parsed[n];e.parsed[n]=r(i)}for(let r in e.parsed)t[r]=e.parsed[r];return e}var pi=L("prisma:tryLoadEnv");function zt({rootEnvPath:e,schemaEnvPath:t},r={conflictCheck:"none"}){let n=ns(e);"none"!==r.conflictCheck&&sc(n,t,r.conflictCheck);let i=null;return is(n?.path,t)||(i=ns(t)),n||i||pi("No Environment variables loaded"),i?.dotenvResult.error?console.error(ce(H("Schema Env Error: "))+i.dotenvResult.error):{message:[n?.message,i?.message].filter(Boolean).join(`
`),parsed:{...n?.dotenvResult?.parsed,...i?.dotenvResult?.parsed}}}function sc(e,t,r){let n=e?.dotenvResult.parsed,i=!is(e?.path,t);if(n&&t&&i&&zr.default.existsSync(t)){let i=di.default.parse(zr.default.readFileSync(t)),a=[];for(let e in i)n[e]===i[e]&&a.push(e);if(a.length>0){let n=ht.default.relative(process.cwd(),e.path),i=ht.default.relative(process.cwd(),t);if("error"===r)throw Error(`There is a conflict between env var${a.length>1?"s":""} in ${X(n)} and ${X(i)}
Conflicting env vars:
${a.map(e=>`  ${H(e)}`).join(`
`)}

We suggest to move the contents of ${X(i)} to ${X(n)} to consolidate your env vars.
`);if("warn"===r){let e=`Conflict for env var${a.length>1?"s":""} ${a.map(e=>H(e)).join(", ")} in ${X(n)} and ${X(i)}
Env vars from ${X(i)} overwrite the ones from ${X(n)}
      `;console.warn(`${ke("warn(prisma)")} ${e}`)}}}}function ns(e){return ac(e)?(pi(`Environment variables loaded from ${e}`),{dotenvResult:rs(di.default.config({path:e,debug:!!process.env.DOTENV_CONFIG_DEBUG||void 0})),message:Oe(`Environment variables loaded from ${ht.default.relative(process.cwd(),e)}`),path:e}):(pi(`Environment variables not found at ${e}`),null)}function is(e,t){return e&&t&&ht.default.resolve(e)===ht.default.resolve(t)}function ac(e){return!!(e&&zr.default.existsSync(e))}var os="library";function Yt(e){return lc()||(e?.config.engineType==="library"?"library":e?.config.engineType==="binary"?"binary":os)}function lc(){let e=process.env.PRISMA_CLIENT_ENGINE_TYPE;return"library"===e?"library":"binary"===e?"binary":void 0}(e=>{var t;let r;(t=r=e.ModelAction||={}).findUnique="findUnique",t.findUniqueOrThrow="findUniqueOrThrow",t.findFirst="findFirst",t.findFirstOrThrow="findFirstOrThrow",t.findMany="findMany",t.create="create",t.createMany="createMany",t.createManyAndReturn="createManyAndReturn",t.update="update",t.updateMany="updateMany",t.upsert="upsert",t.delete="delete",t.deleteMany="deleteMany",t.groupBy="groupBy",t.count="count",t.aggregate="aggregate",t.findRaw="findRaw",t.aggregateRaw="aggregateRaw"})(Je||={});var Zt=k(__webpack_require__(1017));function mi(e){return Zt.default.sep===Zt.default.posix.sep?e:e.split(Zt.default.sep).join(Zt.default.posix.sep)}var ps=k(fi());function hi(e){return String(new gi(e))}var gi=class{constructor(e){this.config=e}toString(){let{config:e}=this,t=JSON.parse(JSON.stringify({provider:e.provider.fromEnvVar?`env("${e.provider.fromEnvVar}")`:e.provider.value,binaryTargets:cc(e.binaryTargets)}));return`generator ${e.name} {
${(0,ps.default)(pc(t),2)}
}`}};function cc(e){let t;if(e.length>0){let r=e.find(e=>null!==e.fromEnvVar);t=r?`env("${r.fromEnvVar}")`:e.map(e=>e.native?"native":e.value)}else t=void 0;return t}function pc(e){let t=Object.keys(e).reduce((e,t)=>Math.max(e,t.length),0);return Object.entries(e).map(([e,r])=>`${e.padEnd(t)} = ${dc(r)}`).join(`
`)}function dc(e){return JSON.parse(JSON.stringify(e,(e,t)=>Array.isArray(t)?`[${t.map(e=>JSON.stringify(e)).join(", ")}]`:JSON.stringify(t)))}var er={};Ut(er,{error:()=>gc,info:()=>fc,log:()=>mc,query:()=>hc,should:()=>ds,tags:()=>Xt,warn:()=>yi});var Xt={error:ce("prisma:error"),warn:ke("prisma:warn"),info:De("prisma:info"),query:rt("prisma:query")},ds={warn:()=>!process.env.PRISMA_DISABLE_WARNINGS};function mc(...e){console.log(...e)}function yi(e,...t){ds.warn()&&console.warn(`${Xt.warn} ${e}`,...t)}function fc(e,...t){console.info(`${Xt.info} ${e}`,...t)}function gc(e,...t){console.error(`${Xt.error} ${e}`,...t)}function hc(e,...t){console.log(`${Xt.query} ${e}`,...t)}function Yr(e,t){if(!e)throw Error(`${t}. This should never happen. If you see this error, please, open an issue at https://pris.ly/prisma-prisma-bug-report`)}function Fe(e,t){throw Error(t)}function Ei(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var wi=(e,t)=>e.reduce((e,r)=>(e[t(r)]=r,e),{});function yt(e,t){let r={};for(let n of Object.keys(e))r[n]=t(e[n],n);return r}function xi(e,t){if(0===e.length)return;let r=e[0];for(let n=1;n<e.length;n++)0>t(r,e[n])&&(r=e[n]);return r}function w(e,t){Object.defineProperty(e,"name",{value:t,configurable:!0})}var ys=new Set,tr=(e,t,...r)=>{ys.has(e)||(ys.add(e),yi(t,...r))},V=class extends Error{constructor(e,{code:t,clientVersion:r,meta:n,batchRequestIdx:i}){super(e),this.name="PrismaClientKnownRequestError",this.code=t,this.clientVersion=r,this.meta=n,Object.defineProperty(this,"batchRequestIdx",{value:i,enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return"PrismaClientKnownRequestError"}};w(V,"PrismaClientKnownRequestError");var Le=class extends V{constructor(e,t){super(e,{code:"P2025",clientVersion:t}),this.name="NotFoundError"}};w(Le,"NotFoundError");var R=class e extends Error{constructor(t,r,n){super(t),this.name="PrismaClientInitializationError",this.clientVersion=r,this.errorCode=n,Error.captureStackTrace(e)}get[Symbol.toStringTag](){return"PrismaClientInitializationError"}};w(R,"PrismaClientInitializationError");var le=class extends Error{constructor(e,t){super(e),this.name="PrismaClientRustPanicError",this.clientVersion=t}get[Symbol.toStringTag](){return"PrismaClientRustPanicError"}};w(le,"PrismaClientRustPanicError");var B=class extends Error{constructor(e,{clientVersion:t,batchRequestIdx:r}){super(e),this.name="PrismaClientUnknownRequestError",this.clientVersion=t,Object.defineProperty(this,"batchRequestIdx",{value:r,writable:!0,enumerable:!1})}get[Symbol.toStringTag](){return"PrismaClientUnknownRequestError"}};w(B,"PrismaClientUnknownRequestError");var J=class extends Error{constructor(e,{clientVersion:t}){super(e),this.name="PrismaClientValidationError",this.clientVersion=t}get[Symbol.toStringTag](){return"PrismaClientValidationError"}};w(J,"PrismaClientValidationError");var Je,xs,Ne,bt=9e15,ze=1e9,Pi="0123456789abcdef",tn="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",rn="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",vi={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-bt,maxE:bt,crypto:!1},x=!0,on="[DecimalError] ",Ke=on+"Invalid argument: ",Ps=on+"Precision limit exceeded",vs=on+"crypto unavailable",Ts="[object Decimal]",ee=Math.floor,G=Math.pow,bc=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Ec=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,wc=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Rs=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ge=1e7,b=7,xc=9007199254740991,Pc=tn.length-1,Ti=rn.length-1,m={toStringTag:Ts};function K(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)(r=b-(n=e[t]+"").length)&&(a+=We(r)),a+=n;(r=b-(n=(s=e[t])+"").length)&&(a+=We(r))}else if(0===s)return"0";for(;s%10==0;)s/=10;return a+s}function ie(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ke+e)}function rr(e,t,r,n){var i,a,s,o;for(a=e[0];a>=10;a/=10)--t;return--t<0?(t+=b,i=0):(i=Math.ceil((t+1)/b),t%=b),a=G(10,b-t),o=e[i]%a|0,null==n?t<3?(0==t?o=o/100|0:1==t&&(o=o/10|0),s=r<4&&99999==o||r>3&&49999==o||5e4==o||0==o):s=(r<4&&o+1==a||r>3&&o+1==a/2)&&(e[i+1]/a/100|0)==G(10,t-2)-1||(o==a/2||0==o)&&(e[i+1]/a/100|0)==0:t<4?(0==t?o=o/1e3|0:1==t?o=o/100|0:2==t&&(o=o/10|0),s=(n||r<4)&&9999==o||!n&&r>3&&4999==o):s=((n||r<4)&&o+1==a||!n&&r>3&&o+1==a/2)&&(e[i+1]/a/1e3|0)==G(10,t-3)-1,s}function en(e,t,r){for(var n,i,a=[0],s=0,o=e.length;s<o;){for(i=a.length;i--;)a[i]*=t;for(a[0]+=Pi.indexOf(e.charAt(s++)),n=0;n<a.length;n++)a[n]>r-1&&(void 0===a[n+1]&&(a[n+1]=0),a[n+1]+=a[n]/r|0,a[n]%=r)}return a.reverse()}function vc(e,t){var r,n,i;if(t.isZero())return t;(n=t.d.length)<32?i=(1/an(4,r=Math.ceil(n/3))).toString():(r=16,i="2.3283064365386962890625e-10"),e.precision+=r,t=Et(e,1,t.times(i),new e(1));for(var a=r;a--;){var s=t.times(t);t=s.times(s).minus(s).times(8).plus(1)}return e.precision-=r,t}m.absoluteValue=m.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),y(e)},m.ceil=function(){return y(new this.constructor(this),this.e+1,2)},m.clampedTo=m.clamp=function(e,t){var r=this,n=r.constructor;if(e=new n(e),t=new n(t),!e.s||!t.s)return new n(NaN);if(e.gt(t))throw Error(Ke+t);return 0>r.cmp(e)?e:r.cmp(t)>0?t:new n(r)},m.comparedTo=m.cmp=function(e){var t,r,n,i,a=this,s=a.d,o=(e=new a.constructor(e)).d,l=a.s,c=e.s;if(!s||!o)return l&&c?l!==c?l:s===o?0:!s^l<0?1:-1:NaN;if(!s[0]||!o[0])return s[0]?l:o[0]?-c:0;if(l!==c)return l;if(a.e!==e.e)return a.e>e.e^l<0?1:-1;for(n=s.length,i=o.length,t=0,r=n<i?n:i;t<r;++t)if(s[t]!==o[t])return s[t]>o[t]^l<0?1:-1;return n===i?0:n>i^l<0?1:-1},m.cosine=m.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+b,n.rounding=1,r=vc(n,Os(n,r)),n.precision=e,n.rounding=t,y(2==Ne||3==Ne?r.neg():r,e,t,!0)):new n(1):new n(NaN)},m.cubeRoot=m.cbrt=function(){var e,t,r,n,i,a,s,o,l,c,u=this,d=u.constructor;if(!u.isFinite()||u.isZero())return new d(u);for(x=!1,(a=u.s*G(u.s*u,1/3))&&Math.abs(a)!=1/0?n=new d(a.toString()):(r=K(u.d),(a=((e=u.e)-r.length+1)%3)&&(r+=1==a||-2==a?"0":"00"),a=G(r,1/3),e=ee((e+1)/3)-(e%3==(e<0?-1:2)),(n=new d(r=a==1/0?"5e"+e:(r=a.toExponential()).slice(0,r.indexOf("e")+1)+e)).s=u.s),s=(e=d.precision)+3;;)if(n=N((c=(l=(o=n).times(o).times(o)).plus(u)).plus(u).times(o),c.plus(l),s+2,1),K(o.d).slice(0,s)===(r=K(n.d)).slice(0,s)){if("9999"!=(r=r.slice(s-3,s+1))&&(i||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(y(n,e+1,1),t=!n.times(n).times(n).eq(u));break}if(!i&&(y(o,e+1,0),o.times(o).times(o).eq(u))){n=o;break}s+=4,i=1}return x=!0,y(n,e,d.rounding,t)},m.decimalPlaces=m.dp=function(){var e,t=this.d,r=NaN;if(t){if(r=((e=t.length-1)-ee(this.e/b))*b,e=t[e])for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r},m.dividedBy=m.div=function(e){return N(this,new this.constructor(e))},m.dividedToIntegerBy=m.divToInt=function(e){var t=this,r=t.constructor;return y(N(t,new r(e),0,1,1),r.precision,r.rounding)},m.equals=m.eq=function(e){return 0===this.cmp(e)},m.floor=function(){return y(new this.constructor(this),this.e+1,3)},m.greaterThan=m.gt=function(e){return this.cmp(e)>0},m.greaterThanOrEqualTo=m.gte=function(e){var t=this.cmp(e);return 1==t||0===t},m.hyperbolicCosine=m.cosh=function(){var e,t,r,n,i,a=this,s=a.constructor,o=new s(1);if(!a.isFinite())return new s(a.s?1/0:NaN);if(a.isZero())return o;r=s.precision,n=s.rounding,s.precision=r+Math.max(a.e,a.sd())+4,s.rounding=1,(i=a.d.length)<32?t=(1/an(4,e=Math.ceil(i/3))).toString():(e=16,t="2.3283064365386962890625e-10"),a=Et(s,1,a.times(t),new s(1),!0);for(var l,c=e,u=new s(8);c--;)l=a.times(a),a=o.minus(l.times(u.minus(l.times(u))));return y(a,s.precision=r,s.rounding=n,!0)},m.hyperbolicSine=m.sinh=function(){var e,t,r,n,i=this,a=i.constructor;if(!i.isFinite()||i.isZero())return new a(i);if(t=a.precision,r=a.rounding,a.precision=t+Math.max(i.e,i.sd())+4,a.rounding=1,(n=i.d.length)<3)i=Et(a,2,i,i,!0);else{e=(e=1.4*Math.sqrt(n))>16?16:0|e,i=Et(a,2,i=i.times(1/an(5,e)),i,!0);for(var s,o=new a(5),l=new a(16),c=new a(20);e--;)s=i.times(i),i=i.times(o.plus(s.times(l.times(s).plus(c))))}return a.precision=t,a.rounding=r,y(i,t,r,!0)},m.hyperbolicTangent=m.tanh=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+7,n.rounding=1,N(r.sinh(),r.cosh(),n.precision=e,n.rounding=t)):new n(r.s)},m.inverseCosine=m.acos=function(){var e,t=this,r=t.constructor,n=t.abs().cmp(1),i=r.precision,a=r.rounding;return -1!==n?0===n?t.isNeg()?fe(r,i,a):new r(0):new r(NaN):t.isZero()?fe(r,i+4,a).times(.5):(r.precision=i+6,r.rounding=1,t=t.asin(),e=fe(r,i+4,a).times(.5),r.precision=i,r.rounding=a,e.minus(t))},m.inverseHyperbolicCosine=m.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,x=!1,r=r.times(r).minus(1).sqrt().plus(r),x=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)},m.inverseHyperbolicSine=m.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,x=!1,r=r.times(r).plus(1).sqrt().plus(r),x=!0,n.precision=e,n.rounding=t,r.ln())},m.inverseHyperbolicTangent=m.atanh=function(){var e,t,r,n,i=this,a=i.constructor;return i.isFinite()?i.e>=0?new a(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=a.precision,t=a.rounding,Math.max(n=i.sd(),e)<-(2*i.e)-1?y(new a(i),e,t,!0):(a.precision=r=n-i.e,i=N(i.plus(1),new a(1).minus(i),r+e,1),a.precision=e+4,a.rounding=1,i=i.ln(),a.precision=e,a.rounding=t,i.times(.5))):new a(NaN)},m.inverseSine=m.asin=function(){var e,t,r,n,i=this,a=i.constructor;return i.isZero()?new a(i):(t=i.abs().cmp(1),r=a.precision,n=a.rounding,-1!==t?0===t?((e=fe(a,r+4,n).times(.5)).s=i.s,e):new a(NaN):(a.precision=r+6,a.rounding=1,i=i.div(new a(1).minus(i.times(i)).sqrt().plus(1)).atan(),a.precision=r,a.rounding=n,i.times(2)))},m.inverseTangent=m.atan=function(){var e,t,r,n,i,a,s,o,l,c=this,u=c.constructor,d=u.precision,f=u.rounding;if(c.isFinite()){if(c.isZero())return new u(c);if(c.abs().eq(1)&&d+4<=Ti)return(s=fe(u,d+4,f).times(.25)).s=c.s,s}else{if(!c.s)return new u(NaN);if(d+4<=Ti)return(s=fe(u,d+4,f).times(.5)).s=c.s,s}for(u.precision=o=d+10,u.rounding=1,e=r=Math.min(28,o/b+2|0);e;--e)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(x=!1,t=Math.ceil(o/b),n=1,l=c.times(c),s=new u(c),i=c;-1!==e;)if(i=i.times(l),a=s.minus(i.div(n+=2)),i=i.times(l),void 0!==(s=a.plus(i.div(n+=2))).d[t])for(e=t;s.d[e]===a.d[e]&&e--;);return r&&(s=s.times(2<<r-1)),x=!0,y(s,u.precision=d,u.rounding=f,!0)},m.isFinite=function(){return!!this.d},m.isInteger=m.isInt=function(){return!!this.d&&ee(this.e/b)>this.d.length-2},m.isNaN=function(){return!this.s},m.isNegative=m.isNeg=function(){return this.s<0},m.isPositive=m.isPos=function(){return this.s>0},m.isZero=function(){return!!this.d&&0===this.d[0]},m.lessThan=m.lt=function(e){return 0>this.cmp(e)},m.lessThanOrEqualTo=m.lte=function(e){return 1>this.cmp(e)},m.logarithm=m.log=function(e){var t,r,n,i,a,s,o,l,c=this,u=c.constructor,d=u.precision,f=u.rounding,h=5;if(null==e)e=new u(10),t=!0;else{if(r=(e=new u(e)).d,e.s<0||!r||!r[0]||e.eq(1))return new u(NaN);t=e.eq(10)}if(r=c.d,c.s<0||!r||!r[0]||c.eq(1))return new u(r&&!r[0]?-1/0:1!=c.s?NaN:r?0:1/0);if(t){if(r.length>1)a=!0;else{for(i=r[0];i%10==0;)i/=10;a=1!==i}}if(x=!1,rr((l=N(s=He(c,o=d+h),n=t?nn(u,o+10):He(e,o),o,1)).d,i=d,f))do if(o+=10,l=N(s=He(c,o),n=t?nn(u,o+10):He(e,o),o,1),!a){+K(l.d).slice(i+1,i+15)+1==1e14&&(l=y(l,d+1,0));break}while(rr(l.d,i+=10,f));return x=!0,y(l,d,f)},m.minus=m.sub=function(e){var t,r,n,i,a,s,o,l,c,u,d,f,h=this,p=h.constructor;if(e=new p(e),!h.d||!e.d)return h.s&&e.s?h.d?e.s=-e.s:e=new p(e.d||h.s!==e.s?h:NaN):e=new p(NaN),e;if(h.s!=e.s)return e.s=-e.s,h.plus(e);if(c=h.d,f=e.d,o=p.precision,l=p.rounding,!c[0]||!f[0]){if(f[0])e.s=-e.s;else{if(!c[0])return new p(3===l?-0:0);e=new p(h)}return x?y(e,o,l):e}if(r=ee(e.e/b),u=ee(h.e/b),c=c.slice(),a=u-r){for((d=a<0)?(t=c,a=-a,s=f.length):(t=f,r=u,s=c.length),a>(n=Math.max(Math.ceil(o/b),s)+2)&&(a=n,t.length=1),t.reverse(),n=a;n--;)t.push(0);t.reverse()}else{for((d=(n=c.length)<(s=f.length))&&(s=n),n=0;n<s;n++)if(c[n]!=f[n]){d=c[n]<f[n];break}a=0}for(d&&(t=c,c=f,f=t,e.s=-e.s),s=c.length,n=f.length-s;n>0;--n)c[s++]=0;for(n=f.length;n>a;){if(c[--n]<f[n]){for(i=n;i&&0===c[--i];)c[i]=ge-1;--c[i],c[n]+=ge}c[n]-=f[n]}for(;0===c[--s];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(e.d=c,e.e=sn(c,r),x?y(e,o,l):e):new p(3===l?-0:0)},m.modulo=m.mod=function(e){var t,r=this,n=r.constructor;return e=new n(e),r.d&&e.s&&(!e.d||e.d[0])?e.d&&(!r.d||r.d[0])?(x=!1,9==n.modulo?(t=N(r,e.abs(),0,3,1),t.s*=e.s):t=N(r,e,0,n.modulo,1),t=t.times(e),x=!0,r.minus(t)):y(new n(r),n.precision,n.rounding):new n(NaN)},m.naturalExponential=m.exp=function(){return Ri(this)},m.naturalLogarithm=m.ln=function(){return He(this)},m.negated=m.neg=function(){var e=new this.constructor(this);return e.s=-e.s,y(e)},m.plus=m.add=function(e){var t,r,n,i,a,s,o,l,c,u,d=this,f=d.constructor;if(e=new f(e),!d.d||!e.d)return d.s&&e.s?d.d||(e=new f(e.d||d.s===e.s?d:NaN)):e=new f(NaN),e;if(d.s!=e.s)return e.s=-e.s,d.minus(e);if(c=d.d,u=e.d,o=f.precision,l=f.rounding,!c[0]||!u[0])return u[0]||(e=new f(d)),x?y(e,o,l):e;if(a=ee(d.e/b),n=ee(e.e/b),c=c.slice(),i=a-n){for(i<0?(r=c,i=-i,s=u.length):(r=u,n=a,s=c.length),i>(s=(a=Math.ceil(o/b))>s?a+1:s+1)&&(i=s,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for((s=c.length)-(i=u.length)<0&&(i=s,r=u,u=c,c=r),t=0;i;)t=(c[--i]=c[i]+u[i]+t)/ge|0,c[i]%=ge;for(t&&(c.unshift(t),++n),s=c.length;0==c[--s];)c.pop();return e.d=c,e.e=sn(c,n),x?y(e,o,l):e},m.precision=m.sd=function(e){var t,r=this;if(void 0!==e&&!!e!==e&&1!==e&&0!==e)throw Error(Ke+e);return r.d?(t=Cs(r.d),e&&r.e+1>t&&(t=r.e+1)):t=NaN,t},m.round=function(){var e=this,t=e.constructor;return y(new t(e),e.e+1,t.rounding)},m.sine=m.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+b,n.rounding=1,r=Rc(n,Os(n,r)),n.precision=e,n.rounding=t,y(Ne>2?r.neg():r,e,t,!0)):new n(NaN)},m.squareRoot=m.sqrt=function(){var e,t,r,n,i,a,s=this,o=s.d,l=s.e,c=s.s,u=s.constructor;if(1!==c||!o||!o[0])return new u(!c||c<0&&(!o||o[0])?NaN:o?s:1/0);for(x=!1,0==(c=Math.sqrt(+s))||c==1/0?(((t=K(o)).length+l)%2==0&&(t+="0"),c=Math.sqrt(t),l=ee((l+1)/2)-(l<0||l%2),n=new u(t=c==1/0?"5e"+l:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+l)):n=new u(c.toString()),r=(l=u.precision)+3;;)if(n=(a=n).plus(N(s,a,r+2,1)).times(.5),K(a.d).slice(0,r)===(t=K(n.d)).slice(0,r)){if("9999"!=(t=t.slice(r-3,r+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(y(n,l+1,1),e=!n.times(n).eq(s));break}if(!i&&(y(a,l+1,0),a.times(a).eq(s))){n=a;break}r+=4,i=1}return x=!0,y(n,l,u.rounding,e)},m.tangent=m.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,(r=r.sin()).s=1,r=N(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,y(2==Ne||4==Ne?r.neg():r,e,t,!0)):new n(NaN)},m.times=m.mul=function(e){var t,r,n,i,a,s,o,l,c,u=this,d=u.constructor,f=u.d,h=(e=new d(e)).d;if(e.s*=u.s,!f||!f[0]||!h||!h[0])return new d(e.s&&(!f||f[0]||h)&&(!h||h[0]||f)?f&&h?0*e.s:e.s/0:NaN);for(r=ee(u.e/b)+ee(e.e/b),(l=f.length)<(c=h.length)&&(a=f,f=h,h=a,s=l,l=c,c=s),a=[],n=s=l+c;n--;)a.push(0);for(n=c;--n>=0;){for(t=0,i=l+n;i>n;)o=a[i]+h[n]*f[i-n-1]+t,a[i--]=o%ge|0,t=o/ge|0;a[i]=(a[i]+t)%ge|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=sn(a,r),x?y(e,d.precision,d.rounding):e},m.toBinary=function(e,t){return Si(this,2,e,t)},m.toDecimalPlaces=m.toDP=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(ie(e,0,ze),void 0===t?t=n.rounding:ie(t,0,8),y(r,e+r.e+1,t))},m.toExponential=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=we(n,!0):(ie(e,0,ze),void 0===t?t=i.rounding:ie(t,0,8),r=we(n=y(new i(n),e+1,t),!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r},m.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return void 0===e?r=we(i):(ie(e,0,ze),void 0===t?t=a.rounding:ie(t,0,8),r=we(n=y(new a(i),e+i.e+1,t),!1,e+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r},m.toFraction=function(e){var t,r,n,i,a,s,o,l,c,u,d,f,h=this,p=h.d,m=h.constructor;if(!p)return new m(h);if(c=r=new m(1),n=l=new m(0),s=(a=(t=new m(n)).e=Cs(p)-h.e-1)%b,t.d[0]=G(10,s<0?b+s:s),null==e)e=a>0?t:c;else{if(!(o=new m(e)).isInt()||o.lt(c))throw Error(Ke+o);e=o.gt(t)?a>0?t:c:o}for(x=!1,o=new m(K(p)),u=m.precision,m.precision=a=p.length*b*2;d=N(o,t,0,1,1),1!=(i=r.plus(d.times(n))).cmp(e);)r=n,n=i,i=c,c=l.plus(d.times(i)),l=i,i=t,t=o.minus(d.times(i)),o=i;return i=N(e.minus(r),n,0,1,1),l=l.plus(i.times(c)),r=r.plus(i.times(n)),l.s=c.s=h.s,f=1>N(c,n,a,1).minus(h).abs().cmp(N(l,r,a,1).minus(h).abs())?[c,n]:[l,r],m.precision=u,x=!0,f},m.toHexadecimal=m.toHex=function(e,t){return Si(this,16,e,t)},m.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),null==e){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),void 0===t?t=n.rounding:ie(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(x=!1,r=N(r,e,0,t,1).times(e),x=!0,y(r)):(e.s=r.s,r=e),r},m.toNumber=function(){return+this},m.toOctal=function(e,t){return Si(this,8,e,t)},m.toPower=m.pow=function(e){var t,r,n,i,a,s,o=this,l=o.constructor,c=+(e=new l(e));if(!o.d||!e.d||!o.d[0]||!e.d[0])return new l(G(+o,c));if((o=new l(o)).eq(1))return o;if(n=l.precision,a=l.rounding,e.eq(1))return y(o,n,a);if((t=ee(e.e/b))>=e.d.length-1&&(r=c<0?-c:c)<=xc)return i=Ss(l,o,r,n),e.s<0?new l(1).div(i):y(i,n,a);if((s=o.s)<0){if(t<e.d.length-1)return new l(NaN);if(1&e.d[t]||(s=1),0==o.e&&1==o.d[0]&&1==o.d.length)return o.s=s,o}return(t=0!=(r=G(+o,c))&&isFinite(r)?new l(r+"").e:ee(c*(Math.log("0."+K(o.d))/Math.LN10+o.e+1)))>l.maxE+1||t<l.minE-1?new l(t>0?s/0:0):(x=!1,l.rounding=o.s=1,r=Math.min(12,(t+"").length),(i=Ri(e.times(He(o,n+r)),n)).d&&rr((i=y(i,n+5,1)).d,n,a)&&(t=n+10,+K((i=y(Ri(e.times(He(o,t+r)),t),t+5,1)).d).slice(n+1,n+15)+1==1e14&&(i=y(i,n+1,0))),i.s=s,x=!0,l.rounding=a,y(i,n,a))},m.toPrecision=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=we(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(ie(e,1,ze),void 0===t?t=i.rounding:ie(t,0,8),r=we(n=y(new i(n),e,t),e<=n.e||n.e<=i.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r},m.toSignificantDigits=m.toSD=function(e,t){var r=this,n=r.constructor;return void 0===e?(e=n.precision,t=n.rounding):(ie(e,1,ze),void 0===t?t=n.rounding:ie(t,0,8)),y(new n(r),e,t)},m.toString=function(){var e=this,t=e.constructor,r=we(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+r:r},m.truncated=m.trunc=function(){return y(new this.constructor(this),this.e+1,1)},m.valueOf=m.toJSON=function(){var e=this,t=e.constructor,r=we(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+r:r};var N=function(){function e(e,t,r){var n,i=0,a=e.length;for(e=e.slice();a--;)n=e[a]*t+i,e[a]=n%r|0,i=n/r|0;return i&&e.unshift(i),e}function t(e,t,r,n){var i,a;if(r!=n)a=r>n?1:-1;else for(i=a=0;i<r;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=e[r]<t[r]?1:0,e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,i,a,s,o,l){var c,u,d,f,h,p,m,g,w,v,_,x,k,E,S,A,P,R,T,O,$=n.constructor,C=n.s==i.s?1:-1,I=n.d,U=i.d;if(!I||!I[0]||!U||!U[0])return new $(n.s&&i.s&&(I?!U||I[0]!=U[0]:U)?I&&0==I[0]||!U?0*C:C/0:NaN);for(l?(h=1,u=n.e-i.e):(l=ge,h=b,u=ee(n.e/h)-ee(i.e/h)),T=U.length,P=I.length,v=(w=new $(C)).d=[],d=0;U[d]==(I[d]||0);d++);if(U[d]>(I[d]||0)&&u--,null==a?(E=a=$.precision,s=$.rounding):E=o?a+(n.e-i.e)+1:a,E<0)v.push(1),p=!0;else{if(E=E/h+2|0,d=0,1==T){for(f=0,U=U[0],E++;(d<P||f)&&E--;d++)S=f*l+(I[d]||0),v[d]=S/U|0,f=S%U|0;p=f||d<P}else{for((f=l/(U[0]+1)|0)>1&&(U=e(U,f,l),I=e(I,f,l),T=U.length,P=I.length),A=T,x=(_=I.slice(0,T)).length;x<T;)_[x++]=0;(O=U.slice()).unshift(0),R=U[0],U[1]>=l/2&&++R;do f=0,(c=t(U,_,T,x))<0?(k=_[0],T!=x&&(k=k*l+(_[1]||0)),(f=k/R|0)>1?(f>=l&&(f=l-1),g=(m=e(U,f,l)).length,x=_.length,1==(c=t(m,_,g,x))&&(f--,r(m,T<g?O:U,g,l))):(0==f&&(c=f=1),m=U.slice()),(g=m.length)<x&&m.unshift(0),r(_,m,x,l),-1==c&&(x=_.length,(c=t(U,_,T,x))<1&&(f++,r(_,T<x?O:U,x,l))),x=_.length):0===c&&(f++,_=[0]),v[d++]=f,c&&_[0]?_[x++]=I[A]||0:(_=[I[A]],x=1);while((A++<P||void 0!==_[0])&&E--);p=void 0!==_[0]}v[0]||v.shift()}if(1==h)w.e=u,xs=p;else{for(d=1,f=v[0];f>=10;f/=10)d++;w.e=d+u*h-1,y(w,o?a+w.e+1:a,s,p)}return w}}();function y(e,t,r,n){var i,a,s,o,l,c,u,d,f,h=e.constructor;e:if(null!=t){if(!(d=e.d))return e;for(i=1,o=d[0];o>=10;o/=10)i++;if((a=t-i)<0)a+=b,s=t,l=(u=d[f=0])/G(10,i-s-1)%10|0;else if((f=Math.ceil((a+1)/b))>=(o=d.length)){if(n){for(;o++<=f;)d.push(0);u=l=0,i=1,a%=b,s=a-b+1}else break e}else{for(u=o=d[f],i=1;o>=10;o/=10)i++;a%=b,l=(s=a-b+i)<0?0:u/G(10,i-s-1)%10|0}if(n=n||t<0||void 0!==d[f+1]||(s<0?u:u%G(10,i-s-1)),c=r<4?(l||n)&&(0==r||r==(e.s<0?3:2)):l>5||5==l&&(4==r||n||6==r&&(a>0?s>0?u/G(10,i-s):0:d[f-1])%10&1||r==(e.s<0?8:7)),t<1||!d[0])return d.length=0,c?(t-=e.e+1,d[0]=G(10,(b-t%b)%b),e.e=-t||0):d[0]=e.e=0,e;if(0==a?(d.length=f,o=1,f--):(d.length=f+1,o=G(10,b-a),d[f]=s>0?(u/G(10,i-s)%G(10,s)|0)*o:0),c)for(;;)if(0==f){for(a=1,s=d[0];s>=10;s/=10)a++;for(s=d[0]+=o,o=1;s>=10;s/=10)o++;a!=o&&(e.e++,d[0]==ge&&(d[0]=1));break}else{if(d[f]+=o,d[f]!=ge)break;d[f--]=0,o=1}for(a=d.length;0===d[--a];)d.pop()}return x&&(e.e>h.maxE?(e.d=null,e.e=NaN):e.e<h.minE&&(e.e=0,e.d=[0])),e}function we(e,t,r){if(!e.isFinite())return Is(e);var n,i=e.e,a=K(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+We(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(e.e<0?"e":"e+")+e.e):i<0?(a="0."+We(-i-1)+a,r&&(n=r-s)>0&&(a+=We(n))):i>=s?(a+=We(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+We(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=We(n))),a}function sn(e,t){var r=e[0];for(t*=b;r>=10;r/=10)t++;return t}function nn(e,t,r){if(t>Pc)throw x=!0,r&&(e.precision=r),Error(Ps);return y(new e(tn),t,1,!0)}function fe(e,t,r){if(t>Ti)throw Error(Ps);return y(new e(rn),t,r,!0)}function Cs(e){var t=e.length-1,r=t*b+1;if(t=e[t]){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function We(e){for(var t="";e--;)t+="0";return t}function Ss(e,t,r,n){var i,a=new e(1),s=Math.ceil(n/b+4);for(x=!1;;){if(r%2&&Es((a=a.times(t)).d,s)&&(i=!0),0===(r=ee(r/2))){r=a.d.length-1,i&&0===a.d[r]&&++a.d[r];break}Es((t=t.times(t)).d,s)}return x=!0,a}function bs(e){return 1&e.d[e.d.length-1]}function As(e,t,r){for(var n,i=new e(t[0]),a=0;++a<t.length;)if((n=new e(t[a])).s)i[r](n)&&(i=n);else{i=n;break}return i}function Ri(e,t){var r,n,i,a,s,o,l,c=0,u=0,d=0,f=e.constructor,h=f.rounding,p=f.precision;if(!e.d||!e.d[0]||e.e>17)return new f(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(x=!1,l=p):l=t,o=new f(.03125);e.e>-2;)e=e.times(o),d+=5;for(l+=n=Math.log(G(2,d))/Math.LN10*2+5|0,r=a=s=new f(1),f.precision=l;;){if(a=y(a.times(e),l,1),r=r.times(++u),K((o=s.plus(N(a,r,l,1))).d).slice(0,l)===K(s.d).slice(0,l)){for(i=d;i--;)s=y(s.times(s),l,1);if(null!=t)return f.precision=p,s;if(!(c<3&&rr(s.d,l-n,h,c)))return y(s,f.precision=p,h,x=!0);f.precision=l+=10,r=a=o=new f(1),u=0,c++}s=o}}function He(e,t){var r,n,i,a,s,o,l,c,u,d,f,h=1,p=10,m=e,g=m.d,w=m.constructor,b=w.rounding,v=w.precision;if(m.s<0||!g||!g[0]||!m.e&&1==g[0]&&1==g.length)return new w(g&&!g[0]?-1/0:1!=m.s?NaN:g?0:m);if(null==t?(x=!1,u=v):u=t,w.precision=u+=p,n=(r=K(g)).charAt(0),!(15e14>Math.abs(a=m.e)))return c=nn(w,u+2,v).times(a+""),m=He(new w(n+"."+r.slice(1)),u-p).plus(c),w.precision=v,null==t?y(m,v,b,x=!0):m;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=K((m=m.times(e)).d)).charAt(0),h++;for(a=m.e,n>1?(m=new w("0."+r),a++):m=new w(n+"."+r.slice(1)),d=m,l=s=m=N(m.minus(1),m.plus(1),u,1),f=y(m.times(m),u,1),i=3;;){if(s=y(s.times(f),u,1),K((c=l.plus(N(s,new w(i),u,1))).d).slice(0,u)===K(l.d).slice(0,u)){if(l=l.times(2),0!==a&&(l=l.plus(nn(w,u+2,v).times(a+""))),l=N(l,new w(h),u,1),null!=t)return w.precision=v,l;if(!rr(l.d,u-p,b,o))return y(l,w.precision=v,b,x=!0);w.precision=u+=p,c=s=m=N(d.minus(1),d.plus(1),u,1),f=y(m.times(m),u,1),i=o=1}l=c,i+=2}}function Is(e){return String(e.s*e.s/0)}function Ci(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);n++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(n,i)){if(i-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%b,r<0&&(n+=b),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=b;n<i;)e.d.push(+t.slice(n,n+=b));n=b-(t=t.slice(n)).length}else n-=i;for(;n--;)t+="0";e.d.push(+t),x&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function Tc(e,t){var r,n,i,a,s,o,l,c,u;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),Rs.test(t))return Ci(e,t)}else if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(Ec.test(t))r=16,t=t.toLowerCase();else if(bc.test(t))r=2;else if(wc.test(t))r=8;else throw Error(Ke+t);for((a=t.search(/p/i))>0?(l=+t.slice(a+1),t=t.substring(2,a)):t=t.slice(2),s=(a=t.indexOf("."))>=0,n=e.constructor,s&&(a=(o=(t=t.replace(".","")).length)-a,i=Ss(n,new n(r),a,2*a)),a=u=(c=en(t,r,ge)).length-1;0===c[a];--a)c.pop();return a<0?new n(0*e.s):(e.e=sn(c,u),e.d=c,x=!1,s&&(e=N(e,i,4*o)),l&&(e=e.times(54>Math.abs(l)?G(2,l):it.pow(2,l))),x=!0,e)}function Rc(e,t){var r,n=t.d.length;if(n<3)return t.isZero()?t:Et(e,2,t,t);r=(r=1.4*Math.sqrt(n))>16?16:0|r,t=Et(e,2,t=t.times(1/an(5,r)),t);for(var i,a=new e(5),s=new e(16),o=new e(20);r--;)i=t.times(t),t=t.times(a.plus(i.times(s.times(i).minus(o))));return t}function Et(e,t,r,n,i){var a,s,o,l,c=e.precision,u=Math.ceil(c/b);for(x=!1,l=r.times(r),o=new e(n);;){if(s=N(o.times(l),new e(t++*t++),c,1),o=i?n.plus(s):n.minus(s),n=N(s.times(l),new e(t++*t++),c,1),void 0!==(s=o.plus(n)).d[u]){for(a=u;s.d[a]===o.d[a]&&a--;);if(-1==a)break}a=o,o=n,n=s,s=a}return x=!0,s.d.length=u+1,s}function an(e,t){for(var r=e;--t;)r*=e;return r}function Os(e,t){var r,n=t.s<0,i=fe(e,e.precision,1),a=i.times(.5);if((t=t.abs()).lte(a))return Ne=n?4:1,t;if((r=t.divToInt(i)).isZero())Ne=n?3:2;else{if((t=t.minus(r.times(i))).lte(a))return Ne=bs(r)?n?2:3:n?4:1,t;Ne=bs(r)?n?1:4:n?3:2}return t.minus(i).abs()}function Si(e,t,r,n){var i,a,s,o,l,c,u,d,f,h=e.constructor,p=void 0!==r;if(p?(ie(r,1,ze),void 0===n?n=h.rounding:ie(n,0,8)):(r=h.precision,n=h.rounding),e.isFinite()){for(s=(u=we(e)).indexOf("."),p?(i=2,16==t?r=4*r-3:8==t&&(r=3*r-2)):i=t,s>=0&&(u=u.replace(".",""),(f=new h(1)).e=u.length-s,f.d=en(we(f),10,i),f.e=f.d.length),a=l=(d=en(u,10,i)).length;0==d[--l];)d.pop();if(d[0]){if(s<0?a--:((e=new h(e)).d=d,e.e=a,d=(e=N(e,f,r,n,0,i)).d,a=e.e,c=xs),s=d[r],o=i/2,c=c||void 0!==d[r+1],c=n<4?(void 0!==s||c)&&(0===n||n===(e.s<0?3:2)):s>o||s===o&&(4===n||c||6===n&&1&d[r-1]||n===(e.s<0?8:7)),d.length=r,c)for(;++d[--r]>i-1;)d[r]=0,r||(++a,d.unshift(1));for(l=d.length;!d[l-1];--l);for(s=0,u="";s<l;s++)u+=Pi.charAt(d[s]);if(p){if(l>1){if(16==t||8==t){for(s=16==t?4:3,--l;l%s;l++)u+="0";for(l=(d=en(u,i,t)).length;!d[l-1];--l);for(s=1,u="1.";s<l;s++)u+=Pi.charAt(d[s])}else u=u.charAt(0)+"."+u.slice(1)}u=u+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)u="0"+u;u="0."+u}else if(++a>l)for(a-=l;a--;)u+="0";else a<l&&(u=u.slice(0,a)+"."+u.slice(a))}else u=p?"0p+0":"0";u=(16==t?"0x":2==t?"0b":8==t?"0o":"")+u}else u=Is(e);return e.s<0?"-"+u:u}function Es(e,t){if(e.length>t)return e.length=t,!0}function Cc(e){return new this(e).abs()}function Sc(e){return new this(e).acos()}function Ac(e){return new this(e).acosh()}function Ic(e,t){return new this(e).plus(t)}function Oc(e){return new this(e).asin()}function kc(e){return new this(e).asinh()}function Dc(e){return new this(e).atan()}function _c(e){return new this(e).atanh()}function Fc(e,t){e=new this(e),t=new this(t);var r,n=this.precision,i=this.rounding,a=n+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(r=t.s<0?fe(this,n,i):new this(0)).s=e.s:!e.d||t.isZero()?(r=fe(this,a,1).times(.5)).s=e.s:t.s<0?(this.precision=a,this.rounding=1,r=this.atan(N(e,t,a,1)),t=fe(this,a,1),this.precision=n,this.rounding=i,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(N(e,t,a,1)):(r=fe(this,a,1).times(t.s>0?.25:.75)).s=e.s:r=new this(NaN),r}function Lc(e){return new this(e).cbrt()}function Nc(e){return y(e=new this(e),e.e+1,2)}function Mc(e,t,r){return new this(e).clamp(t,r)}function $c(e){if(!e||"object"!=typeof e)throw Error(on+"Object expected");var t,r,n,i=!0===e.defaults,a=["precision",1,ze,"rounding",0,8,"toExpNeg",-bt,0,"toExpPos",0,bt,"maxE",0,bt,"minE",-bt,0,"modulo",0,9];for(t=0;t<a.length;t+=3)if(r=a[t],i&&(this[r]=vi[r]),void 0!==(n=e[r])){if(ee(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Ke+r+": "+n)}if(r="crypto",i&&(this[r]=vi[r]),void 0!==(n=e[r])){if(!0===n||!1===n||0===n||1===n){if(n){if("u">typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(vs)}else this[r]=!1}else throw Error(Ke+r+": "+n)}return this}function qc(e){return new this(e).cos()}function jc(e){return new this(e).cosh()}function ks(e){var t,r,n;function i(e){var t,r,n,a=this;if(!(a instanceof i))return new i(e);if(a.constructor=i,ws(e)){a.s=e.s,x?!e.d||e.e>i.maxE?(a.e=NaN,a.d=null):e.e<i.minE?(a.e=0,a.d=[0]):(a.e=e.e,a.d=e.d.slice()):(a.e=e.e,a.d=e.d?e.d.slice():e.d);return}if("number"==(n=typeof e)){if(0===e){a.s=1/e<0?-1:1,a.e=0,a.d=[0];return}if(e<0?(e=-e,a.s=-1):a.s=1,e===~~e&&e<1e7){for(t=0,r=e;r>=10;r/=10)t++;x?t>i.maxE?(a.e=NaN,a.d=null):t<i.minE?(a.e=0,a.d=[0]):(a.e=t,a.d=[e]):(a.e=t,a.d=[e]);return}if(0*e!=0){e||(a.s=NaN),a.e=NaN,a.d=null;return}return Ci(a,e.toString())}if("string"!==n)throw Error(Ke+e);return 45===(r=e.charCodeAt(0))?(e=e.slice(1),a.s=-1):(43===r&&(e=e.slice(1)),a.s=1),Rs.test(e)?Ci(a,e):Tc(a,e)}if(i.prototype=m,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=$c,i.clone=ks,i.isDecimal=ws,i.abs=Cc,i.acos=Sc,i.acosh=Ac,i.add=Ic,i.asin=Oc,i.asinh=kc,i.atan=Dc,i.atanh=_c,i.atan2=Fc,i.cbrt=Lc,i.ceil=Nc,i.clamp=Mc,i.cos=qc,i.cosh=jc,i.div=Vc,i.exp=Bc,i.floor=Uc,i.hypot=Gc,i.ln=Qc,i.log=Jc,i.log10=Hc,i.log2=Wc,i.max=Kc,i.min=zc,i.mod=Yc,i.mul=Zc,i.pow=Xc,i.random=ep,i.round=tp,i.sign=rp,i.sin=np,i.sinh=ip,i.sqrt=op,i.sub=sp,i.sum=ap,i.tan=lp,i.tanh=up,i.trunc=cp,void 0===e&&(e={}),e&&!0!==e.defaults)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function Vc(e,t){return new this(e).div(t)}function Bc(e){return new this(e).exp()}function Uc(e){return y(e=new this(e),e.e+1,3)}function Gc(){var e,t,r=new this(0);for(x=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return x=!0,new this(1/0);r=t}return x=!0,r.sqrt()}function ws(e){return e instanceof it||e&&e.toStringTag===Ts||!1}function Qc(e){return new this(e).ln()}function Jc(e,t){return new this(e).log(t)}function Wc(e){return new this(e).log(2)}function Hc(e){return new this(e).log(10)}function Kc(){return As(this,arguments,"lt")}function zc(){return As(this,arguments,"gt")}function Yc(e,t){return new this(e).mod(t)}function Zc(e,t){return new this(e).mul(t)}function Xc(e,t){return new this(e).pow(t)}function ep(e){var t,r,n,i,a=0,s=new this(1),o=[];if(void 0===e?e=this.precision:ie(e,1,ze),n=Math.ceil(e/b),this.crypto){if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));a<n;)(i=t[a])>=429e7?t[a]=crypto.getRandomValues(new Uint32Array(1))[0]:o[a++]=i%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(n*=4);a<n;)(i=t[a]+(t[a+1]<<8)+(t[a+2]<<16)+((127&t[a+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,a):(o.push(i%1e7),a+=4);a=n/4}else throw Error(vs)}else for(;a<n;)o[a++]=1e7*Math.random()|0;for(n=o[--a],e%=b,n&&e&&(i=G(10,b-e),o[a]=(n/i|0)*i);0===o[a];a--)o.pop();if(a<0)r=0,o=[0];else{for(r=-1;0===o[0];r-=b)o.shift();for(n=1,i=o[0];i>=10;i/=10)n++;n<b&&(r-=b-n)}return s.e=r,s.d=o,s}function tp(e){return y(e=new this(e),e.e+1,this.rounding)}function rp(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function np(e){return new this(e).sin()}function ip(e){return new this(e).sinh()}function op(e){return new this(e).sqrt()}function sp(e,t){return new this(e).sub(t)}function ap(){var e=0,t=arguments,r=new this(t[e]);for(x=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return x=!0,y(r,this.precision,this.rounding)}function lp(e){return new this(e).tan()}function up(e){return new this(e).tanh()}function cp(e){return y(e=new this(e),e.e+1,1)}m[Symbol.for("nodejs.util.inspect.custom")]=m.toString,m[Symbol.toStringTag]="Decimal";var it=m.constructor=ks(vi);tn=new it(tn),rn=new it(rn);var xe=it;function wt(e){return null===e?e:Array.isArray(e)?e.map(wt):"object"==typeof e?pp(e)?dp(e):yt(e,wt):e}function pp(e){return null!==e&&"object"==typeof e&&"string"==typeof e.$type}function dp({$type:e,value:t}){switch(e){case"BigInt":return BigInt(t);case"Bytes":return Buffer.from(t,"base64");case"DateTime":return new Date(t);case"Decimal":return new xe(t);case"Json":return JSON.parse(t);default:Fe(t,"Unknown tagged value")}}function xt(e){return e.substring(0,1).toLowerCase()+e.substring(1)}function Pt(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function ln(e){return"Invalid Date"!==e.toString()}function vt(e){return!!it.isDecimal(e)||null!==e&&"object"==typeof e&&"number"==typeof e.s&&"number"==typeof e.e&&"function"==typeof e.toFixed&&Array.isArray(e.d)}var Ms=k(fi()),Ns=k(__webpack_require__(7147)),Ds={keyword:De,entity:De,value:e=>H(rt(e)),punctuation:rt,directive:De,function:De,variable:e=>H(rt(e)),string:e=>H(qe(e)),boolean:ke,number:De,comment:Gt},mp=e=>e,un={},fp=0,P={manual:un.Prism&&un.Prism.manual,disableWorkerMessageHandler:un.Prism&&un.Prism.disableWorkerMessageHandler,util:{encode:function(e){if(!(e instanceof he))return Array.isArray(e)?e.map(P.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ");{let t=e;return new he(t.type,P.util.encode(t.content),t.alias)}},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++fp}),e.__id},clone:function e(t,r){let n,i,a=P.util.type(t);switch(r=r||{},a){case"Object":if(r[i=P.util.objId(t)])return r[i];for(let a in n={},r[i]=n,t)t.hasOwnProperty(a)&&(n[a]=e(t[a],r));return n;case"Array":return r[i=P.util.objId(t)]?r[i]:(n=[],r[i]=n,t.forEach(function(t,i){n[i]=e(t,r)}),n);default:return t}}},languages:{extend:function(e,t){let r=P.util.clone(P.languages[e]);for(let e in t)r[e]=t[e];return r},insertBefore:function(e,t,r,n){let i=(n=n||P.languages)[e],a={};for(let e in i)if(i.hasOwnProperty(e)){if(e==t)for(let e in r)r.hasOwnProperty(e)&&(a[e]=r[e]);r.hasOwnProperty(e)||(a[e]=i[e])}let s=n[e];return n[e]=a,P.languages.DFS(P.languages,function(t,r){r===s&&t!=e&&(this[t]=a)}),a},DFS:function e(t,r,n,i){i=i||{};let a=P.util.objId;for(let s in t)if(t.hasOwnProperty(s)){r.call(t,s,t[s],n||s);let o=t[s],l=P.util.type(o);"Object"!==l||i[a(o)]?"Array"!==l||i[a(o)]||(i[a(o)]=!0,e(o,r,s,i)):(i[a(o)]=!0,e(o,r,null,i))}}},plugins:{},highlight:function(e,t,r){let n={code:e,grammar:t,language:r};return P.hooks.run("before-tokenize",n),n.tokens=P.tokenize(n.code,n.grammar),P.hooks.run("after-tokenize",n),he.stringify(P.util.encode(n.tokens),n.language)},matchGrammar:function(e,t,r,n,i,a,s){for(let m in r){if(!r.hasOwnProperty(m)||!r[m])continue;if(m==s)return;let g=r[m];g="Array"===P.util.type(g)?g:[g];for(let s=0;s<g.length;++s){let y=g[s],w=y.inside,b=!!y.lookbehind,v=!!y.greedy,_=0,x=y.alias;if(v&&!y.pattern.global){let e=y.pattern.toString().match(/[imuy]*$/)[0];y.pattern=RegExp(y.pattern.source,e+"g")}y=y.pattern||y;for(let s=n,g=i;s<t.length;g+=t[s].length,++s){let n=t[s];if(t.length>e.length)return;if(n instanceof he)continue;if(v&&s!=t.length-1){y.lastIndex=g;var o=y.exec(e);if(!o)break;var l=o.index+(b?o[1].length:0),c=o.index+o[0].length,u=s,d=g;for(let e=t.length;u<e&&(d<c||!t[u].type&&!t[u-1].greedy);++u)l>=(d+=t[u].length)&&(++s,g=d);if(t[s]instanceof he)continue;f=u-s,n=e.slice(g,d),o.index-=g}else{y.lastIndex=0;var o=y.exec(n),f=1}if(!o){if(a)break;continue}b&&(_=o[1]?o[1].length:0);var l=o.index+_,o=o[0].slice(_),c=l+o.length,h=n.slice(0,l),p=n.slice(c);let i=[s,f];h&&(++s,g+=h.length,i.push(h));let k=new he(m,w?P.tokenize(o,w):o,x,o,v);if(i.push(k),p&&i.push(p),Array.prototype.splice.apply(t,i),1!=f&&P.matchGrammar(e,t,r,s,g,!0,m),a)break}}}},tokenize:function(e,t){let r=[e],n=t.rest;if(n){for(let e in n)t[e]=n[e];delete t.rest}return P.matchGrammar(e,r,t,0,0,!1),r},hooks:{all:{},add:function(e,t){let r=P.hooks.all;r[e]=r[e]||[],r[e].push(t)},run:function(e,t){let r=P.hooks.all[e];if(!(!r||!r.length))for(var n,i=0;n=r[i++];)n(t)}},Token:he};function he(e,t,r,n,i){this.type=e,this.content=t,this.alias=r,this.length=0|(n||"").length,this.greedy=!!i}function gp(e){return Ds[e]||mp}function _s(e){return hp(e,P.languages.javascript)}function hp(e,t){return P.tokenize(e,t).map(e=>he.stringify(e)).join("")}P.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},P.languages.javascript=P.languages.extend("clike",{"class-name":[P.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.])\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,function:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/}),P.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,P.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=\s*($|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:P.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:P.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:P.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:P.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),P.languages.markup&&P.languages.markup.tag.addInlined("script","javascript"),P.languages.js=P.languages.javascript,P.languages.typescript=P.languages.extend("javascript",{keyword:/\b(?:abstract|as|async|await|break|case|catch|class|const|constructor|continue|debugger|declare|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|is|keyof|let|module|namespace|new|null|of|package|private|protected|public|readonly|return|require|set|static|super|switch|this|throw|try|type|typeof|var|void|while|with|yield)\b/,builtin:/\b(?:string|Function|any|number|boolean|Array|symbol|console|Promise|unknown|never)\b/}),P.languages.ts=P.languages.typescript,he.stringify=function(e,t){return"string"==typeof e?e:Array.isArray(e)?e.map(function(e){return he.stringify(e,t)}).join(""):gp(e.type)(e.content)};var Fs=k(us());function Ls(e){return(0,Fs.default)(e)}var cn=class e{static read(t){let r;try{r=Ns.default.readFileSync(t,"utf-8")}catch{return null}return e.fromContent(r)}static fromContent(t){return new e(1,t.split(/\r?\n/))}constructor(e,t){this.firstLineNumber=e,this.lines=t}get lastLineNumber(){return this.firstLineNumber+this.lines.length-1}mapLineAt(t,r){if(t<this.firstLineNumber||t>this.lines.length+this.firstLineNumber)return this;let n=t-this.firstLineNumber,i=[...this.lines];return i[n]=r(i[n]),new e(this.firstLineNumber,i)}mapLines(t){return new e(this.firstLineNumber,this.lines.map((r,n)=>t(r,this.firstLineNumber+n)))}lineAt(e){return this.lines[e-this.firstLineNumber]}prependSymbolAt(e,t){return this.mapLines((r,n)=>n===e?`${t} ${r}`:`  ${r}`)}slice(t,r){let n=this.lines.slice(t-1,r).join(`
`);return new e(t,Ls(n).split(`
`))}highlight(){let t=_s(this.toString());return new e(this.firstLineNumber,t.split(`
`))}toString(){return this.lines.join(`
`)}},yp={red:ce,gray:Gt,dim:Oe,bold:H,underline:X,highlightSource:e=>e.highlight()},bp={red:e=>e,gray:e=>e,dim:e=>e,bold:e=>e,underline:e=>e,highlightSource:e=>e};function Ep({message:e,originalMethod:t,isPanic:r,callArguments:n}){return{functionName:`prisma.${t}()`,message:e,isPanic:r??!1,callArguments:n}}function wp({callsite:e,message:t,originalMethod:r,isPanic:n,callArguments:i},a){return Ep({message:t,originalMethod:r,isPanic:n,callArguments:i})}function xp(e){let t=Object.keys(Je.ModelAction).join("|"),r=new RegExp(String.raw`\.(${t})\(`).exec(e);if(r){let t=r.index+r[0].length,n=e.lastIndexOf(" ",r.index)+1;return{code:e.slice(n,t),openingBraceIndex:t}}return null}function Pp(e){let t=0;for(let r=0;r<e.length&&" "===e.charAt(r);r++)t++;return t}function vp({functionName:e,location:t,message:r,isPanic:n,contextLines:i,callArguments:a},s){let o=[""],l=t?" in":":";if(n?(o.push(s.red(`Oops, an unknown error occurred! This is ${s.bold("on us")}, you did nothing wrong.`)),o.push(s.red(`It occurred in the ${s.bold(`\`${e}\``)} invocation${l}`))):o.push(s.red(`Invalid ${s.bold(`\`${e}\``)} invocation${l}`)),t&&o.push(s.underline(Tp(t))),i){o.push("");let e=[i.toString()];a&&(e.push(a),e.push(s.dim(")"))),o.push(e.join("")),a&&o.push("")}else o.push(""),a&&o.push(a),o.push("");return o.push(r),o.join(`
`)}function Tp(e){let t=[e.fileName];return e.lineNumber&&t.push(String(e.lineNumber)),e.columnNumber&&t.push(String(e.columnNumber)),t.join(":")}function Tt(e){let t=e.showColors?yp:bp;return vp(wp(e,t),t)}var Gs=k(Ai());function Vs(e,t,r){let n=Sp(Rp(Bs(e)));n?pn(n,t,r):t.addErrorMessage(()=>"Unknown error")}function Bs(e){return e.errors.flatMap(e=>"Union"===e.kind?Bs(e):[e])}function Rp(e){let t=new Map,r=[];for(let n of e){if("InvalidArgumentType"!==n.kind){r.push(n);continue}let e=`${n.selectionPath.join(".")}:${n.argumentPath.join(".")}`,i=t.get(e);i?t.set(e,{...n,argument:{...n.argument,typeNames:Cp(i.argument.typeNames,n.argument.typeNames)}}):t.set(e,n)}return r.push(...t.values()),r}function Cp(e,t){return[...new Set(e.concat(t))]}function Sp(e){return xi(e,(e,t)=>{let r=qs(e),n=qs(t);return r!==n?r-n:js(e)-js(t)})}function qs(e){let t=0;return Array.isArray(e.selectionPath)&&(t+=e.selectionPath.length),Array.isArray(e.argumentPath)&&(t+=e.argumentPath.length),t}function js(e){switch(e.kind){case"InvalidArgumentValue":case"ValueTooLarge":return 20;case"InvalidArgumentType":return 10;case"RequiredArgumentMissing":return -10;default:return 0}}var ue=class{constructor(e,t){this.name=e,this.value=t,this.isRequired=!1}makeRequired(){return this.isRequired=!0,this}write(e){let{colors:{green:t}}=e.context;e.addMarginSymbol(t(this.isRequired?"+":"?")),e.write(t(this.name)),this.isRequired||e.write(t("?")),e.write(t(": ")),"string"==typeof this.value?e.write(t(this.value)):e.write(this.value)}},Rt=class{constructor(e=0,t){this.context=t,this.lines=[],this.currentLine="",this.currentIndent=0,this.currentIndent=e}write(e){return"string"==typeof e?this.currentLine+=e:e.write(this),this}writeJoined(e,t,r=(e,t)=>t.write(e)){let n=t.length-1;for(let i=0;i<t.length;i++)r(t[i],this),i!==n&&this.write(e);return this}writeLine(e){return this.write(e).newLine()}newLine(){this.lines.push(this.indentedCurrentLine()),this.currentLine="",this.marginSymbol=void 0;let e=this.afterNextNewLineCallback;return this.afterNextNewLineCallback=void 0,e?.(),this}withIndent(e){return this.indent(),e(this),this.unindent(),this}afterNextNewline(e){return this.afterNextNewLineCallback=e,this}indent(){return this.currentIndent++,this}unindent(){return this.currentIndent>0&&this.currentIndent--,this}addMarginSymbol(e){return this.marginSymbol=e,this}toString(){return this.lines.concat(this.indentedCurrentLine()).join(`
`)}getCurrentLineLength(){return this.currentLine.length}indentedCurrentLine(){let e=this.currentLine.padStart(this.currentLine.length+2*this.currentIndent);return this.marginSymbol?this.marginSymbol+e.slice(1):e}},dn=class{constructor(e){this.value=e}write(e){e.write(this.value)}markAsError(){this.value.markAsError()}},mn=e=>e,fn={bold:mn,red:mn,green:mn,dim:mn,enabled:!1},Us={bold:H,red:ce,green:qe,dim:Oe,enabled:!0},Ct={write(e){e.writeLine(",")}},Pe=class{constructor(e){this.contents=e,this.isUnderlined=!1,this.color=e=>e}underline(){return this.isUnderlined=!0,this}setColor(e){return this.color=e,this}write(e){let t=e.getCurrentLineLength();e.write(this.color(this.contents)),this.isUnderlined&&e.afterNextNewline(()=>{e.write(" ".repeat(t)).writeLine(this.color("~".repeat(this.contents.length)))})}},Ye=class{constructor(){this.hasError=!1}markAsError(){return this.hasError=!0,this}},St=class extends Ye{constructor(){super(...arguments),this.items=[]}addItem(e){return this.items.push(new dn(e)),this}getField(e){return this.items[e]}getPrintWidth(){return 0===this.items.length?2:Math.max(...this.items.map(e=>e.value.getPrintWidth()))+2}write(e){if(0===this.items.length){this.writeEmpty(e);return}this.writeWithItems(e)}writeEmpty(e){let t=new Pe("[]");this.hasError&&t.setColor(e.context.colors.red).underline(),e.write(t)}writeWithItems(e){let{colors:t}=e.context;e.writeLine("[").withIndent(()=>e.writeJoined(Ct,this.items).newLine()).write("]"),this.hasError&&e.afterNextNewline(()=>{e.writeLine(t.red("~".repeat(this.getPrintWidth())))})}asObject(){}},At=class e extends Ye{constructor(){super(...arguments),this.fields={},this.suggestions=[]}addField(e){this.fields[e.name]=e}addSuggestion(e){this.suggestions.push(e)}getField(e){return this.fields[e]}getDeepField(t){let[r,...n]=t,i=this.getField(r);if(!i)return;let a=i;for(let t of n){let r;if(a.value instanceof e?r=a.value.getField(t):a.value instanceof St&&(r=a.value.getField(Number(t))),!r)return;a=r}return a}getDeepFieldValue(e){return 0===e.length?this:this.getDeepField(e)?.value}hasField(e){return!!this.getField(e)}removeAllFields(){this.fields={}}removeField(e){delete this.fields[e]}getFields(){return this.fields}isEmpty(){return 0===Object.keys(this.fields).length}getFieldValue(e){return this.getField(e)?.value}getDeepSubSelectionValue(t){let r=this;for(let n of t){if(!(r instanceof e))return;let t=r.getSubSelectionValue(n);if(!t)return;r=t}return r}getDeepSelectionParent(t){let r=this.getSelectionParent();if(!r)return;let n=r;for(let r of t){let t=n.value.getFieldValue(r);if(!t||!(t instanceof e))return;let i=t.getSelectionParent();if(!i)return;n=i}return n}getSelectionParent(){let e=this.getField("select")?.value.asObject();if(e)return{kind:"select",value:e};let t=this.getField("include")?.value.asObject();if(t)return{kind:"include",value:t}}getSubSelectionValue(e){return this.getSelectionParent()?.value.fields[e].value}getPrintWidth(){let e=Object.values(this.fields);return 0==e.length?2:Math.max(...e.map(e=>e.getPrintWidth()))+2}write(e){let t=Object.values(this.fields);if(0===t.length&&0===this.suggestions.length){this.writeEmpty(e);return}this.writeWithContents(e,t)}asObject(){return this}writeEmpty(e){let t=new Pe("{}");this.hasError&&t.setColor(e.context.colors.red).underline(),e.write(t)}writeWithContents(e,t){e.writeLine("{").withIndent(()=>{e.writeJoined(Ct,[...t,...this.suggestions]).newLine()}),e.write("}"),this.hasError&&e.afterNextNewline(()=>{e.writeLine(e.context.colors.red("~".repeat(this.getPrintWidth())))})}},W=class extends Ye{constructor(e){super(),this.text=e}getPrintWidth(){return this.text.length}write(e){let t=new Pe(this.text);this.hasError&&t.underline().setColor(e.context.colors.red),e.write(t)}asObject(){}},nr=class{constructor(){this.fields=[]}addField(e,t){return this.fields.push({write(r){let{green:n,dim:i}=r.context.colors;r.write(n(i(`${e}: ${t}`))).addMarginSymbol(n(i("+")))}}),this}write(e){let{colors:{green:t}}=e.context;e.writeLine(t("{")).withIndent(()=>{e.writeJoined(Ct,this.fields).newLine()}).write(t("}")).addMarginSymbol(t("+"))}};function pn(e,t,r){switch(e.kind){case"MutuallyExclusiveFields":Ip(e,t);break;case"IncludeOnScalar":Op(e,t);break;case"EmptySelection":kp(e,t,r);break;case"UnknownSelectionField":Lp(e,t);break;case"InvalidSelectionValue":Np(e,t);break;case"UnknownArgument":Mp(e,t);break;case"UnknownInputField":$p(e,t);break;case"RequiredArgumentMissing":qp(e,t);break;case"InvalidArgumentType":jp(e,t);break;case"InvalidArgumentValue":Vp(e,t);break;case"ValueTooLarge":Bp(e,t);break;case"SomeFieldsMissing":Up(e,t);break;case"TooManyFieldsGiven":Gp(e,t);break;case"Union":Vs(e,t,r);break;default:throw Error("not implemented: "+e.kind)}}function Ip(e,t){let r=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();r&&(r.getField(e.firstField)?.markAsError(),r.getField(e.secondField)?.markAsError()),t.addErrorMessage(t=>`Please ${t.bold("either")} use ${t.green(`\`${e.firstField}\``)} or ${t.green(`\`${e.secondField}\``)}, but ${t.red("not both")} at the same time.`)}function Op(e,t){let[r,n]=ir(e.selectionPath),i=e.outputType,a=t.arguments.getDeepSelectionParent(r)?.value;if(a&&(a.getField(n)?.markAsError(),i))for(let e of i.fields)e.isRelation&&a.addSuggestion(new ue(e.name,"true"));t.addErrorMessage(e=>{let t=`Invalid scalar field ${e.red(`\`${n}\``)} for ${e.bold("include")} statement`;return i?t+=` on model ${e.bold(i.name)}. ${or(e)}`:t+=".",t+=`
Note that ${e.bold("include")} statements only accept relation fields.`})}function kp(e,t,r){let n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(n){let r=n.getField("omit")?.value.asObject();if(r){Dp(e,t,r);return}if(n.hasField("select")){_p(e,t);return}}if(r?.[xt(e.outputType.name)]){Fp(e,t);return}t.addErrorMessage(()=>`Unknown field at "${e.selectionPath.join(".")} selection"`)}function Dp(e,t,r){for(let t of(r.removeAllFields(),e.outputType.fields))r.addSuggestion(new ue(t.name,"false"));t.addErrorMessage(t=>`The ${t.red("omit")} statement includes every field of the model ${t.bold(e.outputType.name)}. At least one field must be included in the result`)}function _p(e,t){let r=e.outputType,n=t.arguments.getDeepSelectionParent(e.selectionPath)?.value,i=n?.isEmpty()??!1;n&&(n.removeAllFields(),Ws(n,r)),t.addErrorMessage(e=>i?`The ${e.red("`select`")} statement for type ${e.bold(r.name)} must not be empty. ${or(e)}`:`The ${e.red("`select`")} statement for type ${e.bold(r.name)} needs ${e.bold("at least one truthy value")}.`)}function Fp(e,t){let r=new nr;for(let t of e.outputType.fields)t.isRelation||r.addField(t.name,"false");let n=new ue("omit",r).makeRequired();if(0===e.selectionPath.length)t.arguments.addSuggestion(n);else{let[r,i]=ir(e.selectionPath),a=t.arguments.getDeepSelectionParent(r)?.value.asObject()?.getField(i);if(a){let e=a?.value.asObject()??new At;e.addSuggestion(n),a.value=e}}t.addErrorMessage(t=>`The global ${t.red("omit")} configuration excludes every field of the model ${t.bold(e.outputType.name)}. At least one field must be included in the result`)}function Lp(e,t){let r=Hs(e.selectionPath,t);if("unknown"!==r.parentKind){r.field.markAsError();let t=r.parent;switch(r.parentKind){case"select":Ws(t,e.outputType);break;case"include":Qp(t,e.outputType);break;case"omit":Jp(t,e.outputType)}}t.addErrorMessage(t=>{let n=[`Unknown field ${t.red(`\`${r.fieldName}\``)}`];return"unknown"!==r.parentKind&&n.push(`for ${t.bold(r.parentKind)} statement`),n.push(`on model ${t.bold(`\`${e.outputType.name}\``)}.`),n.push(or(t)),n.join(" ")})}function Np(e,t){let r=Hs(e.selectionPath,t);"unknown"!==r.parentKind&&r.field.value.markAsError(),t.addErrorMessage(t=>`Invalid value for selection field \`${t.red(r.fieldName)}\`: ${e.underlyingError}`)}function Mp(e,t){let r=e.argumentPath[0],n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();n&&(n.getField(r)?.markAsError(),Wp(n,e.arguments)),t.addErrorMessage(t=>Qs(t,r,e.arguments.map(e=>e.name)))}function $p(e,t){let[r,n]=ir(e.argumentPath),i=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(i){i.getDeepField(e.argumentPath)?.markAsError();let t=i.getDeepFieldValue(r)?.asObject();t&&Ks(t,e.inputType)}t.addErrorMessage(t=>Qs(t,n,e.inputType.fields.map(e=>e.name)))}function Qs(e,t,r){let n=[`Unknown argument \`${e.red(t)}\`.`],i=Kp(t,r);return i&&n.push(`Did you mean \`${e.green(i)}\`?`),r.length>0&&n.push(or(e)),n.join(" ")}function qp(e,t){let r;t.addErrorMessage(e=>r?.value instanceof W&&"null"===r.value.text?`Argument \`${e.green(a)}\` must not be ${e.red("null")}.`:`Argument \`${e.green(a)}\` is missing.`);let n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(!n)return;let[i,a]=ir(e.argumentPath),s=new nr,o=n.getDeepFieldValue(i)?.asObject();if(o){if((r=o.getField(a))&&o.removeField(a),1===e.inputTypes.length&&"object"===e.inputTypes[0].kind){for(let t of e.inputTypes[0].fields)s.addField(t.name,t.typeNames.join(" | "));o.addSuggestion(new ue(a,s).makeRequired())}else{let t=e.inputTypes.map(Js).join(" | ");o.addSuggestion(new ue(a,t).makeRequired())}}}function Js(e){return"list"===e.kind?`${Js(e.elementType)}[]`:e.name}function jp(e,t){let r=e.argument.name,n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();n&&n.getDeepFieldValue(e.argumentPath)?.markAsError(),t.addErrorMessage(t=>{let n=gn("or",e.argument.typeNames.map(e=>t.green(e)));return`Argument \`${t.bold(r)}\`: Invalid value provided. Expected ${n}, provided ${t.red(e.inferredType)}.`})}function Vp(e,t){let r=e.argument.name,n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();n&&n.getDeepFieldValue(e.argumentPath)?.markAsError(),t.addErrorMessage(t=>{let n=[`Invalid value for argument \`${t.bold(r)}\``];if(e.underlyingError&&n.push(`: ${e.underlyingError}`),n.push("."),e.argument.typeNames.length>0){let r=gn("or",e.argument.typeNames.map(e=>t.green(e)));n.push(` Expected ${r}.`)}return n.join("")})}function Bp(e,t){let r=e.argument.name,n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject(),i;if(n){let t=n.getDeepField(e.argumentPath)?.value;t?.markAsError(),t instanceof W&&(i=t.text)}t.addErrorMessage(e=>{let t=["Unable to fit value"];return i&&t.push(e.red(i)),t.push(`into a 64-bit signed integer for field \`${e.bold(r)}\``),t.join(" ")})}function Up(e,t){let r=e.argumentPath[e.argumentPath.length-1],n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(n){let t=n.getDeepFieldValue(e.argumentPath)?.asObject();t&&Ks(t,e.inputType)}t.addErrorMessage(t=>{let n=[`Argument \`${t.bold(r)}\` of type ${t.bold(e.inputType.name)} needs`];return 1===e.constraints.minFieldCount?e.constraints.requiredFields?n.push(`${t.green("at least one of")} ${gn("or",e.constraints.requiredFields.map(e=>`\`${t.bold(e)}\``))} arguments.`):n.push(`${t.green("at least one")} argument.`):n.push(`${t.green(`at least ${e.constraints.minFieldCount}`)} arguments.`),n.push(or(t)),n.join(" ")})}function Gp(e,t){let r=e.argumentPath[e.argumentPath.length-1],n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject(),i=[];if(n){let t=n.getDeepFieldValue(e.argumentPath)?.asObject();t&&(t.markAsError(),i=Object.keys(t.getFields()))}t.addErrorMessage(t=>{let n=[`Argument \`${t.bold(r)}\` of type ${t.bold(e.inputType.name)} needs`];return 1===e.constraints.minFieldCount&&1==e.constraints.maxFieldCount?n.push(`${t.green("exactly one")} argument,`):1==e.constraints.maxFieldCount?n.push(`${t.green("at most one")} argument,`):n.push(`${t.green(`at most ${e.constraints.maxFieldCount}`)} arguments,`),n.push(`but you provided ${gn("and",i.map(e=>t.red(e)))}. Please choose`),1===e.constraints.maxFieldCount?n.push("one."):n.push(`${e.constraints.maxFieldCount}.`),n.join(" ")})}function Ws(e,t){for(let r of t.fields)e.hasField(r.name)||e.addSuggestion(new ue(r.name,"true"))}function Qp(e,t){for(let r of t.fields)r.isRelation&&!e.hasField(r.name)&&e.addSuggestion(new ue(r.name,"true"))}function Jp(e,t){for(let r of t.fields)e.hasField(r.name)||r.isRelation||e.addSuggestion(new ue(r.name,"true"))}function Wp(e,t){for(let r of t)e.hasField(r.name)||e.addSuggestion(new ue(r.name,r.typeNames.join(" | ")))}function Hs(e,t){let[r,n]=ir(e),i=t.arguments.getDeepSubSelectionValue(r)?.asObject();if(!i)return{parentKind:"unknown",fieldName:n};let a=i.getFieldValue("select")?.asObject(),s=i.getFieldValue("include")?.asObject(),o=i.getFieldValue("omit")?.asObject(),l=a?.getField(n);return a&&l?{parentKind:"select",parent:a,field:l,fieldName:n}:(l=s?.getField(n),s&&l?{parentKind:"include",field:l,parent:s,fieldName:n}:(l=o?.getField(n),o&&l?{parentKind:"omit",field:l,parent:o,fieldName:n}:{parentKind:"unknown",fieldName:n}))}function Ks(e,t){if("object"===t.kind)for(let r of t.fields)e.hasField(r.name)||e.addSuggestion(new ue(r.name,r.typeNames.join(" | ")))}function ir(e){let t=[...e],r=t.pop();if(!r)throw Error("unexpected empty path");return[t,r]}function or({green:e,enabled:t}){return"Available options are "+(t?`listed in ${e("green")}`:"marked with ?")+"."}function gn(e,t){if(1===t.length)return t[0];let r=[...t],n=r.pop();return`${r.join(", ")} ${e} ${n}`}var Hp=3;function Kp(e,t){let r=1/0,n;for(let i of t){let t=(0,Gs.default)(e,i);t>Hp||t<r&&(r=t,n=i)}return n}function zs(e){return e.substring(0,1).toLowerCase()+e.substring(1)}var sr=class{constructor(e,t,r,n,i){this.modelName=e,this.name=t,this.typeName=r,this.isList=n,this.isEnum=i}_toGraphQLInputType(){let e=this.isList?"List":"",t=this.isEnum?"Enum":"";return`${e}${t}${this.typeName}FieldRefInput<${this.modelName}>`}};function It(e){return e instanceof sr}var hn=Symbol(),Ii=new WeakMap,Me=class{constructor(e){e===hn?Ii.set(this,`Prisma.${this._getName()}`):Ii.set(this,`new Prisma.${this._getNamespace()}.${this._getName()}()`)}_getName(){return this.constructor.name}toString(){return Ii.get(this)}},ar=class extends Me{_getNamespace(){return"NullTypes"}},lr=class extends ar{};Oi(lr,"DbNull");var ur=class extends ar{};Oi(ur,"JsonNull");var cr=class extends ar{};Oi(cr,"AnyNull");var yn={classes:{DbNull:lr,JsonNull:ur,AnyNull:cr},instances:{DbNull:new lr(hn),JsonNull:new ur(hn),AnyNull:new cr(hn)}};function Oi(e,t){Object.defineProperty(e,"name",{value:t,configurable:!0})}var Ys=": ",bn=class{constructor(e,t){this.name=e,this.value=t,this.hasError=!1}markAsError(){this.hasError=!0}getPrintWidth(){return this.name.length+this.value.getPrintWidth()+Ys.length}write(e){let t=new Pe(this.name);this.hasError&&t.underline().setColor(e.context.colors.red),e.write(t).write(Ys).write(this.value)}},ki=class{constructor(e){this.errorMessages=[],this.arguments=e}write(e){e.write(this.arguments)}addErrorMessage(e){this.errorMessages.push(e)}renderAllMessages(e){return this.errorMessages.map(t=>t(e)).join(`
`)}};function Ot(e){return new ki(Zs(e))}function Zs(e){let t=new At;for(let[r,n]of Object.entries(e)){let e=new bn(r,Xs(n));t.addField(e)}return t}function Xs(e){if("string"==typeof e)return new W(JSON.stringify(e));if("number"==typeof e||"boolean"==typeof e)return new W(String(e));if("bigint"==typeof e)return new W(`${e}n`);if(null===e)return new W("null");if(void 0===e)return new W("undefined");if(vt(e))return new W(`new Prisma.Decimal("${e.toFixed()}")`);if(e instanceof Uint8Array)return Buffer.isBuffer(e)?new W(`Buffer.alloc(${e.byteLength})`):new W(`new Uint8Array(${e.byteLength})`);if(e instanceof Date){let t=ln(e)?e.toISOString():"Invalid Date";return new W(`new Date("${t}")`)}return e instanceof Me?new W(`Prisma.${e._getName()}`):It(e)?new W(`prisma.${zs(e.modelName)}.$fields.${e.name}`):Array.isArray(e)?zp(e):"object"==typeof e?Zs(e):new W(Object.prototype.toString.call(e))}function zp(e){let t=new St;for(let r of e)t.addItem(Xs(r));return t}function En(e,t){let r="pretty"===t?Us:fn;return{message:e.renderAllMessages(r),args:new Rt(0,{colors:r}).write(e).toString()}}function wn({args:e,errors:t,errorFormat:r,callsite:n,originalMethod:i,clientVersion:a,globalOmit:s}){let o=Ot(e);for(let e of t)pn(e,o,s);let{message:l,args:c}=En(o,r);throw new J(Tt({message:l,callsite:n,originalMethod:i,showColors:"pretty"===r,callArguments:c}),{clientVersion:a})}var ve=class{constructor(){this._map=new Map}get(e){return this._map.get(e)?.value}set(e,t){this._map.set(e,{value:t})}getOrCreate(e,t){let r=this._map.get(e);if(r)return r.value;let n=t();return this.set(e,n),n}};function pr(e){let t;return{get:()=>(t||(t={value:e()}),t.value)}}function Te(e){return e.replace(/^./,e=>e.toLowerCase())}function ta(e,t,r){let n=Te(r);return t.result&&(t.result.$allModels||t.result[n])?Yp({...e,...ea(t.name,e,t.result.$allModels),...ea(t.name,e,t.result[n])}):e}function Yp(e){let t=new ve,r=(n,i)=>t.getOrCreate(n,()=>i.has(n)?[n]:(i.add(n),e[n]?e[n].needs.flatMap(e=>r(e,i)):[n]));return yt(e,e=>({...e,needs:r(e.name,new Set)}))}function ea(e,t,r){return r?yt(r,({needs:e,compute:r},n)=>({name:n,needs:e?Object.keys(e).filter(t=>e[t]):[],compute:Zp(t,n,r)})):{}}function Zp(e,t,r){let n=e?.[t]?.compute;return n?e=>r({...e,[t]:n(e)}):r}function ra(e,t){if(!t)return e;let r={...e};for(let n of Object.values(t))if(e[n.name])for(let e of n.needs)r[e]=!0;return r}function na(e,t){if(!t)return e;let r={...e};for(let n of Object.values(t))if(!e[n.name])for(let e of n.needs)delete r[e];return r}var xn=class{constructor(e,t){this.extension=e,this.previous=t,this.computedFieldsCache=new ve,this.modelExtensionsCache=new ve,this.queryCallbacksCache=new ve,this.clientExtensions=pr(()=>this.extension.client?{...this.previous?.getAllClientExtensions(),...this.extension.client}:this.previous?.getAllClientExtensions()),this.batchCallbacks=pr(()=>{let e=this.previous?.getAllBatchQueryCallbacks()??[],t=this.extension.query?.$__internalBatch;return t?e.concat(t):e})}getAllComputedFields(e){return this.computedFieldsCache.getOrCreate(e,()=>ta(this.previous?.getAllComputedFields(e),this.extension,e))}getAllClientExtensions(){return this.clientExtensions.get()}getAllModelExtensions(e){return this.modelExtensionsCache.getOrCreate(e,()=>{let t=Te(e);return this.extension.model&&(this.extension.model[t]||this.extension.model.$allModels)?{...this.previous?.getAllModelExtensions(e),...this.extension.model.$allModels,...this.extension.model[t]}:this.previous?.getAllModelExtensions(e)})}getAllQueryCallbacks(e,t){return this.queryCallbacksCache.getOrCreate(`${e}:${t}`,()=>{let r=this.previous?.getAllQueryCallbacks(e,t)??[],n=[],i=this.extension.query;return i&&(i[e]||i.$allModels||i[t]||i.$allOperations)?(void 0!==i[e]&&(void 0!==i[e][t]&&n.push(i[e][t]),void 0!==i[e].$allOperations&&n.push(i[e].$allOperations)),"$none"!==e&&void 0!==i.$allModels&&(void 0!==i.$allModels[t]&&n.push(i.$allModels[t]),void 0!==i.$allModels.$allOperations&&n.push(i.$allModels.$allOperations)),void 0!==i[t]&&n.push(i[t]),void 0!==i.$allOperations&&n.push(i.$allOperations),r.concat(n)):r})}getAllBatchQueryCallbacks(){return this.batchCallbacks.get()}},kt=class e{constructor(e){this.head=e}static empty(){return new e}static single(t){return new e(new xn(t))}isEmpty(){return void 0===this.head}append(t){return new e(new xn(t,this.head))}getAllComputedFields(e){return this.head?.getAllComputedFields(e)}getAllClientExtensions(){return this.head?.getAllClientExtensions()}getAllModelExtensions(e){return this.head?.getAllModelExtensions(e)}getAllQueryCallbacks(e,t){return this.head?.getAllQueryCallbacks(e,t)??[]}getAllBatchQueryCallbacks(){return this.head?.getAllBatchQueryCallbacks()??[]}},ia=Symbol(),dr=class{constructor(e){if(e!==ia)throw Error("Skip instance can not be constructed directly")}ifUndefined(e){return void 0===e?Pn:e}},Pn=new dr(ia);function Re(e){return e instanceof dr}var Xp={findUnique:"findUnique",findUniqueOrThrow:"findUniqueOrThrow",findFirst:"findFirst",findFirstOrThrow:"findFirstOrThrow",findMany:"findMany",count:"aggregate",create:"createOne",createMany:"createMany",createManyAndReturn:"createManyAndReturn",update:"updateOne",updateMany:"updateMany",upsert:"upsertOne",delete:"deleteOne",deleteMany:"deleteMany",executeRaw:"executeRaw",queryRaw:"queryRaw",aggregate:"aggregate",groupBy:"groupBy",runCommandRaw:"runCommandRaw",findRaw:"findRaw",aggregateRaw:"aggregateRaw"},oa="explicitly `undefined` values are not allowed";function vn({modelName:e,action:t,args:r,runtimeDataModel:n,extensions:i=kt.empty(),callsite:a,clientMethod:s,errorFormat:o,clientVersion:l,previewFeatures:c,globalOmit:u}){let d=new Di({runtimeDataModel:n,modelName:e,action:t,rootArgs:r,callsite:a,extensions:i,selectionPath:[],argumentPath:[],originalMethod:s,errorFormat:o,clientVersion:l,previewFeatures:c,globalOmit:u});return{modelName:e,action:Xp[t],query:mr(r,d)}}function mr({select:e,include:t,...r}={},n){let i;return n.isPreviewFeatureOn("omitApi")&&(i=r.omit,delete r.omit),{arguments:aa(r,n),selection:ed(e,t,i,n)}}function ed(e,t,r,n){return e?(t?n.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"include",secondField:"select",selectionPath:n.getSelectionPath()}):r&&n.isPreviewFeatureOn("omitApi")&&n.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"omit",secondField:"select",selectionPath:n.getSelectionPath()}),id(e,n)):td(n,t,r)}function td(e,t,r){let n={};return e.modelOrType&&!e.isRawAction()&&(n.$composites=!0,n.$scalars=!0),t&&rd(n,t,e),e.isPreviewFeatureOn("omitApi")&&nd(n,r,e),n}function rd(e,t,r){for(let[n,i]of Object.entries(t)){if(Re(i))continue;let t=r.nestSelection(n);if(_i(i,t),!1===i||void 0===i){e[n]=!1;continue}let a=r.findField(n);if(a&&"object"!==a.kind&&r.throwValidationError({kind:"IncludeOnScalar",selectionPath:r.getSelectionPath().concat(n),outputType:r.getOutputTypeDescription()}),a){e[n]=mr(!0===i?{}:i,t);continue}if(!0===i){e[n]=!0;continue}e[n]=mr(i,t)}}function nd(e,t,r){let n=r.getComputedFields();for(let[i,a]of Object.entries(na({...r.getGlobalOmit(),...t},n))){if(Re(a))continue;_i(a,r.nestSelection(i));let t=r.findField(i);n?.[i]&&!t||(e[i]=!a)}}function id(e,t){let r={},n=t.getComputedFields();for(let[i,a]of Object.entries(ra(e,n))){if(Re(a))continue;let e=t.nestSelection(i);_i(a,e);let s=t.findField(i);if(!(n?.[i]&&!s)){if(!1===a||void 0===a||Re(a)){r[i]=!1;continue}if(!0===a){s?.kind==="object"?r[i]=mr({},e):r[i]=!0;continue}r[i]=mr(a,e)}}return r}function sa(e,t){if(null===e)return null;if("string"==typeof e||"number"==typeof e||"boolean"==typeof e)return e;if("bigint"==typeof e)return{$type:"BigInt",value:String(e)};if(Pt(e)){if(ln(e))return{$type:"DateTime",value:e.toISOString()};t.throwValidationError({kind:"InvalidArgumentValue",selectionPath:t.getSelectionPath(),argumentPath:t.getArgumentPath(),argument:{name:t.getArgumentName(),typeNames:["Date"]},underlyingError:"Provided Date object is invalid"})}if(It(e))return{$type:"FieldRef",value:{_ref:e.name,_container:e.modelName}};if(Array.isArray(e))return od(e,t);if(ArrayBuffer.isView(e))return{$type:"Bytes",value:Buffer.from(e).toString("base64")};if(sd(e))return e.values;if(vt(e))return{$type:"Decimal",value:e.toFixed()};if(e instanceof Me){if(e!==yn.instances[e._getName()])throw Error("Invalid ObjectEnumValue");return{$type:"Enum",value:e._getName()}}return ad(e)?e.toJSON():"object"==typeof e?aa(e,t):void t.throwValidationError({kind:"InvalidArgumentValue",selectionPath:t.getSelectionPath(),argumentPath:t.getArgumentPath(),argument:{name:t.getArgumentName(),typeNames:[]},underlyingError:`We could not serialize ${Object.prototype.toString.call(e)} value. Serialize the object to JSON or implement a ".toJSON()" method on it`})}function aa(e,t){if(e.$type)return{$type:"Raw",value:e};let r={};for(let n in e){let i=e[n],a=t.nestArgument(n);Re(i)||(void 0!==i?r[n]=sa(i,a):t.isPreviewFeatureOn("strictUndefinedChecks")&&t.throwValidationError({kind:"InvalidArgumentValue",argumentPath:a.getArgumentPath(),selectionPath:t.getSelectionPath(),argument:{name:t.getArgumentName(),typeNames:[]},underlyingError:oa}))}return r}function od(e,t){let r=[];for(let n=0;n<e.length;n++){let i=t.nestArgument(String(n)),a=e[n];if(void 0===a||Re(a)){let e=void 0===a?"undefined":"Prisma.skip";t.throwValidationError({kind:"InvalidArgumentValue",selectionPath:i.getSelectionPath(),argumentPath:i.getArgumentPath(),argument:{name:`${t.getArgumentName()}[${n}]`,typeNames:[]},underlyingError:`Can not use \`${e}\` value within array. Use \`null\` or filter out \`${e}\` values`})}r.push(sa(a,i))}return r}function sd(e){return"object"==typeof e&&null!==e&&!0===e.__prismaRawParameters__}function ad(e){return"object"==typeof e&&null!==e&&"function"==typeof e.toJSON}function _i(e,t){void 0===e&&t.isPreviewFeatureOn("strictUndefinedChecks")&&t.throwValidationError({kind:"InvalidSelectionValue",selectionPath:t.getSelectionPath(),underlyingError:oa})}var Di=class e{constructor(e){this.params=e,this.params.modelName&&(this.modelOrType=this.params.runtimeDataModel.models[this.params.modelName]??this.params.runtimeDataModel.types[this.params.modelName])}throwValidationError(e){wn({errors:[e],originalMethod:this.params.originalMethod,args:this.params.rootArgs??{},callsite:this.params.callsite,errorFormat:this.params.errorFormat,clientVersion:this.params.clientVersion,globalOmit:this.params.globalOmit})}getSelectionPath(){return this.params.selectionPath}getArgumentPath(){return this.params.argumentPath}getArgumentName(){return this.params.argumentPath[this.params.argumentPath.length-1]}getOutputTypeDescription(){if(!(!this.params.modelName||!this.modelOrType))return{name:this.params.modelName,fields:this.modelOrType.fields.map(e=>({name:e.name,typeName:"boolean",isRelation:"object"===e.kind}))}}isRawAction(){return["executeRaw","queryRaw","runCommandRaw","findRaw","aggregateRaw"].includes(this.params.action)}isPreviewFeatureOn(e){return this.params.previewFeatures.includes(e)}getComputedFields(){if(this.params.modelName)return this.params.extensions.getAllComputedFields(this.params.modelName)}findField(e){return this.modelOrType?.fields.find(t=>t.name===e)}nestSelection(t){let r=this.findField(t),n=r?.kind==="object"?r.type:void 0;return new e({...this.params,modelName:n,selectionPath:this.params.selectionPath.concat(t)})}getGlobalOmit(){return this.params.modelName&&this.shouldApplyGlobalOmit()?this.params.globalOmit?.[xt(this.params.modelName)]??{}:{}}shouldApplyGlobalOmit(){switch(this.params.action){case"findFirst":case"findFirstOrThrow":case"findUniqueOrThrow":case"findMany":case"upsert":case"findUnique":case"createManyAndReturn":case"create":case"update":case"delete":return!0;case"executeRaw":case"aggregateRaw":case"runCommandRaw":case"findRaw":case"createMany":case"deleteMany":case"groupBy":case"updateMany":case"count":case"aggregate":case"queryRaw":return!1;default:Fe(this.params.action,"Unknown action")}}nestArgument(t){return new e({...this.params,argumentPath:this.params.argumentPath.concat(t)})}},Dt=class{constructor(e){this._engine=e}prometheus(e){return this._engine.metrics({format:"prometheus",...e})}json(e){return this._engine.metrics({format:"json",...e})}};function la(e){return{models:Fi(e.models),enums:Fi(e.enums),types:Fi(e.types)}}function Fi(e){let t={};for(let{name:r,...n}of e)t[r]=n;return t}function ua(e,t){let r=pr(()=>ld(t));Object.defineProperty(e,"dmmf",{get:()=>r.get()})}function ld(e){return{datamodel:{models:Li(e.models),enums:Li(e.enums),types:Li(e.types)}}}function Li(e){return Object.entries(e).map(([e,t])=>({name:e,...t}))}var Ni=new WeakMap,Tn="$$PrismaTypedSql",Mi=class{constructor(e,t){Ni.set(this,{sql:e,values:t}),Object.defineProperty(this,Tn,{value:Tn})}get sql(){return Ni.get(this).sql}get values(){return Ni.get(this).values}};function ca(e){return(...t)=>new Mi(e,t)}function pa(e){return null!=e&&e[Tn]===Tn}function fr(e){return{ok:!1,error:e,map:()=>fr(e),flatMap:()=>fr(e)}}var $i=class{constructor(){this.registeredErrors=[]}consumeError(e){return this.registeredErrors[e]}registerNewError(e){let t=0;for(;void 0!==this.registeredErrors[t];)t++;return this.registeredErrors[t]={error:e},t}},qi=e=>{let t=new $i,r=Ce(t,e.transactionContext.bind(e)),n={adapterName:e.adapterName,errorRegistry:t,queryRaw:Ce(t,e.queryRaw.bind(e)),executeRaw:Ce(t,e.executeRaw.bind(e)),provider:e.provider,transactionContext:async(...e)=>(await r(...e)).map(e=>ud(t,e))};return e.getConnectionInfo&&(n.getConnectionInfo=pd(t,e.getConnectionInfo.bind(e))),n},ud=(e,t)=>{let r=Ce(e,t.startTransaction.bind(t));return{adapterName:t.adapterName,provider:t.provider,queryRaw:Ce(e,t.queryRaw.bind(t)),executeRaw:Ce(e,t.executeRaw.bind(t)),startTransaction:async(...t)=>(await r(...t)).map(t=>cd(e,t))}},cd=(e,t)=>({adapterName:t.adapterName,provider:t.provider,options:t.options,queryRaw:Ce(e,t.queryRaw.bind(t)),executeRaw:Ce(e,t.executeRaw.bind(t)),commit:Ce(e,t.commit.bind(t)),rollback:Ce(e,t.rollback.bind(t))});function Ce(e,t){return async(...r)=>{try{return await t(...r)}catch(t){return fr({kind:"GenericJs",id:e.registerNewError(t)})}}}function pd(e,t){return(...r)=>{try{return t(...r)}catch(t){return fr({kind:"GenericJs",id:e.registerNewError(t)})}}}var Wl=k(oi()),Hl=__webpack_require__(852),Kl=__webpack_require__(2361),zl=k(__webpack_require__(7147)),Fr=k(__webpack_require__(1017)),oe=class e{constructor(t,r){if(t.length-1!==r.length)throw 0===t.length?TypeError("Expected at least 1 string"):TypeError(`Expected ${t.length} strings to have ${t.length-1} values`);let n=r.reduce((t,r)=>t+(r instanceof e?r.values.length:1),0);this.values=Array(n),this.strings=Array(n+1),this.strings[0]=t[0];let i=0,a=0;for(;i<r.length;){let n=r[i++],s=t[i];if(n instanceof e){this.strings[a]+=n.strings[0];let t=0;for(;t<n.values.length;)this.values[a++]=n.values[t++],this.strings[a]=n.strings[t];this.strings[a]+=s}else this.values[a++]=n,this.strings[a]=s}}get sql(){let e=this.strings.length,t=1,r=this.strings[0];for(;t<e;)r+=`?${this.strings[t++]}`;return r}get statement(){let e=this.strings.length,t=1,r=this.strings[0];for(;t<e;)r+=`:${t}${this.strings[t++]}`;return r}get text(){let e=this.strings.length,t=1,r=this.strings[0];for(;t<e;)r+=`$${t}${this.strings[t++]}`;return r}inspect(){return{sql:this.sql,statement:this.statement,text:this.text,values:this.values}}};function da(e,t=",",r="",n=""){if(0===e.length)throw TypeError("Expected `join([])` to be called with an array of multiple elements, but got an empty array");return new oe([r,...Array(e.length-1).fill(t),n],e)}function ji(e){return new oe([e],[])}var ma=ji("");function Vi(e,...t){return new oe(e,t)}function gr(e){return{getKeys:()=>Object.keys(e),getPropertyValue:t=>e[t]}}function re(e,t){return{getKeys:()=>[e],getPropertyValue:()=>t()}}function ot(e){let t=new ve;return{getKeys:()=>e.getKeys(),getPropertyValue:r=>t.getOrCreate(r,()=>e.getPropertyValue(r)),getPropertyDescriptor:t=>e.getPropertyDescriptor?.(t)}}var Rn={enumerable:!0,configurable:!0,writable:!0};function Cn(e){let t=new Set(e);return{getOwnPropertyDescriptor:()=>Rn,has:(e,r)=>t.has(r),set:(e,r,n)=>t.add(r)&&Reflect.set(e,r,n),ownKeys:()=>[...t]}}var fa=Symbol.for("nodejs.util.inspect.custom");function Se(e,t){let r=dd(t),n=new Set,i=new Proxy(e,{get(e,t){if(n.has(t))return e[t];let i=r.get(t);return i?i.getPropertyValue(t):e[t]},has(e,t){if(n.has(t))return!0;let i=r.get(t);return i?i.has?.(t)??!0:Reflect.has(e,t)},ownKeys(e){let t=ga(Reflect.ownKeys(e),r),i=ga(Array.from(r.keys()),r);return[...new Set([...t,...i,...n])]},set:(e,t,i)=>r.get(t)?.getPropertyDescriptor?.(t)?.writable!==!1&&(n.add(t),Reflect.set(e,t,i)),getOwnPropertyDescriptor(e,t){let n=Reflect.getOwnPropertyDescriptor(e,t);if(n&&!n.configurable)return n;let i=r.get(t);return i?i.getPropertyDescriptor?{...Rn,...i?.getPropertyDescriptor(t)}:Rn:n},defineProperty:(e,t,r)=>(n.add(t),Reflect.defineProperty(e,t,r))});return i[fa]=function(){let e={...this};return delete e[fa],e},i}function dd(e){let t=new Map;for(let r of e)for(let e of r.getKeys())t.set(e,r);return t}function ga(e,t){return e.filter(e=>t.get(e)?.has?.(e)??!0)}function _t(e){return{getKeys:()=>e,has:()=>!1,getPropertyValue(){}}}function Ft(e,t){return{batch:e,transaction:t?.kind==="batch"?{isolationLevel:t.options.isolationLevel}:void 0}}function ha(e){if(void 0===e)return"";let t=Ot(e);return new Rt(0,{colors:fn}).write(t).toString()}var md="P2037";function st({error:e,user_facing_error:t},r,n){return t.error_code?new V(fd(t,n),{code:t.error_code,clientVersion:r,meta:t.meta,batchRequestIdx:t.batch_request_idx}):new B(e,{clientVersion:r,batchRequestIdx:t.batch_request_idx})}function fd(e,t){let r=e.message;return("postgresql"===t||"postgres"===t||"mysql"===t)&&e.error_code===md&&(r+=`
Prisma Accelerate has built-in connection pooling to prevent such errors: https://pris.ly/client/error-accelerate`),r}var hr="<unknown>";function ya(e){return e.split(`
`).reduce(function(e,t){var r=yd(t)||Ed(t)||Pd(t)||Cd(t)||Td(t);return r&&e.push(r),e},[])}var gd=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/|[a-z]:\\|\\\\).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,hd=/\((\S*)(?::(\d+))(?::(\d+))\)/;function yd(e){var t=gd.exec(e);if(!t)return null;var r=t[2]&&0===t[2].indexOf("native"),n=t[2]&&0===t[2].indexOf("eval"),i=hd.exec(t[2]);return n&&null!=i&&(t[2]=i[1],t[3]=i[2],t[4]=i[3]),{file:r?null:t[2],methodName:t[1]||hr,arguments:r?[t[2]]:[],lineNumber:t[3]?+t[3]:null,column:t[4]?+t[4]:null}}var bd=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function Ed(e){var t=bd.exec(e);return t?{file:t[2],methodName:t[1]||hr,arguments:[],lineNumber:+t[3],column:t[4]?+t[4]:null}:null}var wd=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,xd=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function Pd(e){var t=wd.exec(e);if(!t)return null;var r=t[3]&&t[3].indexOf(" > eval")>-1,n=xd.exec(t[3]);return r&&null!=n&&(t[3]=n[1],t[4]=n[2],t[5]=null),{file:t[3],methodName:t[1]||hr,arguments:t[2]?t[2].split(","):[],lineNumber:t[4]?+t[4]:null,column:t[5]?+t[5]:null}}var vd=/^\s*(?:([^@]*)(?:\((.*?)\))?@)?(\S.*?):(\d+)(?::(\d+))?\s*$/i;function Td(e){var t=vd.exec(e);return t?{file:t[3],methodName:t[1]||hr,arguments:[],lineNumber:+t[4],column:t[5]?+t[5]:null}:null}var Rd=/^\s*at (?:((?:\[object object\])?[^\\/]+(?: \[as \S+\])?) )?\(?(.*?):(\d+)(?::(\d+))?\)?\s*$/i;function Cd(e){var t=Rd.exec(e);return t?{file:t[2],methodName:t[1]||hr,arguments:[],lineNumber:+t[3],column:t[4]?+t[4]:null}:null}var Bi=class{getLocation(){return null}},Ui=class{constructor(){this._error=Error()}getLocation(){let e=this._error.stack;if(!e)return null;let t=ya(e).find(e=>{if(!e.file)return!1;let t=mi(e.file);return"<anonymous>"!==t&&!t.includes("@prisma")&&!t.includes("/packages/client/src/runtime/")&&!t.endsWith("/runtime/binary.js")&&!t.endsWith("/runtime/library.js")&&!t.endsWith("/runtime/edge.js")&&!t.endsWith("/runtime/edge-esm.js")&&!t.startsWith("internal/")&&!e.methodName.includes("new ")&&!e.methodName.includes("getCallSite")&&!e.methodName.includes("Proxy.")&&e.methodName.split(".").length<4});return t&&t.file?{fileName:t.file,lineNumber:t.lineNumber,columnNumber:t.column}:null}};function Ze(e){return"minimal"===e?"function"==typeof $EnabledCallSite&&"minimal"!==e?new $EnabledCallSite:new Bi:new Ui}var ba={_avg:!0,_count:!0,_sum:!0,_min:!0,_max:!0};function Lt(e={}){return Object.entries(Ad(e)).reduce((e,[t,r])=>(void 0!==ba[t]?e.select[t]={select:r}:e[t]=r,e),{select:{}})}function Ad(e={}){return"boolean"==typeof e._count?{...e,_count:{_all:e._count}}:e}function Sn(e={}){return t=>("boolean"==typeof e._count&&(t._count=t._count._all),t)}function Ea(e,t){return t({action:"aggregate",unpacker:Sn(e),argsMapper:Lt})(e)}function Id(e={}){let{select:t,...r}=e;return"object"==typeof t?Lt({...r,_count:t}):Lt({...r,_count:{_all:!0}})}function Od(e={}){return"object"==typeof e.select?t=>Sn(e)(t)._count:t=>Sn(e)(t)._count._all}function wa(e,t){return t({action:"count",unpacker:Od(e),argsMapper:Id})(e)}function kd(e={}){let t=Lt(e);if(Array.isArray(t.by))for(let e of t.by)"string"==typeof e&&(t.select[e]=!0);else"string"==typeof t.by&&(t.select[t.by]=!0);return t}function Dd(e={}){return t=>("boolean"==typeof e?._count&&t.forEach(e=>{e._count=e._count._all}),t)}function xa(e,t){return t({action:"groupBy",unpacker:Dd(e),argsMapper:kd})(e)}function Pa(e,t,r){return"aggregate"===t?e=>Ea(e,r):"count"===t?e=>wa(e,r):"groupBy"===t?e=>xa(e,r):void 0}function va(e,t){let r=wi(t.fields.filter(e=>!e.relationName),e=>e.name);return new Proxy({},{get(t,n){if(n in t||"symbol"==typeof n)return t[n];let i=r[n];if(i)return new sr(e,n,i.type,i.isList,"enum"===i.kind)},...Cn(Object.keys(r))})}var Ta=e=>Array.isArray(e)?e:e.split("."),Gi=(e,t)=>Ta(t).reduce((e,t)=>e&&e[t],e),Ra=(e,t,r)=>Ta(t).reduceRight((t,r,n,i)=>Object.assign({},Gi(e,i.slice(0,n)),{[r]:t}),r);function _d(e,t){return void 0===e||void 0===t?[]:[...t,"select",e]}function Fd(e,t,r){return void 0===t?e??{}:Ra(t,r,e||!0)}function Qi(e,t,r,n,i,a){let s=e._runtimeDataModel.models[t].fields.reduce((e,t)=>({...e,[t.name]:t}),{});return o=>{let l=Ze(e._errorFormat),c=_d(n,i),u=Fd(o,a,c),d=r({dataPath:c,callsite:l})(u),f=Ld(e,t);return new Proxy(d,{get:(t,n)=>f.includes(n)?Qi(e,...[s[n].type,r,n],...[c,u]):t[n],...Cn([...f,...Object.getOwnPropertyNames(d)])})}}function Ld(e,t){return e._runtimeDataModel.models[t].fields.filter(e=>"object"===e.kind).map(e=>e.name)}function Ca(e,t,r,n){return e===Je.ModelAction.findFirstOrThrow||e===Je.ModelAction.findUniqueOrThrow?Nd(t,r,n):n}function Nd(e,t,r){return async n=>{if("rejectOnNotFound"in n.args)throw new J(Tt({originalMethod:n.clientMethod,callsite:n.callsite,message:"'rejectOnNotFound' option is not supported"}),{clientVersion:t});return await r(n).catch(r=>{throw r instanceof V&&"P2025"===r.code?new Le(`No ${e} found`,t):r})}}var Md=["findUnique","findUniqueOrThrow","findFirst","findFirstOrThrow","create","update","upsert","delete"],$d=["aggregate","count","groupBy"];function Ji(e,t){let r=e._extensions.getAllModelExtensions(t)??{};return Se({},[qd(e,t),Vd(e,t),gr(r),re("name",()=>t),re("$name",()=>t),re("$parent",()=>e._appliedParent)])}function qd(e,t){let r=Te(t),n=Object.keys(Je.ModelAction).concat("count");return{getKeys:()=>n,getPropertyValue(n){let i=n,a=t=>e._request(t);a=Ca(i,t,e._clientVersion,a);let s=s=>o=>{let l=Ze(e._errorFormat);return e._createPrismaPromise(e=>{let c={args:o,dataPath:[],action:i,model:t,clientMethod:`${r}.${n}`,jsModelName:r,transaction:e,callsite:l};return a({...c,...s})})};return Md.includes(i)?Qi(e,t,s):jd(n)?Pa(e,n,s):s({})}}}function jd(e){return $d.includes(e)}function Vd(e,t){return ot(re("fields",()=>{let r=e._runtimeDataModel.models[t];return va(t,r)}))}function Sa(e){return e.replace(/^./,e=>e.toUpperCase())}var Wi=Symbol();function yr(e){let t=[Bd(e),re(Wi,()=>e),re("$parent",()=>e._appliedParent)],r=e._extensions.getAllClientExtensions();return r&&t.push(gr(r)),Se(e,t)}function Bd(e){let t=Object.keys(e._runtimeDataModel.models),r=t.map(Te),n=[...new Set(t.concat(r))];return ot({getKeys:()=>n,getPropertyValue(t){let r=Sa(t);return void 0!==e._runtimeDataModel.models[r]?Ji(e,r):void 0!==e._runtimeDataModel.models[t]?Ji(e,t):void 0},getPropertyDescriptor(e){if(!r.includes(e))return{enumerable:!1}}})}function Aa(e){return e[Wi]?e[Wi]:e}function Ia(e){if("function"==typeof e)return e(this);if(e.client?.__AccelerateEngine){let t=e.client.__AccelerateEngine;this._originalClient._engine=new t(this._originalClient._accelerateEngineConfig)}return yr(Object.create(this._originalClient,{_extensions:{value:this._extensions.append(e)},_appliedParent:{value:this,configurable:!0},$use:{value:void 0},$on:{value:void 0}}))}function Oa({result:e,modelName:t,select:r,omit:n,extensions:i}){let a=i.getAllComputedFields(t);if(!a)return e;let s=[],o=[];for(let t of Object.values(a)){if(n){if(n[t.name])continue;let e=t.needs.filter(e=>n[e]);e.length>0&&o.push(_t(e))}else if(r){if(!r[t.name])continue;let e=t.needs.filter(e=>!r[e]);e.length>0&&o.push(_t(e))}Ud(e,t.needs)&&s.push(Gd(t,Se(e,s)))}return s.length>0||o.length>0?Se(e,[...s,...o]):e}function Ud(e,t){return t.every(t=>Ei(e,t))}function Gd(e,t){return ot(re(e.name,()=>e.compute(t)))}function An({visitor:e,result:t,args:r,runtimeDataModel:n,modelName:i}){if(Array.isArray(t)){for(let a=0;a<t.length;a++)t[a]=An({result:t[a],args:r,modelName:i,runtimeDataModel:n,visitor:e});return t}let a=e(t,i,r)??t;return r.include&&ka({includeOrSelect:r.include,result:a,parentModelName:i,runtimeDataModel:n,visitor:e}),r.select&&ka({includeOrSelect:r.select,result:a,parentModelName:i,runtimeDataModel:n,visitor:e}),a}function ka({includeOrSelect:e,result:t,parentModelName:r,runtimeDataModel:n,visitor:i}){for(let[a,s]of Object.entries(e)){if(!s||null==t[a]||Re(s))continue;let e=n.models[r].fields.find(e=>e.name===a);if(!e||"object"!==e.kind||!e.relationName)continue;let o="object"==typeof s?s:{};t[a]=An({visitor:i,result:t[a],args:o,modelName:e.type,runtimeDataModel:n})}}function Da({result:e,modelName:t,args:r,extensions:n,runtimeDataModel:i,globalOmit:a}){return n.isEmpty()||null==e||"object"!=typeof e||!i.models[t]?e:An({result:e,args:r??{},modelName:t,runtimeDataModel:i,visitor:(e,t,r)=>{let i=Te(t);return Oa({result:e,modelName:i,select:r.select,omit:r.select?void 0:{...a?.[i],...r.omit},extensions:n})}})}function _a(e){if(e instanceof oe)return Qd(e);if(Array.isArray(e)){let t=[e[0]];for(let r=1;r<e.length;r++)t[r]=br(e[r]);return t}let t={};for(let r in e)t[r]=br(e[r]);return t}function Qd(e){return new oe(e.strings,e.values)}function br(e){if("object"!=typeof e||null==e||e instanceof Me||It(e))return e;if(vt(e))return new xe(e.toFixed());if(Pt(e))return new Date(+e);if(ArrayBuffer.isView(e))return e.slice(0);if(Array.isArray(e)){let t=e.length,r;for(r=Array(t);t--;)r[t]=br(e[t]);return r}if("object"==typeof e){let t={};for(let r in e)"__proto__"===r?Object.defineProperty(t,r,{value:br(e[r]),configurable:!0,enumerable:!0,writable:!0}):t[r]=br(e[r]);return t}Fe(e,"Unknown value")}function La(e,t,r,n=0){return e._createPrismaPromise(i=>{let a=t.customDataProxyFetch;return"transaction"in t&&void 0!==i&&(t.transaction?.kind==="batch"&&t.transaction.lock.then(),t.transaction=i),n===r.length?e._executeRequest(t):r[n]({model:t.model,operation:t.model?t.action:t.clientMethod,args:_a(t.args??{}),__internalParams:t,query:(i,s=t)=>{let o=s.customDataProxyFetch;return s.customDataProxyFetch=qa(a,o),s.args=i,La(e,s,r,n+1)}})})}function Na(e,t){let{jsModelName:r,action:n,clientMethod:i}=t,a=r?n:i;if(e._extensions.isEmpty())return e._executeRequest(t);let s=e._extensions.getAllQueryCallbacks(r??"$none",a);return La(e,t,s)}function Ma(e){return t=>{let r={requests:t},n=t[0].extensions.getAllBatchQueryCallbacks();return n.length?$a(r,n,0,e):e(r)}}function $a(e,t,r,n){if(r===t.length)return n(e);let i=e.customDataProxyFetch,a=e.requests[0].transaction;return t[r]({args:{queries:e.requests.map(e=>({model:e.modelName,operation:e.action,args:e.args})),transaction:a?{isolationLevel:"batch"===a.kind?a.isolationLevel:void 0}:void 0},__internalParams:e,query(a,s=e){let o=s.customDataProxyFetch;return s.customDataProxyFetch=qa(i,o),$a(s,t,r+1,n)}})}var Fa=e=>e;function qa(e=Fa,t=Fa){return r=>e(t(r))}var ja=L("prisma:client"),Va={Vercel:"vercel","Netlify CI":"netlify"};function Ba({postinstall:e,ciName:t,clientVersion:r}){if(ja("checkPlatformCaching:postinstall",e),ja("checkPlatformCaching:ciName",t),!0===e&&t&&t in Va){let e=`Prisma has detected that this project was built on ${t}, which caches dependencies. This leads to an outdated Prisma Client because Prisma's auto-generation isn't triggered. To fix this, make sure to run the \`prisma generate\` command during the build process.

Learn how: https://pris.ly/d/${Va[t]}-build`;throw console.error(e),new R(e,r)}}function Ua(e,t){return e?e.datasources?e.datasources:e.datasourceUrl?{[t[0]]:{url:e.datasourceUrl}}:{}:{}}var Jd="Cloudflare-Workers",Wd="node";function Ga(){return"object"==typeof Netlify?"netlify":"string"==typeof EdgeRuntime?"edge-light":globalThis.navigator?.userAgent===Jd?"workerd":globalThis.Deno?"deno":globalThis.__lagon__?"lagon":globalThis.process?.release?.name===Wd?"node":globalThis.Bun?"bun":globalThis.fastly?"fastly":"unknown"}var Hd={node:"Node.js",workerd:"Cloudflare Workers",deno:"Deno and Deno Deploy",netlify:"Netlify Edge Functions","edge-light":"Edge Runtime (Vercel Edge Functions, Vercel Edge Middleware, Next.js (Pages Router) Edge API Routes, Next.js (App Router) Edge Route Handlers or Next.js Middleware)"};function In(){let e=Ga();return{id:e,prettyName:Hd[e]||e,isEdge:["workerd","deno","netlify","edge-light"].includes(e)}}var Ka=k(__webpack_require__(7147)),Er=k(__webpack_require__(1017));function On(e){let{runtimeBinaryTarget:t}=e;return`Add "${t}" to \`binaryTargets\` in the "schema.prisma" file and run \`prisma generate\` after saving it:

${Kd(e)}`}function Kd(e){let{generator:t,generatorBinaryTargets:r,runtimeBinaryTarget:n}=e,i=[...r,{fromEnvVar:null,value:n}];return hi({...t,binaryTargets:i})}function Xe(e){let{runtimeBinaryTarget:t}=e;return`Prisma Client could not locate the Query Engine for runtime "${t}".`}function et(e){let{searchedLocations:t}=e;return`The following locations have been searched:
${[...new Set(t)].map(e=>`  ${e}`).join(`
`)}`}function Qa(e){let{runtimeBinaryTarget:t}=e;return`${Xe(e)}

This happened because \`binaryTargets\` have been pinned, but the actual deployment also required "${t}".
${On(e)}

${et(e)}`}function kn(e){return`We would appreciate if you could take the time to share some information with us.
Please help us by answering a few questions: https://pris.ly/${e}`}function Dn(e){let{errorStack:t}=e;return t?.match(/\/\.next|\/next@|\/next\//)?`

We detected that you are using Next.js, learn how to fix this: https://pris.ly/d/engine-not-found-nextjs.`:""}function Ja(e){let{queryEngineName:t}=e;return`${Xe(e)}${Dn(e)}

This is likely caused by a bundler that has not copied "${t}" next to the resulting bundle.
Ensure that "${t}" has been copied next to the bundle or in "${e.expectedLocation}".

${kn("engine-not-found-bundler-investigation")}

${et(e)}`}function Wa(e){let{runtimeBinaryTarget:t,generatorBinaryTargets:r}=e,n=r.find(e=>e.native);return`${Xe(e)}

This happened because Prisma Client was generated for "${n?.value??"unknown"}", but the actual deployment required "${t}".
${On(e)}

${et(e)}`}function Ha(e){let{queryEngineName:t}=e;return`${Xe(e)}${Dn(e)}

This is likely caused by tooling that has not copied "${t}" to the deployment folder.
Ensure that you ran \`prisma generate\` and that "${t}" has been copied to "${e.expectedLocation}".

${kn("engine-not-found-tooling-investigation")}

${et(e)}`}var zd=L("prisma:client:engines:resolveEnginePath"),Yd=()=>RegExp("runtime[\\\\/]library\\.m?js$");async function za(e,t){let r={binary:process.env.PRISMA_QUERY_ENGINE_BINARY,library:process.env.PRISMA_QUERY_ENGINE_LIBRARY}[e]??t.prismaPath;if(void 0!==r)return r;let{enginePath:n,searchedLocations:i}=await Zd(e,t);if(zd("enginePath",n),void 0!==n&&"binary"===e&&li(n),void 0!==n)return t.prismaPath=n;let a=await nt(),s=t.generator?.binaryTargets??[],o=s.some(e=>e.native),l=!s.some(e=>e.value===a),c=null===__filename.match(Yd()),u={searchedLocations:i,generatorBinaryTargets:s,generator:t.generator,runtimeBinaryTarget:a,queryEngineName:Ya(e,a),expectedLocation:Er.default.relative(process.cwd(),t.dirname),errorStack:Error().stack},d;throw new R(d=o&&l?Wa(u):l?Qa(u):c?Ja(u):Ha(u),t.clientVersion)}async function Zd(engineType,config){let binaryTarget=await nt(),searchedLocations=[],dirname=eval("__dirname"),searchLocations=[config.dirname,Er.default.resolve(dirname,".."),config.generator?.output?.value??dirname,Er.default.resolve(dirname,"../../../.prisma/client"),"/tmp/prisma-engines",config.cwd];for(let e of(__filename.includes("resolveEnginePath")&&searchLocations.push(Yo()),searchLocations)){let t=Ya(engineType,binaryTarget),r=Er.default.join(e,t);if(searchedLocations.push(e),Ka.default.existsSync(r))return{enginePath:r,searchedLocations}}return{enginePath:void 0,searchedLocations}}function Ya(e,t){return"library"===e?qr(t,"fs"):`query-engine-${t}${"windows"===t?".exe":""}`}var Hi=k(bi());function Za(e){return e?e.replace(/".*"/g,'"X"').replace(/[\s:\[]([+-]?([0-9]*[.])?[0-9]+)/g,e=>`${e[0]}5`):""}function Xa(e){return e.split(`
`).map(e=>e.replace(/^\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)\s*/,"").replace(/\+\d+\s*ms$/,"")).join(`
`)}var el=k(hs());function tl({title:e,user:t="prisma",repo:r="prisma",template:n="bug_report.yml",body:i}){return(0,el.default)({user:t,repo:r,template:n,title:e,body:i})}function rl({version:e,binaryTarget:t,title:r,description:n,engineVersion:i,database:a,query:s}){let o=So(6e3-(s?.length??0)),l=Xa((0,Hi.default)(o)),c=n?`# Description
\`\`\`
${n}
\`\`\``:"",u=tl({title:r,body:(0,Hi.default)(`Hi Prisma Team! My Prisma Client just crashed. This is the report:
## Versions

| Name            | Version            |
|-----------------|--------------------|
| Node            | ${process.version?.padEnd(19)}| 
| OS              | ${t?.padEnd(19)}|
| Prisma Client   | ${e?.padEnd(19)}|
| Query Engine    | ${i?.padEnd(19)}|
| Database        | ${a?.padEnd(19)}|

${c}

## Logs
\`\`\`
${l}
\`\`\`

## Client Snippet
\`\`\`ts
// PLEASE FILL YOUR CODE SNIPPET HERE
\`\`\`

## Schema
\`\`\`prisma
// PLEASE ADD YOUR SCHEMA HERE IF POSSIBLE
\`\`\`

## Prisma Engine Query
\`\`\`
${s?Za(s):""}
\`\`\`
`)});return`${r}

This is a non-recoverable error which probably happens when the Prisma Query Engine has a panic.

${X(u)}

If you want the Prisma team to look into it, please open the link above \u{1F64F}
To increase the chance of success, please post your schema and a snippet of
how you used Prisma Client in the issue. 
`}function Nt({inlineDatasources:e,overrideDatasources:t,env:r,clientVersion:n}){let i,a=Object.keys(e)[0],s=e[a]?.url,o=t[a]?.url;if(void 0===a?i=void 0:o?i=o:s?.value?i=s.value:s?.fromEnvVar&&(i=r[s.fromEnvVar]),s?.fromEnvVar!==void 0&&void 0===i)throw new R(`error: Environment variable not found: ${s.fromEnvVar}.`,n);if(void 0===i)throw new R("error: Missing URL environment variable, value, or override.",n);return i}var _n=class extends Error{constructor(e,t){super(e),this.clientVersion=t.clientVersion,this.cause=t.cause}get[Symbol.toStringTag](){return this.name}},se=class extends _n{constructor(e,t){super(e,t),this.isRetryable=t.isRetryable??!0}};function A(e,t){return{...e,isRetryable:t}}var Mt=class extends se{constructor(e){super("This request must be retried",A(e,!0)),this.name="ForcedRetryError",this.code="P5001"}};w(Mt,"ForcedRetryError");var at=class extends se{constructor(e,t){super(e,A(t,!1)),this.name="InvalidDatasourceError",this.code="P6001"}};w(at,"InvalidDatasourceError");var lt=class extends se{constructor(e,t){super(e,A(t,!1)),this.name="NotImplementedYetError",this.code="P5004"}};w(lt,"NotImplementedYetError");var q=class extends se{constructor(e,t){super(e,t),this.response=t.response;let r=this.response.headers.get("prisma-request-id");if(r){let e=`(The request id was: ${r})`;this.message=this.message+" "+e}}},ut=class extends q{constructor(e){super("Schema needs to be uploaded",A(e,!0)),this.name="SchemaMissingError",this.code="P5005"}};w(ut,"SchemaMissingError");var Ki="This request could not be understood by the server",wr=class extends q{constructor(e,t,r){super(t||Ki,A(e,!1)),this.name="BadRequestError",this.code="P5000",r&&(this.code=r)}};w(wr,"BadRequestError");var xr=class extends q{constructor(e,t){super("Engine not started: healthcheck timeout",A(e,!0)),this.name="HealthcheckTimeoutError",this.code="P5013",this.logs=t}};w(xr,"HealthcheckTimeoutError");var Pr=class extends q{constructor(e,t,r){super(t,A(e,!0)),this.name="EngineStartupError",this.code="P5014",this.logs=r}};w(Pr,"EngineStartupError");var vr=class extends q{constructor(e){super("Engine version is not supported",A(e,!1)),this.name="EngineVersionNotSupportedError",this.code="P5012"}};w(vr,"EngineVersionNotSupportedError");var zi="Request timed out",Tr=class extends q{constructor(e,t=zi){super(t,A(e,!1)),this.name="GatewayTimeoutError",this.code="P5009"}};w(Tr,"GatewayTimeoutError");var Xd="Interactive transaction error",Rr=class extends q{constructor(e,t=Xd){super(t,A(e,!1)),this.name="InteractiveTransactionError",this.code="P5015"}};w(Rr,"InteractiveTransactionError");var em="Request parameters are invalid",Cr=class extends q{constructor(e,t=em){super(t,A(e,!1)),this.name="InvalidRequestError",this.code="P5011"}};w(Cr,"InvalidRequestError");var Yi="Requested resource does not exist",Sr=class extends q{constructor(e,t=Yi){super(t,A(e,!1)),this.name="NotFoundError",this.code="P5003"}};w(Sr,"NotFoundError");var Zi="Unknown server error",$t=class extends q{constructor(e,t,r){super(t||Zi,A(e,!0)),this.name="ServerError",this.code="P5006",this.logs=r}};w($t,"ServerError");var Xi="Unauthorized, check your connection string",Ar=class extends q{constructor(e,t=Xi){super(t,A(e,!1)),this.name="UnauthorizedError",this.code="P5007"}};w(Ar,"UnauthorizedError");var eo="Usage exceeded, retry again later",Ir=class extends q{constructor(e,t=eo){super(t,A(e,!0)),this.name="UsageExceededError",this.code="P5008"}};async function tm(e){let t;try{t=await e.text()}catch{return{type:"EmptyError"}}try{let e=JSON.parse(t);if("string"==typeof e){if("InternalDataProxyError"===e)return{type:"DataProxyError",body:e};return{type:"UnknownTextError",body:e}}if("object"==typeof e&&null!==e){if("is_panic"in e&&"message"in e&&"error_code"in e)return{type:"QueryEngineError",body:e};if("EngineNotStarted"in e||"InteractiveTransactionMisrouted"in e||"InvalidRequestError"in e){let t=Object.values(e)[0].reason;return"string"!=typeof t||["SchemaMissing","EngineVersionNotSupported"].includes(t)?{type:"DataProxyError",body:e}:{type:"UnknownJsonError",body:e}}}return{type:"UnknownJsonError",body:e}}catch{return""===t?{type:"EmptyError"}:{type:"UnknownTextError",body:t}}}async function Or(e,t){if(e.ok)return;let r={clientVersion:t,response:e},n=await tm(e);if("QueryEngineError"===n.type)throw new V(n.body.message,{code:n.body.error_code,clientVersion:t});if("DataProxyError"===n.type){if("InternalDataProxyError"===n.body)throw new $t(r,"Internal Data Proxy error");if("EngineNotStarted"in n.body){if("SchemaMissing"===n.body.EngineNotStarted.reason)return new ut(r);if("EngineVersionNotSupported"===n.body.EngineNotStarted.reason)throw new vr(r);if("EngineStartupError"in n.body.EngineNotStarted.reason){let{msg:e,logs:t}=n.body.EngineNotStarted.reason.EngineStartupError;throw new Pr(r,e,t)}if("KnownEngineStartupError"in n.body.EngineNotStarted.reason){let{msg:e,error_code:r}=n.body.EngineNotStarted.reason.KnownEngineStartupError;throw new R(e,t,r)}if("HealthcheckTimeout"in n.body.EngineNotStarted.reason){let{logs:e}=n.body.EngineNotStarted.reason.HealthcheckTimeout;throw new xr(r,e)}}if("InteractiveTransactionMisrouted"in n.body)throw new Rr(r,{IDParseError:"Could not parse interactive transaction ID",NoQueryEngineFoundError:"Could not find Query Engine for the specified host and transaction ID",TransactionStartError:"Could not start interactive transaction"}[n.body.InteractiveTransactionMisrouted.reason]);if("InvalidRequestError"in n.body)throw new Cr(r,n.body.InvalidRequestError.reason)}if(401===e.status||403===e.status)throw new Ar(r,qt(Xi,n));if(404===e.status)return new Sr(r,qt(Yi,n));if(429===e.status)throw new Ir(r,qt(eo,n));if(504===e.status)throw new Tr(r,qt(zi,n));if(e.status>=500)throw new $t(r,qt(Zi,n));if(e.status>=400)throw new wr(r,qt(Ki,n))}function qt(e,t){return"EmptyError"===t.type?e:`${e}: ${JSON.stringify(t)}`}function nl(e){let t=50*Math.pow(2,e),r=Math.ceil(Math.random()*t)-Math.ceil(t/2),n=t+r;return new Promise(e=>setTimeout(()=>e(n),n))}w(Ir,"UsageExceededError");var $e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function il(e){let t=new TextEncoder().encode(e),r="",n=t.byteLength,i=n%3,a=n-i,s,o,l,c,u;for(let e=0;e<a;e+=3)s=(16515072&(u=t[e]<<16|t[e+1]<<8|t[e+2]))>>18,o=(258048&u)>>12,l=(4032&u)>>6,c=63&u,r+=$e[s]+$e[o]+$e[l]+$e[c];return 1==i?(s=(252&(u=t[a]))>>2,o=(3&u)<<4,r+=$e[s]+$e[o]+"=="):2==i&&(s=(64512&(u=t[a]<<8|t[a+1]))>>10,o=(1008&u)>>4,l=(15&u)<<2,r+=$e[s]+$e[o]+$e[l]+"="),r}function ol(e){if(e.generator?.previewFeatures.some(e=>e.toLowerCase().includes("metrics")))throw new R("The `metrics` preview feature is not yet available with Accelerate.\nPlease remove `metrics` from the `previewFeatures` in your schema.\n\nMore information about Accelerate: https://pris.ly/d/accelerate",e.clientVersion)}function rm(e){return 1e3*e[0]+e[1]/1e6}function sl(e){return new Date(rm(e))}var al={"@prisma/debug":"workspace:*","@prisma/engines-version":"5.22.0-44.605197351a3c8bdd595af2d2a9bc3025bca48ea2","@prisma/fetch-engine":"workspace:*","@prisma/get-platform":"workspace:*"},kr=class extends se{constructor(e,t){super(`Cannot fetch data from service:
${e}`,A(t,!0)),this.name="RequestError",this.code="P5010"}};async function ct(e,t,r=e=>e){let n=t.clientVersion;try{return"function"==typeof fetch?await r(fetch)(e,t):await r(to)(e,t)}catch(e){throw new kr(e.message??"Unknown error",{clientVersion:n})}}function im(e){return{...e.headers,"Content-Type":"application/json"}}function om(e){return{method:e.method,headers:im(e)}}function sm(e,t){return{text:()=>Promise.resolve(Buffer.concat(e).toString()),json:()=>Promise.resolve().then(()=>JSON.parse(Buffer.concat(e).toString())),ok:t.statusCode>=200&&t.statusCode<=299,status:t.statusCode,url:t.url,headers:new ro(t.headers)}}async function to(e,t={}){let r=am("https"),n=om(t),i=[],{origin:a}=new URL(e);return new Promise((s,o)=>{let l=r.request(e,n,e=>{let{statusCode:r,headers:{location:n}}=e;r>=301&&r<=399&&n&&(!1===n.startsWith("http")?s(to(`${a}${n}`,t)):s(to(n,t))),e.on("data",e=>i.push(e)),e.on("end",()=>s(sm(i,e))),e.on("error",o)});l.on("error",o),l.end(t.body??"")})}w(kr,"RequestError");var am=void 0,ro=class{constructor(e={}){for(let[t,r]of(this.headers=new Map,Object.entries(e)))if("string"==typeof r)this.headers.set(t,r);else if(Array.isArray(r))for(let e of r)this.headers.set(t,e)}append(e,t){this.headers.set(e,t)}delete(e){this.headers.delete(e)}get(e){return this.headers.get(e)??null}has(e){return this.headers.has(e)}set(e,t){this.headers.set(e,t)}forEach(e,t){for(let[r,n]of this.headers)e.call(t,n,r,this)}},lm=/^[1-9][0-9]*\.[0-9]+\.[0-9]+$/,ll=L("prisma:client:dataproxyEngine");async function um(e,t){let r=al["@prisma/engines-version"],n=t.clientVersion??"unknown";if(process.env.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION)return process.env.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION;if(e.includes("accelerate")&&"0.0.0"!==n&&"in-memory"!==n)return n;let[i,a]=n?.split("-")??[];if(void 0===a&&lm.test(i))return i;if(void 0!==a||"0.0.0"===n||"in-memory"===n){let t;if(e.startsWith("localhost")||e.startsWith("127.0.0.1"))return"0.0.0";let[i]=r.split("-")??[],[a,s,o]=i.split("."),l=cm(`<=${a}.${s}.${o}`),c=await ct(l,{clientVersion:n});if(!c.ok)throw Error(`Failed to fetch stable Prisma version, unpkg.com status ${c.status} ${c.statusText}, response body: ${await c.text()||"<empty body>"}`);let u=await c.text();ll("length of body fetched from unpkg.com",u.length);try{t=JSON.parse(u)}catch(e){throw console.error("JSON.parse error: body fetched from unpkg.com: ",u),e}return t.version}throw new lt("Only `major.minor.patch` versions are supported by Accelerate.",{clientVersion:n})}async function ul(e,t){let r=await um(e,t);return ll("version",r),r}function cm(e){return encodeURI(`https://unpkg.com/prisma@${e}/package.json`)}var cl=3,no=L("prisma:client:dataproxyEngine"),io=class{constructor({apiKey:e,tracingHelper:t,logLevel:r,logQueries:n,engineHash:i}){this.apiKey=e,this.tracingHelper=t,this.logLevel=r,this.logQueries=n,this.engineHash=i}build({traceparent:e,interactiveTransaction:t}={}){let r={Authorization:`Bearer ${this.apiKey}`,"Prisma-Engine-Hash":this.engineHash};this.tracingHelper.isEnabled()&&(r.traceparent=e??this.tracingHelper.getTraceParent()),t&&(r["X-transaction-id"]=t.id);let n=this.buildCaptureSettings();return n.length>0&&(r["X-capture-telemetry"]=n.join(", ")),r}buildCaptureSettings(){let e=[];return this.tracingHelper.isEnabled()&&e.push("tracing"),this.logLevel&&e.push(this.logLevel),this.logQueries&&e.push("query"),e}},Dr=class{constructor(e){this.name="DataProxyEngine",ol(e),this.config=e,this.env={...e.env,..."u">typeof process?process.env:{}},this.inlineSchema=il(e.inlineSchema),this.inlineDatasources=e.inlineDatasources,this.inlineSchemaHash=e.inlineSchemaHash,this.clientVersion=e.clientVersion,this.engineHash=e.engineVersion,this.logEmitter=e.logEmitter,this.tracingHelper=e.tracingHelper}apiKey(){return this.headerBuilder.apiKey}version(){return this.engineHash}async start(){void 0!==this.startPromise&&await this.startPromise,this.startPromise=(async()=>{let[e,t]=this.extractHostAndApiKey();this.host=e,this.headerBuilder=new io({apiKey:t,tracingHelper:this.tracingHelper,logLevel:this.config.logLevel,logQueries:this.config.logQueries,engineHash:this.engineHash}),this.remoteClientVersion=await ul(e,this.config),no("host",this.host)})(),await this.startPromise}async stop(){}propagateResponseExtensions(e){e?.logs?.length&&e.logs.forEach(e=>{switch(e.level){case"debug":case"error":case"trace":case"warn":case"info":break;case"query":{let t="string"==typeof e.attributes.query?e.attributes.query:"";if(!this.tracingHelper.isEnabled()){let[e]=t.split("/* traceparent");t=e}this.logEmitter.emit("query",{query:t,timestamp:sl(e.timestamp),duration:Number(e.attributes.duration_ms),params:e.attributes.params,target:e.attributes.target})}}}),e?.traces?.length&&this.tracingHelper.createEngineSpan({span:!0,spans:e.traces})}onBeforeExit(){throw Error('"beforeExit" hook is not applicable to the remote query engine')}async url(e){return await this.start(),`https://${this.host}/${this.remoteClientVersion}/${this.inlineSchemaHash}/${e}`}async uploadSchema(){let e={name:"schemaUpload",internal:!0};return this.tracingHelper.runInChildSpan(e,async()=>{let e=await ct(await this.url("schema"),{method:"PUT",headers:this.headerBuilder.build(),body:this.inlineSchema,clientVersion:this.clientVersion});e.ok||no("schema response status",e.status);let t=await Or(e,this.clientVersion);if(t)throw this.logEmitter.emit("warn",{message:`Error while uploading schema: ${t.message}`,timestamp:new Date,target:""}),t;this.logEmitter.emit("info",{message:`Schema (re)uploaded (hash: ${this.inlineSchemaHash})`,timestamp:new Date,target:""})})}request(e,{traceparent:t,interactiveTransaction:r,customDataProxyFetch:n}){return this.requestInternal({body:e,traceparent:t,interactiveTransaction:r,customDataProxyFetch:n})}async requestBatch(e,{traceparent:t,transaction:r,customDataProxyFetch:n}){let i=r?.kind==="itx"?r.options:void 0,a=Ft(e,r),{batchResult:s,elapsed:o}=await this.requestInternal({body:a,customDataProxyFetch:n,interactiveTransaction:i,traceparent:t});return s.map(e=>"errors"in e&&e.errors.length>0?st(e.errors[0],this.clientVersion,this.config.activeProvider):{data:e,elapsed:o})}requestInternal({body:e,traceparent:t,customDataProxyFetch:r,interactiveTransaction:n}){return this.withRetry({actionGerund:"querying",callback:async({logHttpCall:i})=>{let a=n?`${n.payload.endpoint}/graphql`:await this.url("graphql");i(a);let s=await ct(a,{method:"POST",headers:this.headerBuilder.build({traceparent:t,interactiveTransaction:n}),body:JSON.stringify(e),clientVersion:this.clientVersion},r);s.ok||no("graphql response status",s.status),await this.handleError(await Or(s,this.clientVersion));let o=await s.json(),l=o.extensions;if(l&&this.propagateResponseExtensions(l),o.errors)throw 1===o.errors.length?st(o.errors[0],this.config.clientVersion,this.config.activeProvider):new B(o.errors,{clientVersion:this.config.clientVersion});return o}})}async transaction(e,t,r){let n={start:"starting",commit:"committing",rollback:"rolling back"};return this.withRetry({actionGerund:`${n[e]} transaction`,callback:async({logHttpCall:n})=>{if("start"===e){let e=JSON.stringify({max_wait:r.maxWait,timeout:r.timeout,isolation_level:r.isolationLevel}),i=await this.url("transaction/start");n(i);let a=await ct(i,{method:"POST",headers:this.headerBuilder.build({traceparent:t.traceparent}),body:e,clientVersion:this.clientVersion});await this.handleError(await Or(a,this.clientVersion));let s=await a.json(),o=s.extensions;return o&&this.propagateResponseExtensions(o),{id:s.id,payload:{endpoint:s["data-proxy"].endpoint}}}{let i=`${r.payload.endpoint}/${e}`;n(i);let a=await ct(i,{method:"POST",headers:this.headerBuilder.build({traceparent:t.traceparent}),clientVersion:this.clientVersion});await this.handleError(await Or(a,this.clientVersion));let s=(await a.json()).extensions;s&&this.propagateResponseExtensions(s);return}}})}extractHostAndApiKey(){let e={clientVersion:this.clientVersion},t=Object.keys(this.inlineDatasources)[0],r=Nt({inlineDatasources:this.inlineDatasources,overrideDatasources:this.config.overrideDatasources,clientVersion:this.clientVersion,env:this.env}),n;try{n=new URL(r)}catch{throw new at(`Error validating datasource \`${t}\`: the URL must start with the protocol \`prisma://\``,e)}let{protocol:i,host:a,searchParams:s}=n;if("prisma:"!==i&&"prisma+postgres:"!==i)throw new at(`Error validating datasource \`${t}\`: the URL must start with the protocol \`prisma://\``,e);let o=s.get("api_key");if(null===o||o.length<1)throw new at(`Error validating datasource \`${t}\`: the URL must contain a valid API key`,e);return[a,o]}metrics(){throw new lt("Metrics are not yet supported for Accelerate",{clientVersion:this.clientVersion})}async withRetry(e){for(let t=0;;t++){let r=e=>{this.logEmitter.emit("info",{message:`Calling ${e} (n=${t})`,timestamp:new Date,target:""})};try{return await e.callback({logHttpCall:r})}catch(n){if(!(n instanceof se)||!n.isRetryable)throw n;if(t>=cl)throw n instanceof Mt?n.cause:n;this.logEmitter.emit("warn",{message:`Attempt ${t+1}/${cl} failed for ${e.actionGerund}: ${n.message??"(unknown)"}`,timestamp:new Date,target:""});let r=await nl(t);this.logEmitter.emit("warn",{message:`Retrying after ${r}ms`,timestamp:new Date,target:""})}}}async handleError(e){if(e instanceof ut)throw await this.uploadSchema(),new Mt({clientVersion:this.clientVersion,cause:e});if(e)throw e}applyPendingMigrations(){throw Error("Method not implemented.")}};function pl(e){if(e?.kind==="itx")return e.options.id}var so=k(__webpack_require__(2037)),dl=k(__webpack_require__(1017)),oo=Symbol("PrismaLibraryEngineCache");function pm(){let e=globalThis;return void 0===e[oo]&&(e[oo]={}),e[oo]}function dm(e){let t=pm();if(void 0!==t[e])return t[e];let r=dl.default.toNamespacedPath(e),n={exports:{}},i=0;return"win32"!==process.platform&&(i=so.default.constants.dlopen.RTLD_LAZY|so.default.constants.dlopen.RTLD_DEEPBIND),process.dlopen(n,r,i),t[e]=n.exports,n.exports}var ao,ml={async loadLibrary(e){let t=await Yn(),r=await za("library",e);try{return e.tracingHelper.runInChildSpan({name:"loadLibrary",internal:!0},()=>dm(r))}catch(n){throw new R(ui({e:n,platformInfo:t,id:r}),e.clientVersion)}}},fl={async loadLibrary(e){let{clientVersion:t,adapter:r,engineWasm:n}=e;if(void 0===r)throw new R(`The \`adapter\` option for \`PrismaClient\` is required in this context (${In().prettyName})`,t);if(void 0===n)throw new R("WASM engine was unexpectedly `undefined`",t);return void 0===ao&&(ao=(async()=>{let e=n.getRuntime(),r=await n.getQueryEngineWasmModule();if(null==r)throw new R("The loaded wasm module was unexpectedly `undefined` or `null` once loaded",t);let i={"./query_engine_bg.js":e},a=new WebAssembly.Instance(r,i);return e.__wbg_set_wasm(a.exports),e.QueryEngine})()),{debugPanic:()=>Promise.reject("{}"),dmmf:()=>Promise.resolve("{}"),version:()=>({commit:"unknown",version:"unknown"}),QueryEngine:await ao}}},mm="P2036",Ae=L("prisma:client:libraryEngine");function fm(e){return"query"===e.item_type&&"query"in e}function gm(e){return"level"in e&&"error"===e.level&&"PANIC"===e.message}var gl=[...Jn,"native"],_r=class{constructor(e,t){this.name="LibraryEngine",this.libraryLoader=t??ml,void 0!==e.engineWasm&&(this.libraryLoader=t??fl),this.config=e,this.libraryStarted=!1,this.logQueries=e.logQueries??!1,this.logLevel=e.logLevel??"error",this.logEmitter=e.logEmitter,this.datamodel=e.inlineSchema,e.enableDebugLogs&&(this.logLevel="debug");let r=Object.keys(e.overrideDatasources)[0],n=e.overrideDatasources[r]?.url;void 0!==r&&void 0!==n&&(this.datasourceOverrides={[r]:n}),this.libraryInstantiationPromise=this.instantiateLibrary()}async applyPendingMigrations(){throw Error("Cannot call this method from this type of engine instance")}async transaction(e,t,r){await this.start();let n=JSON.stringify(t),i;if("start"===e){let e=JSON.stringify({max_wait:r.maxWait,timeout:r.timeout,isolation_level:r.isolationLevel});i=await this.engine?.startTransaction(e,n)}else"commit"===e?i=await this.engine?.commitTransaction(r.id,n):"rollback"===e&&(i=await this.engine?.rollbackTransaction(r.id,n));let a=this.parseEngineResponse(i);if(hm(a)){let e=this.getExternalAdapterError(a);throw e?e.error:new V(a.message,{code:a.error_code,clientVersion:this.config.clientVersion,meta:a.meta})}return a}async instantiateLibrary(){if(Ae("internalSetup"),this.libraryInstantiationPromise)return this.libraryInstantiationPromise;Qn(),this.binaryTarget=await this.getCurrentBinaryTarget(),await this.loadEngine(),this.version()}async getCurrentBinaryTarget(){{if(this.binaryTarget)return this.binaryTarget;let e=await nt();if(!gl.includes(e))throw new R(`Unknown ${ce("PRISMA_QUERY_ENGINE_LIBRARY")} ${ce(H(e))}. Possible binaryTargets: ${qe(gl.join(", "))} or a path to the query engine library.
You may have to run ${qe("prisma generate")} for your changes to take effect.`,this.config.clientVersion);return e}}parseEngineResponse(e){if(!e)throw new B("Response from the Engine was empty",{clientVersion:this.config.clientVersion});try{return JSON.parse(e)}catch{throw new B("Unable to JSON.parse response from engine",{clientVersion:this.config.clientVersion})}}async loadEngine(){if(!this.engine){this.QueryEngineConstructor||(this.library=await this.libraryLoader.loadLibrary(this.config),this.QueryEngineConstructor=this.library.QueryEngine);try{let e=new WeakRef(this),{adapter:t}=this.config;t&&Ae("Using driver adapter: %O",t),this.engine=new this.QueryEngineConstructor({datamodel:this.datamodel,env:process.env,logQueries:this.config.logQueries??!1,ignoreEnvVarErrors:!0,datasourceOverrides:this.datasourceOverrides??{},logLevel:this.logLevel,configDir:this.config.cwd,engineProtocol:"json"},t=>{e.deref()?.logger(t)},t)}catch(r){let e=r,t=this.parseInitError(e.message);throw"string"==typeof t?e:new R(t.message,this.config.clientVersion,t.error_code)}}}logger(e){let t=this.parseEngineResponse(e);if(t){if("span"in t){this.config.tracingHelper.createEngineSpan(t);return}t.level=t?.level.toLowerCase()??"unknown",fm(t)?this.logEmitter.emit("query",{timestamp:new Date,query:t.query,params:t.params,duration:Number(t.duration_ms),target:t.module_path}):gm(t)?this.loggerRustPanic=new le(lo(this,`${t.message}: ${t.reason} in ${t.file}:${t.line}:${t.column}`),this.config.clientVersion):this.logEmitter.emit(t.level,{timestamp:new Date,message:t.message,target:t.module_path})}}parseInitError(e){try{return JSON.parse(e)}catch{}return e}parseRequestError(e){try{return JSON.parse(e)}catch{}return e}onBeforeExit(){throw Error('"beforeExit" hook is not applicable to the library engine since Prisma 5.0.0, it is only relevant and implemented for the binary engine. Please add your event listener to the `process` object directly instead.')}async start(){if(await this.libraryInstantiationPromise,await this.libraryStoppingPromise,this.libraryStartingPromise)return Ae(`library already starting, this.libraryStarted: ${this.libraryStarted}`),this.libraryStartingPromise;if(this.libraryStarted)return;let e=async()=>{Ae("library starting");try{let e={traceparent:this.config.tracingHelper.getTraceParent()};await this.engine?.connect(JSON.stringify(e)),this.libraryStarted=!0,Ae("library started")}catch(t){let e=this.parseInitError(t.message);throw"string"==typeof e?t:new R(e.message,this.config.clientVersion,e.error_code)}finally{this.libraryStartingPromise=void 0}};return this.libraryStartingPromise=this.config.tracingHelper.runInChildSpan("connect",e),this.libraryStartingPromise}async stop(){if(await this.libraryStartingPromise,await this.executingQueryPromise,this.libraryStoppingPromise)return Ae("library is already stopping"),this.libraryStoppingPromise;if(!this.libraryStarted)return;let e=async()=>{await new Promise(e=>setTimeout(e,5)),Ae("library stopping");let e={traceparent:this.config.tracingHelper.getTraceParent()};await this.engine?.disconnect(JSON.stringify(e)),this.libraryStarted=!1,this.libraryStoppingPromise=void 0,Ae("library stopped")};return this.libraryStoppingPromise=this.config.tracingHelper.runInChildSpan("disconnect",e),this.libraryStoppingPromise}version(){return this.versionInfo=this.library?.version(),this.versionInfo?.version??"unknown"}debugPanic(e){return this.library?.debugPanic(e)}async request(e,{traceparent:t,interactiveTransaction:r}){Ae(`sending request, this.libraryStarted: ${this.libraryStarted}`);let n=JSON.stringify({traceparent:t}),i=JSON.stringify(e);try{await this.start(),this.executingQueryPromise=this.engine?.query(i,n,r?.id),this.lastQuery=i;let e=this.parseEngineResponse(await this.executingQueryPromise);if(e.errors)throw 1===e.errors.length?this.buildQueryError(e.errors[0]):new B(JSON.stringify(e.errors),{clientVersion:this.config.clientVersion});if(this.loggerRustPanic)throw this.loggerRustPanic;return{data:e,elapsed:0}}catch(t){if(t instanceof R)throw t;if("GenericFailure"===t.code&&t.message?.startsWith("PANIC:"))throw new le(lo(this,t.message),this.config.clientVersion);let e=this.parseRequestError(t.message);throw"string"==typeof e?t:new B(`${e.message}
${e.backtrace}`,{clientVersion:this.config.clientVersion})}}async requestBatch(e,{transaction:t,traceparent:r}){Ae("requestBatch");let n=Ft(e,t);await this.start(),this.lastQuery=JSON.stringify(n),this.executingQueryPromise=this.engine.query(this.lastQuery,JSON.stringify({traceparent:r}),pl(t));let i=await this.executingQueryPromise,a=this.parseEngineResponse(i);if(a.errors)throw 1===a.errors.length?this.buildQueryError(a.errors[0]):new B(JSON.stringify(a.errors),{clientVersion:this.config.clientVersion});let{batchResult:s,errors:o}=a;if(Array.isArray(s))return s.map(e=>e.errors&&e.errors.length>0?this.loggerRustPanic??this.buildQueryError(e.errors[0]):{data:e,elapsed:0});throw o&&1===o.length?Error(o[0].error):Error(JSON.stringify(a))}buildQueryError(e){if(e.user_facing_error.is_panic)return new le(lo(this,e.user_facing_error.message),this.config.clientVersion);let t=this.getExternalAdapterError(e.user_facing_error);return t?t.error:st(e,this.config.clientVersion,this.config.activeProvider)}getExternalAdapterError(e){if(e.error_code===mm&&this.config.adapter){let t=e.meta?.id;Yr("number"==typeof t,"Malformed external JS error received from the engine");let r=this.config.adapter.errorRegistry.consumeError(t);return Yr(r,"External error with reported id was not registered"),r}}async metrics(e){await this.start();let t=await this.engine.metrics(JSON.stringify(e));return"prometheus"===e.format?t:this.parseEngineResponse(t)}};function hm(e){return"object"==typeof e&&null!==e&&void 0!==e.error_code}function lo(e,t){return rl({binaryTarget:e.binaryTarget,title:t,version:e.config.clientVersion,engineVersion:e.versionInfo?.commit,database:e.config.activeProvider,query:e.lastQuery})}function hl({copyEngine:e=!0},t){let r;try{r=Nt({inlineDatasources:t.inlineDatasources,overrideDatasources:t.overrideDatasources,env:{...t.env,...process.env},clientVersion:t.clientVersion})}catch{}let n=!!(r?.startsWith("prisma://")||r?.startsWith("prisma+postgres://"));e&&n&&tr("recommend--no-engine","In production, we recommend using `prisma generate --no-engine` (See: `prisma generate --help`)");let i=Yt(t.generator),a=n||!e,s=!!t.adapter,o="library"===i;if(a&&s){let n;throw new J((n=e?r?.startsWith("prisma://")?["Prisma Client was configured to use the `adapter` option but the URL was a `prisma://` URL.","Please either use the `prisma://` URL or remove the `adapter` from the Prisma Client constructor."]:["Prisma Client was configured to use both the `adapter` and Accelerate, please chose one."]:["Prisma Client was configured to use the `adapter` option but `prisma generate` was run with `--no-engine`.","Please run `prisma generate` without `--no-engine` to be able to use Prisma Client with the adapter."]).join(`
`),{clientVersion:t.clientVersion})}if(a)return new Dr(t);if(o)return new _r(t);throw new J("Invalid client engine type, please use `library` or `binary`",{clientVersion:t.clientVersion})}function Fn({generator:e}){return e?.previewFeatures??[]}var yl=e=>({command:e}),bl=e=>e.strings.reduce((e,t,r)=>`${e}@P${r}${t}`);function jt(e){try{return El(e,"fast")}catch{return El(e,"slow")}}function El(e,t){return JSON.stringify(e.map(e=>xl(e,t)))}function xl(e,t){return Array.isArray(e)?e.map(e=>xl(e,t)):"bigint"==typeof e?{prisma__type:"bigint",prisma__value:e.toString()}:Pt(e)?{prisma__type:"date",prisma__value:e.toJSON()}:xe.isDecimal(e)?{prisma__type:"decimal",prisma__value:e.toJSON()}:Buffer.isBuffer(e)?{prisma__type:"bytes",prisma__value:e.toString("base64")}:ym(e)||ArrayBuffer.isView(e)?{prisma__type:"bytes",prisma__value:Buffer.from(e).toString("base64")}:"object"==typeof e&&"slow"===t?Pl(e):e}function ym(e){return!!(e instanceof ArrayBuffer||e instanceof SharedArrayBuffer)||"object"==typeof e&&null!==e&&("ArrayBuffer"===e[Symbol.toStringTag]||"SharedArrayBuffer"===e[Symbol.toStringTag])}function Pl(e){if("object"!=typeof e||null===e)return e;if("function"==typeof e.toJSON)return e.toJSON();if(Array.isArray(e))return e.map(wl);let t={};for(let r of Object.keys(e))t[r]=wl(e[r]);return t}function wl(e){return"bigint"==typeof e?e.toString():Pl(e)}var bm=["$connect","$disconnect","$on","$transaction","$use","$extends"],vl=bm,Em=/^(\s*alter\s)/i,Tl=L("prisma:client");function uo(e,t,r,n){if(!("postgresql"!==e&&"cockroachdb"!==e)&&r.length>0&&Em.exec(t))throw Error(`Running ALTER using ${n} is not supported
Using the example below you can still execute your query with Prisma, but please note that it is vulnerable to SQL injection attacks and requires you to take care of input sanitization.

Example:
  await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)

More Information: https://pris.ly/d/execute-raw
`)}var co=({clientMethod:e,activeProvider:t})=>r=>{let n="",i;if(pa(r))n=r.sql,i={values:jt(r.values),__prismaRawParameters__:!0};else if(Array.isArray(r)){let[e,...t]=r;n=e,i={values:jt(t||[]),__prismaRawParameters__:!0}}else switch(t){case"sqlite":case"mysql":n=r.sql,i={values:jt(r.values),__prismaRawParameters__:!0};break;case"cockroachdb":case"postgresql":case"postgres":n=r.text,i={values:jt(r.values),__prismaRawParameters__:!0};break;case"sqlserver":n=bl(r),i={values:jt(r.values),__prismaRawParameters__:!0};break;default:throw Error(`The ${t} provider does not support ${e}`)}return i?.values?Tl(`prisma.${e}(${n}, ${i.values})`):Tl(`prisma.${e}(${n})`),{query:n,parameters:i}},Rl={requestArgsToMiddlewareArgs:e=>[e.strings,...e.values],middlewareArgsToRequestArgs(e){let[t,...r]=e;return new oe(t,r)}},Cl={requestArgsToMiddlewareArgs:e=>[e],middlewareArgsToRequestArgs:e=>e[0]};function po(e){return function(t){let r,n=(n=e)=>{try{return void 0===n||n?.kind==="itx"?r??=Sl(t(n)):Sl(t(n))}catch(e){return Promise.reject(e)}};return{then:(e,t)=>n().then(e,t),catch:e=>n().catch(e),finally:e=>n().finally(e),requestTransaction(e){let t=n(e);return t.requestTransaction?t.requestTransaction(e):t},[Symbol.toStringTag]:"PrismaPromise"}}}function Sl(e){return"function"==typeof e.then?e:Promise.resolve(e)}var Al={isEnabled:()=>!1,getTraceParent:()=>"00-10-10-00",async createEngineSpan(){},getActiveContext(){},runInChildSpan:(e,t)=>t()},mo=class{isEnabled(){return this.getGlobalTracingHelper().isEnabled()}getTraceParent(e){return this.getGlobalTracingHelper().getTraceParent(e)}createEngineSpan(e){return this.getGlobalTracingHelper().createEngineSpan(e)}getActiveContext(){return this.getGlobalTracingHelper().getActiveContext()}runInChildSpan(e,t){return this.getGlobalTracingHelper().runInChildSpan(e,t)}getGlobalTracingHelper(){return globalThis.PRISMA_INSTRUMENTATION?.helper??Al}};function Il(e){return e.includes("tracing")?new mo:Al}function Ol(e,t=()=>{}){let r,n=new Promise(e=>r=e);return{then:i=>(0==--e&&r(t()),i?.(n))}}function kl(e){return"string"==typeof e?e:e.reduce((e,t)=>{let r="string"==typeof t?t:t.level;return"query"===r?e:e&&("info"===t||"info"===e)?"info":r},void 0)}var Ln=class{constructor(){this._middlewares=[]}use(e){this._middlewares.push(e)}get(e){return this._middlewares[e]}has(e){return!!this._middlewares[e]}length(){return this._middlewares.length}},Fl=k(bi());function Nn(e){return"number"==typeof e.batchRequestIdx}function Dl(e){if("findUnique"!==e.action&&"findUniqueOrThrow"!==e.action)return;let t=[];return e.modelName&&t.push(e.modelName),e.query.arguments&&t.push(fo(e.query.arguments)),t.push(fo(e.query.selection)),t.join("")}function fo(e){return`(${Object.keys(e).sort().map(t=>{let r=e[t];return"object"==typeof r&&null!==r?`(${t} ${fo(r)})`:t}).join(" ")})`}var wm={aggregate:!1,aggregateRaw:!1,createMany:!0,createManyAndReturn:!0,createOne:!0,deleteMany:!0,deleteOne:!0,executeRaw:!0,findFirst:!1,findFirstOrThrow:!1,findMany:!1,findRaw:!1,findUnique:!1,findUniqueOrThrow:!1,groupBy:!1,queryRaw:!1,runCommandRaw:!0,updateMany:!0,updateOne:!0,upsertOne:!0};function go(e){return wm[e]}var Mn=class{constructor(e){this.options=e,this.tickActive=!1,this.batches={}}request(e){let t=this.options.batchBy(e);return t?(this.batches[t]||(this.batches[t]=[],this.tickActive||(this.tickActive=!0,process.nextTick(()=>{this.dispatchBatches(),this.tickActive=!1}))),new Promise((r,n)=>{this.batches[t].push({request:e,resolve:r,reject:n})})):this.options.singleLoader(e)}dispatchBatches(){for(let e in this.batches){let t=this.batches[e];delete this.batches[e],1===t.length?this.options.singleLoader(t[0].request).then(e=>{e instanceof Error?t[0].reject(e):t[0].resolve(e)}).catch(e=>{t[0].reject(e)}):(t.sort((e,t)=>this.options.batchOrder(e.request,t.request)),this.options.batchLoader(t.map(e=>e.request)).then(e=>{if(e instanceof Error)for(let r=0;r<t.length;r++)t[r].reject(e);else for(let r=0;r<t.length;r++){let n=e[r];n instanceof Error?t[r].reject(n):t[r].resolve(n)}}).catch(e=>{for(let r=0;r<t.length;r++)t[r].reject(e)}))}}get[Symbol.toStringTag](){return"DataLoader"}};function pt(e,t){if(null===t)return t;switch(e){case"bigint":return BigInt(t);case"bytes":return Buffer.from(t,"base64");case"decimal":return new xe(t);case"datetime":case"date":return new Date(t);case"time":return new Date(`1970-01-01T${t}Z`);case"bigint-array":return t.map(e=>pt("bigint",e));case"bytes-array":return t.map(e=>pt("bytes",e));case"decimal-array":return t.map(e=>pt("decimal",e));case"datetime-array":return t.map(e=>pt("datetime",e));case"date-array":return t.map(e=>pt("date",e));case"time-array":return t.map(e=>pt("time",e));default:return t}}function _l(e){let t=[],r=xm(e);for(let n=0;n<e.rows.length;n++){let i=e.rows[n],a={...r};for(let t=0;t<i.length;t++)a[e.columns[t]]=pt(e.types[t],i[t]);t.push(a)}return t}function xm(e){let t={};for(let r=0;r<e.columns.length;r++)t[e.columns[r]]=null;return t}var Pm=L("prisma:client:request_handler"),$n=class{constructor(e,t){this.logEmitter=t,this.client=e,this.dataloader=new Mn({batchLoader:Ma(async({requests:e,customDataProxyFetch:t})=>{let{transaction:r,otelParentCtx:n}=e[0],i=e.map(e=>e.protocolQuery),a=this.client._tracingHelper.getTraceParent(n),s=e.some(e=>go(e.protocolQuery.action));return(await this.client._engine.requestBatch(i,{traceparent:a,transaction:vm(r),containsWrite:s,customDataProxyFetch:t})).map((t,r)=>{if(t instanceof Error)return t;try{return this.mapQueryEngineResult(e[r],t)}catch(e){return e}})}),singleLoader:async e=>{let t=e.transaction?.kind==="itx"?Ll(e.transaction):void 0,r=await this.client._engine.request(e.protocolQuery,{traceparent:this.client._tracingHelper.getTraceParent(),interactiveTransaction:t,isWrite:go(e.protocolQuery.action),customDataProxyFetch:e.customDataProxyFetch});return this.mapQueryEngineResult(e,r)},batchBy:e=>e.transaction?.id?`transaction-${e.transaction.id}`:Dl(e.protocolQuery),batchOrder:(e,t)=>e.transaction?.kind==="batch"&&t.transaction?.kind==="batch"?e.transaction.index-t.transaction.index:0})}async request(e){try{return await this.dataloader.request(e)}catch(s){let{clientMethod:t,callsite:r,transaction:n,args:i,modelName:a}=e;this.handleAndLogRequestError({error:s,clientMethod:t,callsite:r,transaction:n,args:i,modelName:a,globalOmit:e.globalOmit})}}mapQueryEngineResult({dataPath:e,unpacker:t},r){let n=r?.data,i=r?.elapsed,a=this.unpack(n,e,t);return process.env.PRISMA_CLIENT_GET_TIME?{data:a,elapsed:i}:a}handleAndLogRequestError(e){try{this.handleRequestError(e)}catch(t){throw this.logEmitter&&this.logEmitter.emit("error",{message:t.message,target:e.clientMethod,timestamp:new Date}),t}}handleRequestError({error:e,clientMethod:t,callsite:r,transaction:n,args:i,modelName:a,globalOmit:s}){if(Pm(e),Tm(e,n)||e instanceof Le)throw e;e instanceof V&&Rm(e)&&wn({args:i,errors:[Nl(e.meta)],callsite:r,errorFormat:this.client._errorFormat,originalMethod:t,clientVersion:this.client._clientVersion,globalOmit:s});let o=e.message;if(r&&(o=Tt({callsite:r,originalMethod:t,isPanic:e.isPanic,showColors:"pretty"===this.client._errorFormat,message:o})),o=this.sanitizeMessage(o),e.code){let t=a?{modelName:a,...e.meta}:e.meta;throw new V(o,{code:e.code,clientVersion:this.client._clientVersion,meta:t,batchRequestIdx:e.batchRequestIdx})}if(e.isPanic)throw new le(o,this.client._clientVersion);if(e instanceof B)throw new B(o,{clientVersion:this.client._clientVersion,batchRequestIdx:e.batchRequestIdx});if(e instanceof R)throw new R(o,this.client._clientVersion);if(e instanceof le)throw new le(o,this.client._clientVersion);throw e.clientVersion=this.client._clientVersion,e}sanitizeMessage(e){return this.client._errorFormat&&"pretty"!==this.client._errorFormat?(0,Fl.default)(e):e}unpack(e,t,r){if(!e||(e.data&&(e=e.data),!e))return e;let n=Object.keys(e)[0],i=Gi(Object.values(e)[0],t.filter(e=>"select"!==e&&"include"!==e)),a="queryRaw"===n?_l(i):wt(i);return r?r(a):a}get[Symbol.toStringTag](){return"RequestHandler"}};function vm(e){if(e){if("batch"===e.kind)return{kind:"batch",options:{isolationLevel:e.isolationLevel}};if("itx"===e.kind)return{kind:"itx",options:Ll(e)};Fe(e,"Unknown transaction kind")}}function Ll(e){return{id:e.id,payload:e.payload}}function Tm(e,t){return Nn(e)&&t?.kind==="batch"&&e.batchRequestIdx!==t.index}function Rm(e){return"P2009"===e.code||"P2012"===e.code}function Nl(e){if("Union"===e.kind)return{kind:"Union",errors:e.errors.map(Nl)};if(Array.isArray(e.selectionPath)){let[,...t]=e.selectionPath;return{...e,selectionPath:t}}return e}var Ml="5.22.0",$l=Ml,Ul=k(Ai()),F=class extends Error{constructor(e){super(e+`
Read more at https://pris.ly/d/client-constructor`),this.name="PrismaClientConstructorValidationError"}get[Symbol.toStringTag](){return"PrismaClientConstructorValidationError"}};w(F,"PrismaClientConstructorValidationError");var ql=["datasources","datasourceUrl","errorFormat","adapter","log","transactionOptions","omit","__internal"],jl=["pretty","colorless","minimal"],Vl=["info","query","warn","error"],Sm={datasources:(e,{datasourceNames:t})=>{if(e){if("object"!=typeof e||Array.isArray(e))throw new F(`Invalid value ${JSON.stringify(e)} for "datasources" provided to PrismaClient constructor`);for(let[r,n]of Object.entries(e)){if(!t.includes(r)){let e=Vt(r,t)||` Available datasources: ${t.join(", ")}`;throw new F(`Unknown datasource ${r} provided to PrismaClient constructor.${e}`)}if("object"!=typeof n||Array.isArray(n))throw new F(`Invalid value ${JSON.stringify(e)} for datasource "${r}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`);if(n&&"object"==typeof n)for(let[t,i]of Object.entries(n)){if("url"!==t)throw new F(`Invalid value ${JSON.stringify(e)} for datasource "${r}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`);if("string"!=typeof i)throw new F(`Invalid value ${JSON.stringify(i)} for datasource "${r}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`)}}}},adapter:(e,t)=>{if(null!==e){if(void 0===e)throw new F('"adapter" property must not be undefined, use null to conditionally disable driver adapters.');if(!Fn(t).includes("driverAdapters"))throw new F('"adapter" property can only be provided to PrismaClient constructor when "driverAdapters" preview feature is enabled.');if("binary"===Yt())throw new F('Cannot use a driver adapter with the "binary" Query Engine. Please use the "library" Query Engine.')}},datasourceUrl:e=>{if("u">typeof e&&"string"!=typeof e)throw new F(`Invalid value ${JSON.stringify(e)} for "datasourceUrl" provided to PrismaClient constructor.
Expected string or undefined.`)},errorFormat:e=>{if(e){if("string"!=typeof e)throw new F(`Invalid value ${JSON.stringify(e)} for "errorFormat" provided to PrismaClient constructor.`);if(!jl.includes(e)){let t=Vt(e,jl);throw new F(`Invalid errorFormat ${e} provided to PrismaClient constructor.${t}`)}}},log:e=>{if(e){if(!Array.isArray(e))throw new F(`Invalid value ${JSON.stringify(e)} for "log" provided to PrismaClient constructor.`);for(let r of e){t(r);let e={level:t,emit:e=>{let t=["stdout","event"];if(!t.includes(e)){let r=Vt(e,t);throw new F(`Invalid value ${JSON.stringify(e)} for "emit" in logLevel provided to PrismaClient constructor.${r}`)}}};if(r&&"object"==typeof r)for(let[t,n]of Object.entries(r))if(e[t])e[t](n);else throw new F(`Invalid property ${t} for "log" provided to PrismaClient constructor`)}}function t(e){if("string"==typeof e&&!Vl.includes(e)){let t=Vt(e,Vl);throw new F(`Invalid log level "${e}" provided to PrismaClient constructor.${t}`)}}},transactionOptions:e=>{if(!e)return;let t=e.maxWait;if(null!=t&&t<=0)throw new F(`Invalid value ${t} for maxWait in "transactionOptions" provided to PrismaClient constructor. maxWait needs to be greater than 0`);let r=e.timeout;if(null!=r&&r<=0)throw new F(`Invalid value ${r} for timeout in "transactionOptions" provided to PrismaClient constructor. timeout needs to be greater than 0`)},omit:(e,t)=>{if("object"!=typeof e)throw new F('"omit" option is expected to be an object.');if(null===e)throw new F('"omit" option can not be `null`');let r=[];for(let[n,i]of Object.entries(e)){let e=Im(n,t.runtimeDataModel);if(!e){r.push({kind:"UnknownModel",modelKey:n});continue}for(let[t,a]of Object.entries(i)){let i=e.fields.find(e=>e.name===t);if(!i){r.push({kind:"UnknownField",modelKey:n,fieldName:t});continue}if(i.relationName){r.push({kind:"RelationInOmit",modelKey:n,fieldName:t});continue}"boolean"!=typeof a&&r.push({kind:"InvalidFieldValue",modelKey:n,fieldName:t})}}if(r.length>0)throw new F(Om(e,r))},__internal:e=>{if(!e)return;let t=["debug","engine","configOverride"];if("object"!=typeof e)throw new F(`Invalid value ${JSON.stringify(e)} for "__internal" to PrismaClient constructor`);for(let[r]of Object.entries(e))if(!t.includes(r)){let e=Vt(r,t);throw new F(`Invalid property ${JSON.stringify(r)} for "__internal" provided to PrismaClient constructor.${e}`)}}};function Gl(e,t){for(let[r,n]of Object.entries(e)){if(!ql.includes(r)){let e=Vt(r,ql);throw new F(`Unknown property ${r} provided to PrismaClient constructor.${e}`)}Sm[r](n,t)}if(e.datasourceUrl&&e.datasources)throw new F('Can not use "datasourceUrl" and "datasources" options at the same time. Pick one of them')}function Vt(e,t){if(0===t.length||"string"!=typeof e)return"";let r=Am(e,t);return r?` Did you mean "${r}"?`:""}function Am(e,t){if(0===t.length)return null;let r=t.map(t=>({value:t,distance:(0,Ul.default)(e,t)}));r.sort((e,t)=>e.distance<t.distance?-1:1);let n=r[0];return n.distance<3?n.value:null}function Im(e,t){return Bl(t.models,e)??Bl(t.types,e)}function Bl(e,t){let r=Object.keys(e).find(e=>xt(e)===t);if(r)return e[r]}function Om(e,t){let r=Ot(e);for(let e of t)switch(e.kind){case"UnknownModel":r.arguments.getField(e.modelKey)?.markAsError(),r.addErrorMessage(()=>`Unknown model name: ${e.modelKey}.`);break;case"UnknownField":r.arguments.getDeepField([e.modelKey,e.fieldName])?.markAsError(),r.addErrorMessage(()=>`Model "${e.modelKey}" does not have a field named "${e.fieldName}".`);break;case"RelationInOmit":r.arguments.getDeepField([e.modelKey,e.fieldName])?.markAsError(),r.addErrorMessage(()=>'Relations are already excluded by default and can not be specified in "omit".');break;case"InvalidFieldValue":r.arguments.getDeepFieldValue([e.modelKey,e.fieldName])?.markAsError(),r.addErrorMessage(()=>"Omit field option value must be a boolean.")}let{message:n,args:i}=En(r,"colorless");return`Error validating "omit" option:

${i}

${n}`}function Ql(e){return 0===e.length?Promise.resolve([]):new Promise((t,r)=>{let n=Array(e.length),i=null,a=!1,s=0,o=()=>{a||++s===e.length&&(a=!0,i?r(i):t(n))},l=e=>{a||(a=!0,r(e))};for(let t=0;t<e.length;t++)e[t].then(e=>{n[t]=e,o()},e=>{if(!Nn(e)){l(e);return}e.batchRequestIdx===t?l(e):(i||(i=e),o())})})}var tt=L("prisma:client");"object"==typeof globalThis&&(globalThis.NODE_CLIENT=!0);var km={requestArgsToMiddlewareArgs:e=>e,middlewareArgsToRequestArgs:e=>e},Dm=Symbol.for("prisma.client.transaction.id"),_m={id:0,nextId(){return++this.id}};function Yl(e){class t{constructor(t){this._originalClient=this,this._middlewares=new Ln,this._createPrismaPromise=po(),this.$extends=Ia,Ba(e=t?.__internal?.configOverride?.(e)??e),t&&Gl(t,e);let r=new Kl.EventEmitter().on("error",()=>{});this._extensions=kt.empty(),this._previewFeatures=Fn(e),this._clientVersion=e.clientVersion??$l,this._activeProvider=e.activeProvider,this._globalOmit=t?.omit,this._tracingHelper=Il(this._previewFeatures);let n={rootEnvPath:e.relativeEnvPaths.rootEnvPath&&Fr.default.resolve(e.dirname,e.relativeEnvPaths.rootEnvPath),schemaEnvPath:e.relativeEnvPaths.schemaEnvPath&&Fr.default.resolve(e.dirname,e.relativeEnvPaths.schemaEnvPath)},i;if(t?.adapter){i=qi(t.adapter);let r="postgresql"===e.activeProvider?"postgres":e.activeProvider;if(i.provider!==r)throw new R(`The Driver Adapter \`${i.adapterName}\`, based on \`${i.provider}\`, is not compatible with the provider \`${r}\` specified in the Prisma schema.`,this._clientVersion);if(t.datasources||void 0!==t.datasourceUrl)throw new R("Custom datasource configuration is not compatible with Prisma Driver Adapters. Please define the database connection string directly in the Driver Adapter configuration.",this._clientVersion)}let a=!i&&zt(n,{conflictCheck:"none"})||e.injectableEdgeEnv?.();try{let n=t??{},s=n.__internal??{},o=!0===s.debug;o&&L.enable("prisma:client");let l=Fr.default.resolve(e.dirname,e.relativePath);zl.default.existsSync(l)||(l=e.dirname),tt("dirname",e.dirname),tt("relativePath",e.relativePath),tt("cwd",l);let c=s.engine||{};if(n.errorFormat?this._errorFormat=n.errorFormat:this._errorFormat="minimal",this._runtimeDataModel=e.runtimeDataModel,this._engineConfig={cwd:l,dirname:e.dirname,enableDebugLogs:o,allowTriggerPanic:c.allowTriggerPanic,datamodelPath:Fr.default.join(e.dirname,e.filename??"schema.prisma"),prismaPath:c.binaryPath??void 0,engineEndpoint:c.endpoint,generator:e.generator,showColors:"pretty"===this._errorFormat,logLevel:n.log&&kl(n.log),logQueries:n.log&&!!("string"==typeof n.log?"query"===n.log:n.log.find(e=>"string"==typeof e?"query"===e:"query"===e.level)),env:a?.parsed??{},flags:[],engineWasm:e.engineWasm,clientVersion:e.clientVersion,engineVersion:e.engineVersion,previewFeatures:this._previewFeatures,activeProvider:e.activeProvider,inlineSchema:e.inlineSchema,overrideDatasources:Ua(n,e.datasourceNames),inlineDatasources:e.inlineDatasources,inlineSchemaHash:e.inlineSchemaHash,tracingHelper:this._tracingHelper,transactionOptions:{maxWait:n.transactionOptions?.maxWait??2e3,timeout:n.transactionOptions?.timeout??5e3,isolationLevel:n.transactionOptions?.isolationLevel},logEmitter:r,isBundled:e.isBundled,adapter:i},this._accelerateEngineConfig={...this._engineConfig,accelerateUtils:{resolveDatasourceUrl:Nt,getBatchRequestPayload:Ft,prismaGraphQLToJSError:st,PrismaClientUnknownRequestError:B,PrismaClientInitializationError:R,PrismaClientKnownRequestError:V,debug:L("prisma:client:accelerateEngine"),engineVersion:Wl.version,clientVersion:e.clientVersion}},tt("clientVersion",e.clientVersion),this._engine=hl(e,this._engineConfig),this._requestHandler=new $n(this,r),n.log)for(let e of n.log){let t="string"==typeof e?e:"stdout"===e.emit?e.level:null;t&&this.$on(t,e=>{er.log(`${er.tags[t]??""}`,e.message||e.query)})}this._metrics=new Dt(this._engine)}catch(e){throw e.clientVersion=this._clientVersion,e}return this._appliedParent=yr(this)}get[Symbol.toStringTag](){return"PrismaClient"}$use(e){this._middlewares.use(e)}$on(e,t){"beforeExit"===e?this._engine.onBeforeExit(t):e&&this._engineConfig.logEmitter.on(e,t)}$connect(){try{return this._engine.start()}catch(e){throw e.clientVersion=this._clientVersion,e}}async $disconnect(){try{await this._engine.stop()}catch(e){throw e.clientVersion=this._clientVersion,e}finally{Ao()}}$executeRawInternal(e,t,r,n){let i=this._activeProvider;return this._request({action:"executeRaw",args:r,transaction:e,clientMethod:t,argsMapper:co({clientMethod:t,activeProvider:i}),callsite:Ze(this._errorFormat),dataPath:[],middlewareArgsMapper:n})}$executeRaw(e,...t){return this._createPrismaPromise(r=>{if(void 0!==e.raw||void 0!==e.sql){let[n,i]=Jl(e,t);return uo(this._activeProvider,n.text,n.values,Array.isArray(e)?"prisma.$executeRaw`<SQL>`":"prisma.$executeRaw(sql`<SQL>`)"),this.$executeRawInternal(r,"$executeRaw",n,i)}throw new J("`$executeRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$executeRaw`UPDATE User SET cool = ${true} WHERE email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#executeraw\n",{clientVersion:this._clientVersion})})}$executeRawUnsafe(e,...t){return this._createPrismaPromise(r=>(uo(this._activeProvider,e,t,"prisma.$executeRawUnsafe(<SQL>, [...values])"),this.$executeRawInternal(r,"$executeRawUnsafe",[e,...t])))}$runCommandRaw(t){if("mongodb"!==e.activeProvider)throw new J(`The ${e.activeProvider} provider does not support $runCommandRaw. Use the mongodb provider.`,{clientVersion:this._clientVersion});return this._createPrismaPromise(e=>this._request({args:t,clientMethod:"$runCommandRaw",dataPath:[],action:"runCommandRaw",argsMapper:yl,callsite:Ze(this._errorFormat),transaction:e}))}async $queryRawInternal(e,t,r,n){let i=this._activeProvider;return this._request({action:"queryRaw",args:r,transaction:e,clientMethod:t,argsMapper:co({clientMethod:t,activeProvider:i}),callsite:Ze(this._errorFormat),dataPath:[],middlewareArgsMapper:n})}$queryRaw(e,...t){return this._createPrismaPromise(r=>{if(void 0!==e.raw||void 0!==e.sql)return this.$queryRawInternal(r,"$queryRaw",...Jl(e,t));throw new J("`$queryRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$queryRaw`SELECT * FROM User WHERE id = ${1} OR email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#queryraw\n",{clientVersion:this._clientVersion})})}$queryRawTyped(e){return this._createPrismaPromise(t=>{if(!this._hasPreviewFlag("typedSql"))throw new J("`typedSql` preview feature must be enabled in order to access $queryRawTyped API",{clientVersion:this._clientVersion});return this.$queryRawInternal(t,"$queryRawTyped",e)})}$queryRawUnsafe(e,...t){return this._createPrismaPromise(r=>this.$queryRawInternal(r,"$queryRawUnsafe",[e,...t]))}_transactionWithArray({promises:e,options:t}){let r=_m.nextId(),n=Ol(e.length);return Ql(e.map((e,i)=>{if(e?.[Symbol.toStringTag]!=="PrismaPromise")throw Error("All elements of the array need to be Prisma Client promises. Hint: Please make sure you are not awaiting the Prisma client calls you intended to pass in the $transaction function.");let a={kind:"batch",id:r,index:i,isolationLevel:t?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel,lock:n};return e.requestTransaction?.(a)??e}))}async _transactionWithCallback({callback:e,options:t}){let r={traceparent:this._tracingHelper.getTraceParent()},n={maxWait:t?.maxWait??this._engineConfig.transactionOptions.maxWait,timeout:t?.timeout??this._engineConfig.transactionOptions.timeout,isolationLevel:t?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel},i=await this._engine.transaction("start",r,n),a;try{let t={kind:"itx",...i};a=await e(this._createItxClient(t)),await this._engine.transaction("commit",r,i)}catch(e){throw await this._engine.transaction("rollback",r,i).catch(()=>{}),e}return a}_createItxClient(e){return yr(Se(Aa(this),[re("_appliedParent",()=>this._appliedParent._createItxClient(e)),re("_createPrismaPromise",()=>po(e)),re(Dm,()=>e.id),_t(vl)]))}$transaction(e,t){let r;r="function"==typeof e?this._engineConfig.adapter?.adapterName==="@prisma/adapter-d1"?()=>{throw Error("Cloudflare D1 does not support interactive transactions. We recommend you to refactor your queries with that limitation in mind, and use batch transactions with `prisma.$transactions([])` where applicable.")}:()=>this._transactionWithCallback({callback:e,options:t}):()=>this._transactionWithArray({promises:e,options:t});let n={name:"transaction",attributes:{method:"$transaction"}};return this._tracingHelper.runInChildSpan(n,r)}_request(e){e.otelParentCtx=this._tracingHelper.getActiveContext();let t=e.middlewareArgsMapper??km,r={args:t.requestArgsToMiddlewareArgs(e.args),dataPath:e.dataPath,runInTransaction:!!e.transaction,action:e.action,model:e.model},n={middleware:{name:"middleware",middleware:!0,attributes:{method:"$use"},active:!1},operation:{name:"operation",attributes:{method:r.action,model:r.model,name:r.model?`${r.model}.${r.action}`:r.action}}},i=-1,a=async r=>{let s=this._middlewares.get(++i);if(s)return this._tracingHelper.runInChildSpan(n.middleware,e=>s(r,t=>(e?.end(),a(t))));let{runInTransaction:o,args:l,...c}=r,u={...e,...c};l&&(u.args=t.middlewareArgsToRequestArgs(l)),void 0!==e.transaction&&!1===o&&delete u.transaction;let d=await Na(this,u);return u.model?Da({result:d,modelName:u.model,args:u.args,extensions:this._extensions,runtimeDataModel:this._runtimeDataModel,globalOmit:this._globalOmit}):d};return this._tracingHelper.runInChildSpan(n.operation,()=>new Hl.AsyncResource("prisma-client-request").runInAsyncScope(()=>a(r)))}async _executeRequest({args:e,clientMethod:t,dataPath:r,callsite:n,action:i,model:a,argsMapper:s,transaction:o,unpacker:l,otelParentCtx:c,customDataProxyFetch:u}){try{e=s?s(e):e;let d={name:"serialize"},f=this._tracingHelper.runInChildSpan(d,()=>vn({modelName:a,runtimeDataModel:this._runtimeDataModel,action:i,args:e,clientMethod:t,callsite:n,extensions:this._extensions,errorFormat:this._errorFormat,clientVersion:this._clientVersion,previewFeatures:this._previewFeatures,globalOmit:this._globalOmit}));return L.enabled("prisma:client")&&(tt("Prisma Client call:"),tt(`prisma.${t}(${ha(e)})`),tt("Generated request:"),tt(JSON.stringify(f,null,2)+`
`)),o?.kind==="batch"&&await o.lock,this._requestHandler.request({protocolQuery:f,modelName:a,action:i,clientMethod:t,dataPath:r,callsite:n,args:e,extensions:this._extensions,transaction:o,unpacker:l,otelParentCtx:c,otelChildCtx:this._tracingHelper.getActiveContext(),globalOmit:this._globalOmit,customDataProxyFetch:u})}catch(e){throw e.clientVersion=this._clientVersion,e}}get $metrics(){if(!this._hasPreviewFlag("metrics"))throw new J("`metrics` preview feature must be enabled in order to access metrics API",{clientVersion:this._clientVersion});return this._metrics}_hasPreviewFlag(e){return!!this._engineConfig.previewFeatures?.includes(e)}$applyPendingMigrations(){return this._engine.applyPendingMigrations()}}return t}function Jl(e,t){return Fm(e)?[new oe(e,t),Rl]:[e,Cl]}function Fm(e){return Array.isArray(e)&&Array.isArray(e.raw)}var Lm=new Set(["toJSON","$$typeof","asymmetricMatch",Symbol.iterator,Symbol.toStringTag,Symbol.isConcatSpreadable,Symbol.toPrimitive]);function Zl(e){return new Proxy(e,{get(e,t){if(t in e)return e[t];if(!Lm.has(t))throw TypeError(`Invalid enum value: ${String(t)}`)}})}function Xl(e){zt(e,{conflictCheck:"warn"})}/*! Bundled license information:

decimal.js/decimal.mjs:
  (*!
   *  decimal.js v10.4.3
   *  An arbitrary-precision Decimal type for JavaScript.
   *  https://github.com/MikeMcl/decimal.js
   *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
   *  MIT Licence
   *)
*/},8261:function(e,t,r){var n,i,a;e=r.nmd(e),/**
 * @license bcrypt.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/bcrypt.js for details
 */function(r,s){i=[],void 0!==(a="function"==typeof(n=s)?n.apply(t,i):n)&&(e.exports=a)}(0,function(){"use strict";var t={},n=null;function i(t){if(e&&e.exports)try{return r(6113).randomBytes(t)}catch(e){}try{var i;return(self.crypto||self.msCrypto).getRandomValues(i=new Uint32Array(t)),Array.prototype.slice.call(i)}catch(e){}if(!n)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return n(t)}var a=!1;try{i(1),a=!0}catch(e){}function s(e,t){for(var r=0,n=0,i=0,a=e.length;i<a;++i)e.charCodeAt(i)===t.charCodeAt(i)?++r:++n;return!(r<0)&&0===n}n=null,t.setRandomFallback=function(e){n=e},t.genSaltSync=function(e,t){if("number"!=typeof(e=e||g))throw Error("Illegal arguments: "+typeof e+", "+typeof t);e<4?e=4:e>31&&(e=31);var r=[];return r.push("$2a$"),e<10&&r.push("0"),r.push(e.toString()),r.push("$"),r.push(f(i(m),m)),r.join("")},t.genSalt=function(e,r,n){if("function"==typeof r&&(n=r,r=void 0),"function"==typeof e&&(n=e,e=void 0),void 0===e)e=g;else if("number"!=typeof e)throw Error("illegal arguments: "+typeof e);function i(r){o(function(){try{r(null,t.genSaltSync(e))}catch(e){r(e)}})}if(!n)return new Promise(function(e,t){i(function(r,n){if(r){t(r);return}e(n)})});if("function"!=typeof n)throw Error("Illegal callback: "+typeof n);i(n)},t.hashSync=function(e,r){if(void 0===r&&(r=g),"number"==typeof r&&(r=t.genSaltSync(r)),"string"!=typeof e||"string"!=typeof r)throw Error("Illegal arguments: "+typeof e+", "+typeof r);return P(e,r)},t.hash=function(e,r,n,i){function a(n){"string"==typeof e&&"number"==typeof r?t.genSalt(r,function(t,r){P(e,r,n,i)}):"string"==typeof e&&"string"==typeof r?P(e,r,n,i):o(n.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof r)))}if(!n)return new Promise(function(e,t){a(function(r,n){if(r){t(r);return}e(n)})});if("function"!=typeof n)throw Error("Illegal callback: "+typeof n);a(n)},t.compareSync=function(e,r){if("string"!=typeof e||"string"!=typeof r)throw Error("Illegal arguments: "+typeof e+", "+typeof r);return 60===r.length&&s(t.hashSync(e,r.substr(0,r.length-31)),r)},t.compare=function(e,r,n,i){function a(n){if("string"!=typeof e||"string"!=typeof r){o(n.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof r)));return}if(60!==r.length){o(n.bind(this,null,!1));return}t.hash(e,r.substr(0,29),function(e,t){e?n(e):n(null,s(t,r))},i)}if(!n)return new Promise(function(e,t){a(function(r,n){if(r){t(r);return}e(n)})});if("function"!=typeof n)throw Error("Illegal callback: "+typeof n);a(n)},t.getRounds=function(e){if("string"!=typeof e)throw Error("Illegal arguments: "+typeof e);return parseInt(e.split("$")[2],10)},t.getSalt=function(e){if("string"!=typeof e)throw Error("Illegal arguments: "+typeof e);if(60!==e.length)throw Error("Illegal hash length: "+e.length+" != 60");return e.substring(0,29)};var o="undefined"!=typeof process&&process&&"function"==typeof process.nextTick?"function"==typeof setImmediate?setImmediate:process.nextTick:setTimeout;function l(e){var t=[],r=0;return p.encodeUTF16toUTF8(function(){return r>=e.length?null:e.charCodeAt(r++)},function(e){t.push(e)}),t}var c="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1],d=String.fromCharCode;function f(e,t){var r,n,i=0,a=[];if(t<=0||t>e.length)throw Error("Illegal len: "+t);for(;i<t;){if(r=255&e[i++],a.push(c[r>>2&63]),r=(3&r)<<4,i>=t||(r|=(n=255&e[i++])>>4&15,a.push(c[63&r]),r=(15&n)<<2,i>=t)){a.push(c[63&r]);break}r|=(n=255&e[i++])>>6&3,a.push(c[63&r]),a.push(c[63&n])}return a.join("")}function h(e,t){var r,n,i,a,s,o=0,l=e.length,c=0,f=[];if(t<=0)throw Error("Illegal len: "+t);for(;o<l-1&&c<t&&(r=(s=e.charCodeAt(o++))<u.length?u[s]:-1,n=(s=e.charCodeAt(o++))<u.length?u[s]:-1,-1!=r&&-1!=n)&&(a=r<<2>>>0|(48&n)>>4,f.push(d(a)),!(++c>=t||o>=l||-1==(i=(s=e.charCodeAt(o++))<u.length?u[s]:-1)||(a=(15&n)<<4>>>0|(60&i)>>2,f.push(d(a)),++c>=t||o>=l)));)a=(3&i)<<6>>>0|((s=e.charCodeAt(o++))<u.length?u[s]:-1),f.push(d(a)),++c;var h=[];for(o=0;o<c;o++)h.push(f[o].charCodeAt(0));return h}var p=function(){var e={};return e.MAX_CODEPOINT=1114111,e.encodeUTF8=function(e,t){var r=null;for("number"==typeof e&&(r=e,e=function(){return null});null!==r||null!==(r=e());)r<128?t(127&r):(r<2048?t(r>>6&31|192):(r<65536?t(r>>12&15|224):(t(r>>18&7|240),t(r>>12&63|128)),t(r>>6&63|128)),t(63&r|128)),r=null},e.decodeUTF8=function(e,t){for(var r,n,i,a,s=function(e){var t=Error((e=e.slice(0,e.indexOf(null))).toString());throw t.name="TruncatedError",t.bytes=e,t};null!==(r=e());)if((128&r)==0)t(r);else if((224&r)==192)null===(n=e())&&s([r,n]),t((31&r)<<6|63&n);else if((240&r)==224)(null===(n=e())||null===(i=e()))&&s([r,n,i]),t((15&r)<<12|(63&n)<<6|63&i);else if((248&r)==240)(null===(n=e())||null===(i=e())||null===(a=e()))&&s([r,n,i,a]),t((7&r)<<18|(63&n)<<12|(63&i)<<6|63&a);else throw RangeError("Illegal starting byte: "+r)},e.UTF16toUTF8=function(e,t){for(var r,n=null;null!==(r=null!==n?n:e());){if(r>=55296&&r<=57343&&null!==(n=e())&&n>=56320&&n<=57343){t((r-55296)*1024+n-56320+65536),n=null;continue}t(r)}null!==n&&t(n)},e.UTF8toUTF16=function(e,t){var r=null;for("number"==typeof e&&(r=e,e=function(){return null});null!==r||null!==(r=e());)r<=65535?t(r):(t(((r-=65536)>>10)+55296),t(r%1024+56320)),r=null},e.encodeUTF16toUTF8=function(t,r){e.UTF16toUTF8(t,function(t){e.encodeUTF8(t,r)})},e.decodeUTF8toUTF16=function(t,r){e.decodeUTF8(t,function(t){e.UTF8toUTF16(t,r)})},e.calculateCodePoint=function(e){return e<128?1:e<2048?2:e<65536?3:4},e.calculateUTF8=function(t){for(var r,n=0;null!==(r=t());)n+=e.calculateCodePoint(r);return n},e.calculateUTF16asUTF8=function(t){var r=0,n=0;return e.UTF16toUTF8(t,function(t){++r,n+=e.calculateCodePoint(t)}),[r,n]},e}();Date.now=Date.now||function(){return+new Date};var m=16,g=10,y=16,w=100,b=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],v=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],_=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function x(e,t,r,n){var i,a=e[t],s=e[t+1];return a^=r[0],s^=(i=(n[a>>>24]+n[256|a>>16&255]^n[512|a>>8&255])+n[768|255&a])^r[1],a^=(i=(n[s>>>24]+n[256|s>>16&255]^n[512|s>>8&255])+n[768|255&s])^r[2],s^=(i=(n[a>>>24]+n[256|a>>16&255]^n[512|a>>8&255])+n[768|255&a])^r[3],a^=(i=(n[s>>>24]+n[256|s>>16&255]^n[512|s>>8&255])+n[768|255&s])^r[4],s^=(i=(n[a>>>24]+n[256|a>>16&255]^n[512|a>>8&255])+n[768|255&a])^r[5],a^=(i=(n[s>>>24]+n[256|s>>16&255]^n[512|s>>8&255])+n[768|255&s])^r[6],s^=(i=(n[a>>>24]+n[256|a>>16&255]^n[512|a>>8&255])+n[768|255&a])^r[7],a^=(i=(n[s>>>24]+n[256|s>>16&255]^n[512|s>>8&255])+n[768|255&s])^r[8],s^=(i=(n[a>>>24]+n[256|a>>16&255]^n[512|a>>8&255])+n[768|255&a])^r[9],a^=(i=(n[s>>>24]+n[256|s>>16&255]^n[512|s>>8&255])+n[768|255&s])^r[10],s^=(i=(n[a>>>24]+n[256|a>>16&255]^n[512|a>>8&255])+n[768|255&a])^r[11],a^=(i=(n[s>>>24]+n[256|s>>16&255]^n[512|s>>8&255])+n[768|255&s])^r[12],s^=(i=(n[a>>>24]+n[256|a>>16&255]^n[512|a>>8&255])+n[768|255&a])^r[13],a^=(i=(n[s>>>24]+n[256|s>>16&255]^n[512|s>>8&255])+n[768|255&s])^r[14],s^=(i=(n[a>>>24]+n[256|a>>16&255]^n[512|a>>8&255])+n[768|255&a])^r[15],a^=(i=(n[s>>>24]+n[256|s>>16&255]^n[512|s>>8&255])+n[768|255&s])^r[16],e[t]=s^r[y+1],e[t+1]=a,e}function k(e,t){for(var r=0,n=0;r<4;++r)n=n<<8|255&e[t],t=(t+1)%e.length;return{key:n,offp:t}}function E(e,t,r){for(var n,i=0,a=[0,0],s=t.length,o=r.length,l=0;l<s;l++)i=(n=k(e,i)).offp,t[l]=t[l]^n.key;for(l=0;l<s;l+=2)a=x(a,0,t,r),t[l]=a[0],t[l+1]=a[1];for(l=0;l<o;l+=2)a=x(a,0,t,r),r[l]=a[0],r[l+1]=a[1]}function S(e,t,r,n){for(var i,a=0,s=[0,0],o=r.length,l=n.length,c=0;c<o;c++)a=(i=k(t,a)).offp,r[c]=r[c]^i.key;for(c=0,a=0;c<o;c+=2)a=(i=k(e,a)).offp,s[0]^=i.key,a=(i=k(e,a)).offp,s[1]^=i.key,s=x(s,0,r,n),r[c]=s[0],r[c+1]=s[1];for(c=0;c<l;c+=2)a=(i=k(e,a)).offp,s[0]^=i.key,a=(i=k(e,a)).offp,s[1]^=i.key,s=x(s,0,r,n),n[c]=s[0],n[c+1]=s[1]}function A(e,t,r,n,i){var a,s,l=_.slice(),c=l.length;if(r<4||r>31){if(s=Error("Illegal number of rounds (4-31): "+r),n){o(n.bind(this,s));return}throw s}if(t.length!==m){if(s=Error("Illegal salt length: "+t.length+" != "+m),n){o(n.bind(this,s));return}throw s}r=1<<r>>>0;var u,d,f,h=0;function p(){if(i&&i(h/r),h<r)for(var a=Date.now();h<r&&(h+=1,E(e,u,d),E(t,u,d),!(Date.now()-a>w)););else{for(h=0;h<64;h++)for(f=0;f<c>>1;f++)x(l,f<<1,u,d);var s=[];for(h=0;h<c;h++)s.push((l[h]>>24&255)>>>0),s.push((l[h]>>16&255)>>>0),s.push((l[h]>>8&255)>>>0),s.push((255&l[h])>>>0);return n?void n(null,s):s}n&&o(p)}if(Int32Array?(u=new Int32Array(b),d=new Int32Array(v)):(u=b.slice(),d=v.slice()),S(t,e,u,d),void 0!==n)p();else for(;;)if(void 0!==(a=p()))return a||[]}function P(e,t,r,n){if("string"!=typeof e||"string"!=typeof t){if(i=Error("Invalid string / salt: Not a string"),r){o(r.bind(this,i));return}throw i}if("$"!==t.charAt(0)||"2"!==t.charAt(1)){if(i=Error("Invalid salt version: "+t.substring(0,2)),r){o(r.bind(this,i));return}throw i}if("$"===t.charAt(2))a="\x00",s=3;else{if("a"!==(a=t.charAt(2))&&"b"!==a&&"y"!==a||"$"!==t.charAt(3)){if(i=Error("Invalid salt revision: "+t.substring(2,4)),r){o(r.bind(this,i));return}throw i}s=4}if(t.charAt(s+2)>"$"){if(i=Error("Missing salt rounds"),r){o(r.bind(this,i));return}throw i}var i,a,s,c=10*parseInt(t.substring(s,s+1),10)+parseInt(t.substring(s+1,s+2),10),u=t.substring(s+3,s+25),d=l(e+=a>="a"?"\x00":""),p=h(u,m);function g(e){var t=[];return t.push("$2"),a>="a"&&t.push(a),t.push("$"),c<10&&t.push("0"),t.push(c.toString()),t.push("$"),t.push(f(p,p.length)),t.push(f(e,4*_.length-1)),t.join("")}if(void 0===r)return g(A(d,p,c));A(d,p,c,function(e,t){e?r(e,null):r(null,g(t))},n)}return t.encodeBase64=f,t.decodeBase64=h,t})},3775:(e,t,r)=>{e.exports=r(8261)},8049:(e,t)=>{"use strict";/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */t.Q=o,t.q=u;var r=Object.prototype.toString,n=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,i=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,a=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/;function o(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");var r={},n=e.length;if(n<2)return r;var i=t&&t.decode||d,a=0,s=0,o=0;do{if(-1===(s=e.indexOf("=",a)))break;if(-1===(o=e.indexOf(";",a)))o=n;else if(s>o){a=e.lastIndexOf(";",s-1)+1;continue}var u=l(e,a,s),f=c(e,s,u),p=e.slice(u,f);if(!r.hasOwnProperty(p)){var m=l(e,s+1,o),g=c(e,o,m);34===e.charCodeAt(m)&&34===e.charCodeAt(g-1)&&(m++,g--);var y=e.slice(m,g);r[p]=h(y,i)}a=o+1}while(a<n);return r}function l(e,t,r){do{var n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<r);return r}function c(e,t,r){for(;t>r;){var n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return r}function u(e,t,r){var o=r&&r.encode||encodeURIComponent;if("function"!=typeof o)throw TypeError("option encode is invalid");if(!n.test(e))throw TypeError("argument name is invalid");var l=o(t);if(!i.test(l))throw TypeError("argument val is invalid");var c=e+"="+l;if(!r)return c;if(null!=r.maxAge){var u=Math.floor(r.maxAge);if(!isFinite(u))throw TypeError("option maxAge is invalid");c+="; Max-Age="+u}if(r.domain){if(!a.test(r.domain))throw TypeError("option domain is invalid");c+="; Domain="+r.domain}if(r.path){if(!s.test(r.path))throw TypeError("option path is invalid");c+="; Path="+r.path}if(r.expires){var d=r.expires;if(!f(d)||isNaN(d.valueOf()))throw TypeError("option expires is invalid");c+="; Expires="+d.toUTCString()}if(r.httpOnly&&(c+="; HttpOnly"),r.secure&&(c+="; Secure"),r.partitioned&&(c+="; Partitioned"),r.priority)switch("string"==typeof r.priority?r.priority.toLowerCase():r.priority){case"low":c+="; Priority=Low";break;case"medium":c+="; Priority=Medium";break;case"high":c+="; Priority=High";break;default:throw TypeError("option priority is invalid")}if(r.sameSite)switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"none":c+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return c}function d(e){return -1!==e.indexOf("%")?decodeURIComponent(e):e}function f(e){return"[object Date]"===r.call(e)}function h(e,t){try{return t(e)}catch(t){return e}}},6506:(e,t,r)=>{"use strict";r.d(t,{default:()=>i.a});var n=r(1476),i=r.n(n)},7824:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraftMode",{enumerable:!0,get:function(){return i}});let n=r(1396);class i{get isEnabled(){return this._provider.isEnabled}enable(){if(!(0,n.staticGenerationBailout)("draftMode().enable()"))return this._provider.enable()}disable(){if(!(0,n.staticGenerationBailout)("draftMode().disable()"))return this._provider.disable()}constructor(e){this._provider=e}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7351:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{headers:function(){return u},cookies:function(){return d},draftMode:function(){return f}});let n=r(9498),i=r(5296),a=r(5807),s=r(5403),o=r(7849),l=r(1396),c=r(7824);function u(){if((0,l.staticGenerationBailout)("headers",{link:"https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering"}))return i.HeadersAdapter.seal(new Headers({}));let e=s.requestAsyncStorage.getStore();if(!e)throw Error("Invariant: headers() expects to have requestAsyncStorage, none available.");return e.headers}function d(){if((0,l.staticGenerationBailout)("cookies",{link:"https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering"}))return n.RequestCookiesAdapter.seal(new a.RequestCookies(new Headers({})));let e=s.requestAsyncStorage.getStore();if(!e)throw Error("Invariant: cookies() expects to have requestAsyncStorage, none available.");let t=o.actionAsyncStorage.getStore();return t&&(t.isAction||t.isAppRoute)?e.mutableCookies:e.cookies}function f(){let e=s.requestAsyncStorage.getStore();if(!e)throw Error("Invariant: draftMode() expects to have requestAsyncStorage, none available.");return new c.DraftMode(e.draftMode)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9243:e=>{"use strict";var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,a=(e,a,s,o)=>{if(a&&"object"==typeof a||"function"==typeof a)for(let l of n(a))i.call(e,l)||l===s||t(e,l,{get:()=>a[l],enumerable:!(o=r(a,l))||o.enumerable});return e},s=e=>a(t({},"__esModule",{value:!0}),e),o={};function l(e){var t;let r=["path"in e&&e.path&&`Path=${e.path}`,"expires"in e&&(e.expires||0===e.expires)&&`Expires=${("number"==typeof e.expires?new Date(e.expires):e.expires).toUTCString()}`,"maxAge"in e&&"number"==typeof e.maxAge&&`Max-Age=${e.maxAge}`,"domain"in e&&e.domain&&`Domain=${e.domain}`,"secure"in e&&e.secure&&"Secure","httpOnly"in e&&e.httpOnly&&"HttpOnly","sameSite"in e&&e.sameSite&&`SameSite=${e.sameSite}`,"partitioned"in e&&e.partitioned&&"Partitioned","priority"in e&&e.priority&&`Priority=${e.priority}`].filter(Boolean);return`${e.name}=${encodeURIComponent(null!=(t=e.value)?t:"")}; ${r.join("; ")}`}function c(e){let t=new Map;for(let r of e.split(/; */)){if(!r)continue;let e=r.indexOf("=");if(-1===e){t.set(r,"true");continue}let[n,i]=[r.slice(0,e),r.slice(e+1)];try{t.set(n,decodeURIComponent(null!=i?i:"true"))}catch{}}return t}function u(e){if(!e)return;let[[t,r],...n]=c(e),{domain:i,expires:a,httponly:s,maxage:o,path:l,samesite:u,secure:f,partitioned:p,priority:g}=Object.fromEntries(n.map(([e,t])=>[e.toLowerCase(),t]));return d({name:t,value:decodeURIComponent(r),domain:i,...a&&{expires:new Date(a)},...s&&{httpOnly:!0},..."string"==typeof o&&{maxAge:Number(o)},path:l,...u&&{sameSite:h(u)},...f&&{secure:!0},...g&&{priority:m(g)},...p&&{partitioned:!0}})}function d(e){let t={};for(let r in e)e[r]&&(t[r]=e[r]);return t}((e,r)=>{for(var n in r)t(e,n,{get:r[n],enumerable:!0})})(o,{RequestCookies:()=>y,ResponseCookies:()=>w,parseCookie:()=>c,parseSetCookie:()=>u,stringifyCookie:()=>l}),e.exports=s(o);var f=["strict","lax","none"];function h(e){return e=e.toLowerCase(),f.includes(e)?e:void 0}var p=["low","medium","high"];function m(e){return e=e.toLowerCase(),p.includes(e)?e:void 0}function g(e){if(!e)return[];var t,r,n,i,a,s=[],o=0;function l(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}function c(){return"="!==(r=e.charAt(o))&&";"!==r&&","!==r}for(;o<e.length;){for(t=o,a=!1;l();)if(","===(r=e.charAt(o))){for(n=o,o+=1,l(),i=o;o<e.length&&c();)o+=1;o<e.length&&"="===e.charAt(o)?(a=!0,o=i,s.push(e.substring(t,n)),t=o):o=n+1}else o+=1;(!a||o>=e.length)&&s.push(e.substring(t,e.length))}return s}var y=class{constructor(e){this._parsed=new Map,this._headers=e;let t=e.get("cookie");if(t)for(let[e,r]of c(t))this._parsed.set(e,{name:e,value:r})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed);if(!e.length)return r.map(([e,t])=>t);let n="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(([e])=>e===n).map(([e,t])=>t)}has(e){return this._parsed.has(e)}set(...e){let[t,r]=1===e.length?[e[0].name,e[0].value]:e,n=this._parsed;return n.set(t,{name:t,value:r}),this._headers.set("cookie",Array.from(n).map(([e,t])=>l(t)).join("; ")),this}delete(e){let t=this._parsed,r=Array.isArray(e)?e.map(e=>t.delete(e)):t.delete(e);return this._headers.set("cookie",Array.from(t).map(([e,t])=>l(t)).join("; ")),r}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(e=>`${e.name}=${encodeURIComponent(e.value)}`).join("; ")}},w=class{constructor(e){var t,r,n;this._parsed=new Map,this._headers=e;let i=null!=(n=null!=(r=null==(t=e.getSetCookie)?void 0:t.call(e))?r:e.get("set-cookie"))?n:[];for(let e of Array.isArray(i)?i:g(i)){let t=u(e);t&&this._parsed.set(t.name,t)}}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed.values());if(!e.length)return r;let n="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(e=>e.name===n)}has(e){return this._parsed.has(e)}set(...e){let[t,r,n]=1===e.length?[e[0].name,e[0].value,e[0]]:e,i=this._parsed;return i.set(t,v({name:t,value:r,...n})),b(i,this._headers),this}delete(...e){let[t,r,n]="string"==typeof e[0]?[e[0]]:[e[0].name,e[0].path,e[0].domain];return this.set({name:t,path:r,domain:n,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(l).join("; ")}};function b(e,t){for(let[,r]of(t.delete("set-cookie"),e)){let e=l(r);t.append("set-cookie",e)}}function v(e={name:"",value:""}){return"number"==typeof e.expires&&(e.expires=new Date(e.expires)),e.maxAge&&(e.expires=new Date(Date.now()+1e3*e.maxAge)),(null===e.path||void 0===e.path)&&(e.path="/"),e}},4490:(e,t,r)=>{var n;(()=>{var i={226:function(i,a){!function(s,o){"use strict";var l="1.0.35",c="",u="?",d="function",f="undefined",h="object",p="string",m="major",g="model",y="name",w="type",b="vendor",v="version",_="architecture",x="console",k="mobile",E="tablet",S="smarttv",A="wearable",P="embedded",R=350,T="Amazon",O="Apple",$="ASUS",C="BlackBerry",I="Browser",U="Chrome",N="Firefox",j="Google",D="Huawei",q="LG",L="Microsoft",F="Motorola",M="Opera",H="Samsung",V="Sharp",W="Sony",J="Xiaomi",K="Zebra",B="Facebook",G="Chromium OS",z="Mac OS",Q=function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r},Z=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},Y=function(e,t){return typeof e===p&&-1!==X(t).indexOf(X(e))},X=function(e){return e.toLowerCase()},ee=function(e){return typeof e===p?e.replace(/[^\d\.]/g,c).split(".")[0]:o},et=function(e,t){if(typeof e===p)return e=e.replace(/^\s\s*/,c),typeof t===f?e:e.substring(0,R)},er=function(e,t){for(var r,n,i,a,s,l,c=0;c<t.length&&!s;){var u=t[c],f=t[c+1];for(r=n=0;r<u.length&&!s&&u[r];)if(s=u[r++].exec(e))for(i=0;i<f.length;i++)l=s[++n],typeof(a=f[i])===h&&a.length>0?2===a.length?typeof a[1]==d?this[a[0]]=a[1].call(this,l):this[a[0]]=a[1]:3===a.length?typeof a[1]!==d||a[1].exec&&a[1].test?this[a[0]]=l?l.replace(a[1],a[2]):o:this[a[0]]=l?a[1].call(this,l,a[2]):o:4===a.length&&(this[a[0]]=l?a[3].call(this,l.replace(a[1],a[2])):o):this[a]=l||o;c+=2}},en=function(e,t){for(var r in t)if(typeof t[r]===h&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(Y(t[r][n],e))return r===u?o:r}else if(Y(t[r],e))return r===u?o:r;return e},ei={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},ea={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[v,[y,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[v,[y,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[y,v],[/opios[\/ ]+([\w\.]+)/i],[v,[y,M+" Mini"]],[/\bopr\/([\w\.]+)/i],[v,[y,M]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[y,v],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[v,[y,"UC"+I]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[v,[y,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[v,[y,"WeChat"]],[/konqueror\/([\w\.]+)/i],[v,[y,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[v,[y,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[v,[y,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[y,/(.+)/,"$1 Secure "+I],v],[/\bfocus\/([\w\.]+)/i],[v,[y,N+" Focus"]],[/\bopt\/([\w\.]+)/i],[v,[y,M+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[v,[y,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[v,[y,"Dolphin"]],[/coast\/([\w\.]+)/i],[v,[y,M+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[v,[y,"MIUI "+I]],[/fxios\/([-\w\.]+)/i],[v,[y,N]],[/\bqihu|(qi?ho?o?|360)browser/i],[[y,"360 "+I]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[y,/(.+)/,"$1 "+I],v],[/(comodo_dragon)\/([\w\.]+)/i],[[y,/_/g," "],v],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[y,v],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[y],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[y,B],v],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[y,v],[/\bgsa\/([\w\.]+) .*safari\//i],[v,[y,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[v,[y,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[v,[y,U+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[y,U+" WebView"],v],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[v,[y,"Android "+I]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[y,v],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[v,[y,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[v,y],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[y,[v,en,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[y,v],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[y,"Netscape"],v],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[v,[y,N+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[y,v],[/(cobalt)\/([\w\.]+)/i],[y,[v,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[_,"amd64"]],[/(ia32(?=;))/i],[[_,X]],[/((?:i[346]|x)86)[;\)]/i],[[_,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[_,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[_,"armhf"]],[/windows (ce|mobile); ppc;/i],[[_,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[_,/ower/,c,X]],[/(sun4\w)[;\)]/i],[[_,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[_,X]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[g,[b,H],[w,E]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[g,[b,H],[w,k]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[g,[b,O],[w,k]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[g,[b,O],[w,E]],[/(macintosh);/i],[g,[b,O]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[g,[b,V],[w,k]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[g,[b,D],[w,E]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[g,[b,D],[w,k]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[g,/_/g," "],[b,J],[w,k]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[g,/_/g," "],[b,J],[w,E]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[g,[b,"OPPO"],[w,k]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[g,[b,"Vivo"],[w,k]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[g,[b,"Realme"],[w,k]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[g,[b,F],[w,k]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[g,[b,F],[w,E]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[g,[b,q],[w,E]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[g,[b,q],[w,k]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[g,[b,"Lenovo"],[w,E]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[g,/_/g," "],[b,"Nokia"],[w,k]],[/(pixel c)\b/i],[g,[b,j],[w,E]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[g,[b,j],[w,k]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[g,[b,W],[w,k]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[g,"Xperia Tablet"],[b,W],[w,E]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[g,[b,"OnePlus"],[w,k]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[g,[b,T],[w,E]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[g,/(.+)/g,"Fire Phone $1"],[b,T],[w,k]],[/(playbook);[-\w\),; ]+(rim)/i],[g,b,[w,E]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[g,[b,C],[w,k]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[g,[b,$],[w,E]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[g,[b,$],[w,k]],[/(nexus 9)/i],[g,[b,"HTC"],[w,E]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[b,[g,/_/g," "],[w,k]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[g,[b,"Acer"],[w,E]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[g,[b,"Meizu"],[w,k]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[b,g,[w,k]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[b,g,[w,E]],[/(surface duo)/i],[g,[b,L],[w,E]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[g,[b,"Fairphone"],[w,k]],[/(u304aa)/i],[g,[b,"AT&T"],[w,k]],[/\bsie-(\w*)/i],[g,[b,"Siemens"],[w,k]],[/\b(rct\w+) b/i],[g,[b,"RCA"],[w,E]],[/\b(venue[\d ]{2,7}) b/i],[g,[b,"Dell"],[w,E]],[/\b(q(?:mv|ta)\w+) b/i],[g,[b,"Verizon"],[w,E]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[g,[b,"Barnes & Noble"],[w,E]],[/\b(tm\d{3}\w+) b/i],[g,[b,"NuVision"],[w,E]],[/\b(k88) b/i],[g,[b,"ZTE"],[w,E]],[/\b(nx\d{3}j) b/i],[g,[b,"ZTE"],[w,k]],[/\b(gen\d{3}) b.+49h/i],[g,[b,"Swiss"],[w,k]],[/\b(zur\d{3}) b/i],[g,[b,"Swiss"],[w,E]],[/\b((zeki)?tb.*\b) b/i],[g,[b,"Zeki"],[w,E]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[b,"Dragon Touch"],g,[w,E]],[/\b(ns-?\w{0,9}) b/i],[g,[b,"Insignia"],[w,E]],[/\b((nxa|next)-?\w{0,9}) b/i],[g,[b,"NextBook"],[w,E]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[b,"Voice"],g,[w,k]],[/\b(lvtel\-)?(v1[12]) b/i],[[b,"LvTel"],g,[w,k]],[/\b(ph-1) /i],[g,[b,"Essential"],[w,k]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[g,[b,"Envizen"],[w,E]],[/\b(trio[-\w\. ]+) b/i],[g,[b,"MachSpeed"],[w,E]],[/\btu_(1491) b/i],[g,[b,"Rotor"],[w,E]],[/(shield[\w ]+) b/i],[g,[b,"Nvidia"],[w,E]],[/(sprint) (\w+)/i],[b,g,[w,k]],[/(kin\.[onetw]{3})/i],[[g,/\./g," "],[b,L],[w,k]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[g,[b,K],[w,E]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[g,[b,K],[w,k]],[/smart-tv.+(samsung)/i],[b,[w,S]],[/hbbtv.+maple;(\d+)/i],[[g,/^/,"SmartTV"],[b,H],[w,S]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[b,q],[w,S]],[/(apple) ?tv/i],[b,[g,O+" TV"],[w,S]],[/crkey/i],[[g,U+"cast"],[b,j],[w,S]],[/droid.+aft(\w)( bui|\))/i],[g,[b,T],[w,S]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[g,[b,V],[w,S]],[/(bravia[\w ]+)( bui|\))/i],[g,[b,W],[w,S]],[/(mitv-\w{5}) bui/i],[g,[b,J],[w,S]],[/Hbbtv.*(technisat) (.*);/i],[b,g,[w,S]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[b,et],[g,et],[w,S]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[w,S]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[b,g,[w,x]],[/droid.+; (shield) bui/i],[g,[b,"Nvidia"],[w,x]],[/(playstation [345portablevi]+)/i],[g,[b,W],[w,x]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[g,[b,L],[w,x]],[/((pebble))app/i],[b,g,[w,A]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[g,[b,O],[w,A]],[/droid.+; (glass) \d/i],[g,[b,j],[w,A]],[/droid.+; (wt63?0{2,3})\)/i],[g,[b,K],[w,A]],[/(quest( 2| pro)?)/i],[g,[b,B],[w,A]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[b,[w,P]],[/(aeobc)\b/i],[g,[b,T],[w,P]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[g,[w,k]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[g,[w,E]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[w,E]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[w,k]],[/(android[-\w\. ]{0,9});.+buil/i],[g,[b,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[v,[y,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[v,[y,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[y,v],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[v,y]],os:[[/microsoft (windows) (vista|xp)/i],[y,v],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[y,[v,en,ei]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[y,"Windows"],[v,en,ei]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[v,/_/g,"."],[y,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[y,z],[v,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[v,y],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[y,v],[/\(bb(10);/i],[v,[y,C]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[v,[y,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[v,[y,N+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[v,[y,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[v,[y,"watchOS"]],[/crkey\/([\d\.]+)/i],[v,[y,U+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[y,G],v],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[y,v],[/(sunos) ?([\w\.\d]*)/i],[[y,"Solaris"],v],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[y,v]]},es=function(e,t){if(typeof e===h&&(t=e,e=o),!(this instanceof es))return new es(e,t).getResult();var r=typeof s!==f&&s.navigator?s.navigator:o,n=e||(r&&r.userAgent?r.userAgent:c),i=r&&r.userAgentData?r.userAgentData:o,a=t?Q(ea,t):ea,l=r&&r.userAgent==n;return this.getBrowser=function(){var e={};return e[y]=o,e[v]=o,er.call(e,n,a.browser),e[m]=ee(e[v]),l&&r&&r.brave&&typeof r.brave.isBrave==d&&(e[y]="Brave"),e},this.getCPU=function(){var e={};return e[_]=o,er.call(e,n,a.cpu),e},this.getDevice=function(){var e={};return e[b]=o,e[g]=o,e[w]=o,er.call(e,n,a.device),l&&!e[w]&&i&&i.mobile&&(e[w]=k),l&&"Macintosh"==e[g]&&r&&typeof r.standalone!==f&&r.maxTouchPoints&&r.maxTouchPoints>2&&(e[g]="iPad",e[w]=E),e},this.getEngine=function(){var e={};return e[y]=o,e[v]=o,er.call(e,n,a.engine),e},this.getOS=function(){var e={};return e[y]=o,e[v]=o,er.call(e,n,a.os),l&&!e[y]&&i&&"Unknown"!=i.platform&&(e[y]=i.platform.replace(/chrome os/i,G).replace(/macos/i,z)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===p&&e.length>R?et(e,R):e,this},this.setUA(n),this};es.VERSION=l,es.BROWSER=Z([y,v,m]),es.CPU=Z([_]),es.DEVICE=Z([g,b,w,x,k,S,E,A,P]),es.ENGINE=es.OS=Z([y,v]),typeof a!==f?("object"!==f&&i.exports&&(a=i.exports=es),a.UAParser=es):"function"===d&&r.amdO?void 0!==(n=(function(){return es}).call(t,r,t,e))&&(e.exports=n):typeof s!==f&&(s.UAParser=es);var eo=typeof s!==f&&(s.jQuery||s.Zepto);if(eo&&!eo.ua){var el=new es;eo.ua=el.getResult(),eo.ua.get=function(){return el.getUA()},eo.ua.set=function(e){el.setUA(e);var t=el.getResult();for(var r in t)eo.ua[r]=t[r]}}}("object"==typeof window?window:this)}},a={};function s(e){var t=a[e];if(void 0!==t)return t.exports;var r=a[e]={exports:{}},n=!0;try{i[e].call(r.exports,r,r.exports,s),n=!1}finally{n&&delete a[e]}return r.exports}s.ab=__dirname+"/";var o=s(226);e.exports=o})()},9429:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{PageSignatureError:function(){return r},RemovedPageError:function(){return n},RemovedUAError:function(){return i}});class r extends Error{constructor({page:e}){super(`The middleware "${e}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class n extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class i extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}},5752:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ImageResponse:function(){return n.ImageResponse},NextRequest:function(){return i.NextRequest},NextResponse:function(){return a.NextResponse},userAgent:function(){return s.userAgent},userAgentFromString:function(){return s.userAgentFromString},URLPattern:function(){return o.URLPattern}});let n=r(820),i=r(1080),a=r(6260),s=r(1077),o=r(8418)},6557:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NextURL",{enumerable:!0,get:function(){return u}});let n=r(9463),i=r(6395),a=r(6944),s=r(5969),o=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function l(e,t){return new URL(String(e).replace(o,"localhost"),t&&String(t).replace(o,"localhost"))}let c=Symbol("NextURLInternal");class u{constructor(e,t,r){let n,i;"object"==typeof t&&"pathname"in t||"string"==typeof t?(n=t,i=r||{}):i=r||t||{},this[c]={url:l(e,n??i.base),options:i,basePath:""},this.analyze()}analyze(){var e,t,r,i,o;let l=(0,s.getNextPathnameInfo)(this[c].url.pathname,{nextConfig:this[c].options.nextConfig,parseData:!0,i18nProvider:this[c].options.i18nProvider}),u=(0,a.getHostname)(this[c].url,this[c].options.headers);this[c].domainLocale=this[c].options.i18nProvider?this[c].options.i18nProvider.detectDomainLocale(u):(0,n.detectDomainLocale)(null==(t=this[c].options.nextConfig)?void 0:null==(e=t.i18n)?void 0:e.domains,u);let d=(null==(r=this[c].domainLocale)?void 0:r.defaultLocale)||(null==(o=this[c].options.nextConfig)?void 0:null==(i=o.i18n)?void 0:i.defaultLocale);this[c].url.pathname=l.pathname,this[c].defaultLocale=d,this[c].basePath=l.basePath??"",this[c].buildId=l.buildId,this[c].locale=l.locale??d,this[c].trailingSlash=l.trailingSlash}formatPathname(){return(0,i.formatNextPathnameInfo)({basePath:this[c].basePath,buildId:this[c].buildId,defaultLocale:this[c].options.forceLocale?void 0:this[c].defaultLocale,locale:this[c].locale,pathname:this[c].url.pathname,trailingSlash:this[c].trailingSlash})}formatSearch(){return this[c].url.search}get buildId(){return this[c].buildId}set buildId(e){this[c].buildId=e}get locale(){return this[c].locale??""}set locale(e){var t,r;if(!this[c].locale||!(null==(r=this[c].options.nextConfig)?void 0:null==(t=r.i18n)?void 0:t.locales.includes(e)))throw TypeError(`The NextURL configuration includes no locale "${e}"`);this[c].locale=e}get defaultLocale(){return this[c].defaultLocale}get domainLocale(){return this[c].domainLocale}get searchParams(){return this[c].url.searchParams}get host(){return this[c].url.host}set host(e){this[c].url.host=e}get hostname(){return this[c].url.hostname}set hostname(e){this[c].url.hostname=e}get port(){return this[c].url.port}set port(e){this[c].url.port=e}get protocol(){return this[c].url.protocol}set protocol(e){this[c].url.protocol=e}get href(){let e=this.formatPathname(),t=this.formatSearch();return`${this.protocol}//${this.host}${e}${t}${this.hash}`}set href(e){this[c].url=l(e),this.analyze()}get origin(){return this[c].url.origin}get pathname(){return this[c].url.pathname}set pathname(e){this[c].url.pathname=e}get hash(){return this[c].url.hash}set hash(e){this[c].url.hash=e}get search(){return this[c].url.search}set search(e){this[c].url.search=e}get password(){return this[c].url.password}set password(e){this[c].url.password=e}get username(){return this[c].url.username}set username(e){this[c].url.username=e}get basePath(){return this[c].basePath}set basePath(e){this[c].basePath=e.startsWith("/")?e:`/${e}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new u(String(this),this[c].options)}}},5296:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyHeadersError:function(){return i},HeadersAdapter:function(){return a}});let n=r(4415);class i extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new i}}class a extends Headers{constructor(e){super(),this.headers=new Proxy(e,{get(t,r,i){if("symbol"==typeof r)return n.ReflectAdapter.get(t,r,i);let a=r.toLowerCase(),s=Object.keys(e).find(e=>e.toLowerCase()===a);if(void 0!==s)return n.ReflectAdapter.get(t,s,i)},set(t,r,i,a){if("symbol"==typeof r)return n.ReflectAdapter.set(t,r,i,a);let s=r.toLowerCase(),o=Object.keys(e).find(e=>e.toLowerCase()===s);return n.ReflectAdapter.set(t,o??r,i,a)},has(t,r){if("symbol"==typeof r)return n.ReflectAdapter.has(t,r);let i=r.toLowerCase(),a=Object.keys(e).find(e=>e.toLowerCase()===i);return void 0!==a&&n.ReflectAdapter.has(t,a)},deleteProperty(t,r){if("symbol"==typeof r)return n.ReflectAdapter.deleteProperty(t,r);let i=r.toLowerCase(),a=Object.keys(e).find(e=>e.toLowerCase()===i);return void 0===a||n.ReflectAdapter.deleteProperty(t,a)}})}static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"append":case"delete":case"set":return i.callable;default:return n.ReflectAdapter.get(e,t,r)}}})}merge(e){return Array.isArray(e)?e.join(", "):e}static from(e){return e instanceof Headers?e:new a(e)}append(e,t){let r=this.headers[e];"string"==typeof r?this.headers[e]=[r,t]:Array.isArray(r)?r.push(t):this.headers[e]=t}delete(e){delete this.headers[e]}get(e){let t=this.headers[e];return void 0!==t?this.merge(t):null}has(e){return void 0!==this.headers[e]}set(e,t){this.headers[e]=t}forEach(e,t){for(let[r,n]of this.entries())e.call(t,n,r,this)}*entries(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase(),r=this.get(t);yield[t,r]}}*keys(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase();yield t}}*values(){for(let e of Object.keys(this.headers)){let t=this.get(e);yield t}}[Symbol.iterator](){return this.entries()}}},4415:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ReflectAdapter",{enumerable:!0,get:function(){return r}});class r{static get(e,t,r){let n=Reflect.get(e,t,r);return"function"==typeof n?n.bind(e):n}static set(e,t,r,n){return Reflect.set(e,t,r,n)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}},9498:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyRequestCookiesError:function(){return a},RequestCookiesAdapter:function(){return s},getModifiedCookieValues:function(){return l},appendMutableCookies:function(){return c},MutableRequestCookiesAdapter:function(){return u}});let n=r(5807),i=r(4415);class a extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#cookiessetname-value-options")}static callable(){throw new a}}class s{static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"clear":case"delete":case"set":return a.callable;default:return i.ReflectAdapter.get(e,t,r)}}})}}let o=Symbol.for("next.mutated.cookies");function l(e){let t=e[o];return t&&Array.isArray(t)&&0!==t.length?t:[]}function c(e,t){let r=l(t);if(0===r.length)return!1;let i=new n.ResponseCookies(e),a=i.getAll();for(let e of r)i.set(e);for(let e of a)i.set(e);return!0}class u{static wrap(e,t){let r=new n.ResponseCookies(new Headers);for(let t of e.getAll())r.set(t);let a=[],s=new Set,l=()=>{var e;let i=null==fetch.__nextGetStaticStore?void 0:null==(e=fetch.__nextGetStaticStore.call(fetch))?void 0:e.getStore();if(i&&(i.pathWasRevalidated=!0),a=r.getAll().filter(e=>s.has(e.name)),t){let e=[];for(let t of a){let r=new n.ResponseCookies(new Headers);r.set(t),e.push(r.toString())}t(e)}};return new Proxy(r,{get(e,t,r){switch(t){case o:return a;case"delete":return function(...t){s.add("string"==typeof t[0]?t[0]:t[0].name);try{e.delete(...t)}finally{l()}};case"set":return function(...t){s.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.set(...t)}finally{l()}};default:return i.ReflectAdapter.get(e,t,r)}}})}}},5807:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RequestCookies:function(){return n.RequestCookies},ResponseCookies:function(){return n.ResponseCookies}});let n=r(9243)},820:(e,t)=>{"use strict";function r(){throw Error('ImageResponse moved from "next/server" to "next/og" since Next.js 14, please import from "next/og" instead')}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ImageResponse",{enumerable:!0,get:function(){return r}})},1080:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{INTERNALS:function(){return o},NextRequest:function(){return l}});let n=r(6557),i=r(6950),a=r(9429),s=r(5807),o=Symbol("internal request");class l extends Request{constructor(e,t={}){let r="string"!=typeof e&&"url"in e?e.url:String(e);(0,i.validateURL)(r),e instanceof Request?super(e,t):super(r,t);let a=new n.NextURL(r,{headers:(0,i.toNodeOutgoingHttpHeaders)(this.headers),nextConfig:t.nextConfig});this[o]={cookies:new s.RequestCookies(this.headers),geo:t.geo||{},ip:t.ip,nextUrl:a,url:a.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,geo:this.geo,ip:this.ip,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[o].cookies}get geo(){return this[o].geo}get ip(){return this[o].ip}get nextUrl(){return this[o].nextUrl}get page(){throw new a.RemovedPageError}get ua(){throw new a.RemovedUAError}get url(){return this[o].url}}},6260:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NextResponse",{enumerable:!0,get:function(){return c}});let n=r(6557),i=r(6950),a=r(5807),s=Symbol("internal response"),o=new Set([301,302,303,307,308]);function l(e,t){var r;if(null==e?void 0:null==(r=e.request)?void 0:r.headers){if(!(e.request.headers instanceof Headers))throw Error("request.headers must be an instance of Headers");let r=[];for(let[n,i]of e.request.headers)t.set("x-middleware-request-"+n,i),r.push(n);t.set("x-middleware-override-headers",r.join(","))}}class c extends Response{constructor(e,t={}){super(e,t),this[s]={cookies:new a.ResponseCookies(this.headers),url:t.url?new n.NextURL(t.url,{headers:(0,i.toNodeOutgoingHttpHeaders)(this.headers),nextConfig:t.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[s].cookies}static json(e,t){let r=Response.json(e,t);return new c(r.body,r)}static redirect(e,t){let r="number"==typeof t?t:(null==t?void 0:t.status)??307;if(!o.has(r))throw RangeError('Failed to execute "redirect" on "response": Invalid status code');let n="object"==typeof t?t:{},a=new Headers(null==n?void 0:n.headers);return a.set("Location",(0,i.validateURL)(e)),new c(null,{...n,headers:a,status:r})}static rewrite(e,t){let r=new Headers(null==t?void 0:t.headers);return r.set("x-middleware-rewrite",(0,i.validateURL)(e)),l(t,r),new c(null,{...t,headers:r})}static next(e){let t=new Headers(null==e?void 0:e.headers);return t.set("x-middleware-next","1"),l(e,t),new c(null,{...e,headers:t})}}},8418:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"URLPattern",{enumerable:!0,get:function(){return r}});let r="undefined"==typeof URLPattern?void 0:URLPattern},1077:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isBot:function(){return a},userAgentFromString:function(){return s},userAgent:function(){return o}});let n=i(r(4490));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){return/Googlebot|Mediapartners-Google|AdsBot-Google|googleweblight|Storebot-Google|Google-PageRenderer|Google-InspectionTool|Bingbot|BingPreview|Slurp|DuckDuckBot|baiduspider|yandex|sogou|LinkedInBot|bitlybot|tumblr|vkShare|quora link preview|facebookexternalhit|facebookcatalog|Twitterbot|applebot|redditbot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|ia_archiver/i.test(e)}function s(e){return{...(0,n.default)(e),isBot:void 0!==e&&a(e)}}function o({headers:e}){return s(e.get("user-agent")||void 0)}},6950:(e,t)=>{"use strict";function r(e){let t=new Headers;for(let[r,n]of Object.entries(e))for(let e of Array.isArray(n)?n:[n])void 0!==e&&("number"==typeof e&&(e=e.toString()),t.append(r,e));return t}function n(e){var t,r,n,i,a,s=[],o=0;function l(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}function c(){return"="!==(r=e.charAt(o))&&";"!==r&&","!==r}for(;o<e.length;){for(t=o,a=!1;l();)if(","===(r=e.charAt(o))){for(n=o,o+=1,l(),i=o;o<e.length&&c();)o+=1;o<e.length&&"="===e.charAt(o)?(a=!0,o=i,s.push(e.substring(t,n)),t=o):o=n+1}else o+=1;(!a||o>=e.length)&&s.push(e.substring(t,e.length))}return s}function i(e){let t={},r=[];if(e)for(let[i,a]of e.entries())"set-cookie"===i.toLowerCase()?(r.push(...n(a)),t[i]=1===r.length?r[0]:r):t[i]=a;return t}function a(e){try{return String(new URL(String(e)))}catch(t){throw Error(`URL is malformed "${String(e)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:t})}}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{fromNodeOutgoingHttpHeaders:function(){return r},splitCookiesString:function(){return n},toNodeOutgoingHttpHeaders:function(){return i},validateURL:function(){return a}})},6944:(e,t)=>{"use strict";function r(e,t){let r;if((null==t?void 0:t.host)&&!Array.isArray(t.host))r=t.host.toString().split(":",1)[0];else{if(!e.hostname)return;r=e.hostname}return r.toLowerCase()}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getHostname",{enumerable:!0,get:function(){return r}})},9463:(e,t)=>{"use strict";function r(e,t,r){if(e)for(let a of(r&&(r=r.toLowerCase()),e)){var n,i;if(t===(null==(n=a.domain)?void 0:n.split(":",1)[0].toLowerCase())||r===a.defaultLocale.toLowerCase()||(null==(i=a.locales)?void 0:i.some(e=>e.toLowerCase()===r)))return a}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"detectDomainLocale",{enumerable:!0,get:function(){return r}})},7015:(e,t)=>{"use strict";function r(e,t){let r;let n=e.split("/");return(t||[]).some(t=>!!n[1]&&n[1].toLowerCase()===t.toLowerCase()&&(r=t,n.splice(1,1),e=n.join("/")||"/",!0)),{pathname:e,detectedLocale:r}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"normalizeLocalePath",{enumerable:!0,get:function(){return r}})},7992:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addLocale",{enumerable:!0,get:function(){return a}});let n=r(1870),i=r(6050);function a(e,t,r,a){if(!t||t===r)return e;let s=e.toLowerCase();return!a&&((0,i.pathHasPrefix)(s,"/api")||(0,i.pathHasPrefix)(s,"/"+t.toLowerCase()))?e:(0,n.addPathPrefix)(e,"/"+t)}},7585:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addPathSuffix",{enumerable:!0,get:function(){return i}});let n=r(2244);function i(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:i,hash:a}=(0,n.parsePath)(e);return""+r+t+i+a}},6395:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"formatNextPathnameInfo",{enumerable:!0,get:function(){return o}});let n=r(4310),i=r(1870),a=r(7585),s=r(7992);function o(e){let t=(0,s.addLocale)(e.pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix);return(e.buildId||!e.trailingSlash)&&(t=(0,n.removeTrailingSlash)(t)),e.buildId&&(t=(0,a.addPathSuffix)((0,i.addPathPrefix)(t,"/_next/data/"+e.buildId),"/"===e.pathname?"index.json":".json")),t=(0,i.addPathPrefix)(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:(0,a.addPathSuffix)(t,"/"):(0,n.removeTrailingSlash)(t)}},5969:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getNextPathnameInfo",{enumerable:!0,get:function(){return s}});let n=r(7015),i=r(9181),a=r(6050);function s(e,t){var r,s;let{basePath:o,i18n:l,trailingSlash:c}=null!=(r=t.nextConfig)?r:{},u={pathname:e,trailingSlash:"/"!==e?e.endsWith("/"):c};o&&(0,a.pathHasPrefix)(u.pathname,o)&&(u.pathname=(0,i.removePathPrefix)(u.pathname,o),u.basePath=o);let d=u.pathname;if(u.pathname.startsWith("/_next/data/")&&u.pathname.endsWith(".json")){let e=u.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/"),r=e[0];u.buildId=r,d="index"!==e[1]?"/"+e.slice(1).join("/"):"/",!0===t.parseData&&(u.pathname=d)}if(l){let e=t.i18nProvider?t.i18nProvider.analyze(u.pathname):(0,n.normalizeLocalePath)(u.pathname,l.locales);u.locale=e.detectedLocale,u.pathname=null!=(s=e.pathname)?s:u.pathname,!e.detectedLocale&&u.buildId&&(e=t.i18nProvider?t.i18nProvider.analyze(d):(0,n.normalizeLocalePath)(d,l.locales)).detectedLocale&&(u.locale=e.detectedLocale)}return u}},9181:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removePathPrefix",{enumerable:!0,get:function(){return i}});let n=r(6050);function i(e,t){if(!(0,n.pathHasPrefix)(e,t))return e;let r=e.slice(t.length);return r.startsWith("/")?r:"/"+r}},7707:(e,t,r)=>{"use strict";let n,i,a,s,o;r.r(t),r.d(t,{default:()=>or});var l=r(5344);function c(e){let t=e;return{createUser:({id:e,...r})=>t.user.create({data:r}),getUser:e=>t.user.findUnique({where:{id:e}}),getUserByEmail:e=>t.user.findUnique({where:{email:e}}),async getUserByAccount(e){let r=await t.account.findUnique({where:{provider_providerAccountId:e},select:{user:!0}});return r?.user??null},updateUser:({id:e,...r})=>t.user.update({where:{id:e},data:r}),deleteUser:e=>t.user.delete({where:{id:e}}),linkAccount:e=>t.account.create({data:e}),unlinkAccount:e=>t.account.delete({where:{provider_providerAccountId:e}}),async getSessionAndUser(e){let r=await t.session.findUnique({where:{sessionToken:e},include:{user:!0}});if(!r)return null;let{user:n,...i}=r;return{user:n,session:i}},createSession:e=>t.session.create({data:e}),updateSession:e=>t.session.update({where:{sessionToken:e.sessionToken},data:e}),deleteSession:e=>t.session.delete({where:{sessionToken:e}}),async createVerificationToken(e){let r=await t.verificationToken.create({data:e});return r.id&&delete r.id,r},async useVerificationToken(e){try{let r=await t.verificationToken.delete({where:{identifier_token:e}});return r.id&&delete r.id,r}catch(e){if("P2025"===e.code)return null;throw e}},getAccount:async(e,r)=>t.account.findFirst({where:{providerAccountId:e,provider:r}}),createAuthenticator:async e=>t.authenticator.create({data:e}).then(u),async getAuthenticator(e){let r=await t.authenticator.findUnique({where:{credentialID:e}});return r?u(r):null},listAuthenticatorsByUserId:async e=>(await t.authenticator.findMany({where:{userId:e}})).map(u),updateAuthenticatorCounter:async(e,r)=>t.authenticator.update({where:{credentialID:e},data:{counter:r}}).then(u)}}function u(e){let{transports:t,id:r,user:n,...i}=e;return{...i,transports:t||void 0}}r(3729);let d=new(r(8163)).PrismaClient;var f=r(3775),h=r.n(f),p=function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},m=function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};let g=4096,y=160,w=3936;function b(e){let t=e?"__Secure-":"";return{sessionToken:{name:`${t}authjs.session-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},callbackUrl:{name:`${t}authjs.callback-url`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},csrfToken:{name:`${e?"__Host-":""}authjs.csrf-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},pkceCodeVerifier:{name:`${t}authjs.pkce.code_verifier`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}},state:{name:`${t}authjs.state`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}},nonce:{name:`${t}authjs.nonce`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},webauthnChallenge:{name:`${t}authjs.challenge`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}}}}class v{constructor(e,t,r){if(rI.add(this),rU.set(this,{}),rN.set(this,void 0),rj.set(this,void 0),p(this,rj,r,"f"),p(this,rN,e,"f"),!t)return;let{name:n}=e;for(let[e,r]of Object.entries(t))e.startsWith(n)&&r&&(m(this,rU,"f")[e]=r)}get value(){return Object.keys(m(this,rU,"f")).sort((e,t)=>parseInt(e.split(".").pop()||"0")-parseInt(t.split(".").pop()||"0")).map(e=>m(this,rU,"f")[e]).join("")}chunk(e,t){let r=m(this,rI,"m",rq).call(this);for(let n of m(this,rI,"m",rD).call(this,{name:m(this,rN,"f").name,value:e,options:{...m(this,rN,"f").options,...t}}))r[n.name]=n;return Object.values(r)}clean(){return Object.values(m(this,rI,"m",rq).call(this))}}rU=new WeakMap,rN=new WeakMap,rj=new WeakMap,rI=new WeakSet,rD=function(e){let t=Math.ceil(e.value.length/w);if(1===t)return m(this,rU,"f")[e.name]=e.value,[e];let r=[];for(let n=0;n<t;n++){let t=`${e.name}.${n}`,i=e.value.substr(n*w,w);r.push({...e,name:t,value:i}),m(this,rU,"f")[t]=i}return m(this,rj,"f").debug("CHUNKING_SESSION_COOKIE",{message:`Session cookie exceeds allowed ${g} bytes.`,emptyCookieSize:y,valueSize:e.value.length,chunks:r.map(e=>e.value.length+y)}),r},rq=function(){let e={};for(let t in m(this,rU,"f"))delete m(this,rU,"f")?.[t],e[t]={name:t,value:"",options:{...m(this,rN,"f").options,maxAge:0}};return e};var _=r(5606);let x=!1;function k(e,t){try{return/^https?:/.test(new URL(e,e.startsWith("/")?t:void 0).protocol)}catch{return!1}}function E(e){return/^v\d+(?:\.\d+){0,2}$/.test(e)}let S=!1,A=!1,P=!1,R=["createVerificationToken","useVerificationToken","getUserByEmail"],T=["createUser","getUser","getUserByEmail","getUserByAccount","updateUser","linkAccount","createSession","getSessionAndUser","updateSession","deleteSession"],O=["createUser","getUser","linkAccount","getAccount","getAuthenticator","createAuthenticator","listAuthenticatorsByUserId","updateAuthenticatorCounter"];function $(e,t){let{url:r}=e,n=[];if(!x&&t.debug&&n.push("debug-enabled"),!t.trustHost)return new _.kA(`Host must be trusted. URL was: ${e.url}`);if(!t.secret?.length)return new _.yv("Please define a `secret`");let i=e.query?.callbackUrl;if(i&&!k(i,r.origin))return new _.k7(`Invalid callback URL. Received: ${i}`);let{callbackUrl:a}=b(t.useSecureCookies??"https:"===r.protocol),s=e.cookies?.[t.cookies?.callbackUrl?.name??a.name];if(s&&!k(s,r.origin))return new _.k7(`Invalid callback URL. Received: ${s}`);let o=!1;for(let e of t.providers){let t="function"==typeof e?e():e;if(("oauth"===t.type||"oidc"===t.type)&&!(t.issuer??t.options?.issuer)){let e;let{authorization:r,token:n,userinfo:i}=t;if("string"==typeof r||r?.url?"string"==typeof n||n?.url?"string"==typeof i||i?.url||(e="userinfo"):e="token":e="authorization",e)return new _.Hi(`Provider "${t.id}" is missing both \`issuer\` and \`${e}\` endpoint config. At least one of them is required`)}if("credentials"===t.type)S=!0;else if("email"===t.type)A=!0;else if("webauthn"===t.type){if(P=!0,t.simpleWebAuthnBrowserVersion&&!E(t.simpleWebAuthnBrowserVersion))return new _.l4(`Invalid provider config for "${t.id}": simpleWebAuthnBrowserVersion "${t.simpleWebAuthnBrowserVersion}" must be a valid semver string.`);if(t.enableConditionalUI){if(o)return new _.j7("Multiple webauthn providers have 'enableConditionalUI' set to True. Only one provider can have this option enabled at a time");if(o=!0,!Object.values(t.formFields).some(e=>e.autocomplete&&e.autocomplete.toString().indexOf("webauthn")>-1))return new _.BX(`Provider "${t.id}" has 'enableConditionalUI' set to True, but none of its formFields have 'webauthn' in their autocomplete param`)}}}if(S){let e=t.session?.strategy==="database",r=!t.providers.some(e=>"credentials"!==("function"==typeof e?e():e).type);if(e&&r)return new _.lA("Signing in with credentials only supported if JWT strategy is enabled");if(t.providers.some(e=>{let t="function"==typeof e?e():e;return"credentials"===t.type&&!t.authorize}))return new _.yQ("Must define an authorize() handler to use credentials authentication provider")}let{adapter:l,session:c}=t,u=[];if(A||c?.strategy==="database"||!c?.strategy&&l){if(A){if(!l)return new _.Xp("Email login requires an adapter");u.push(...R)}else{if(!l)return new _.Xp("Database session requires an adapter");u.push(...T)}}if(P){if(!t.experimental?.enableWebAuthn)return new _.dw("WebAuthn is an experimental feature. To enable it, set `experimental.enableWebAuthn` to `true` in your config");if(n.push("experimental-webauthn"),!l)return new _.Xp("WebAuthn requires an adapter");u.push(...O)}if(l){let e=u.filter(e=>!(e in l));if(e.length)return new _.xP(`Required adapter methods were missing: ${e.join(", ")}`)}return x||(x=!0),n}var C=r(6113);let I=(e,t,r,n,i)=>{let a=parseInt(e.substr(3),10)>>3||20,s=(0,C.createHmac)(e,r.byteLength?r:new Uint8Array(a)).update(t).digest(),o=Math.ceil(i/a),l=new Uint8Array(a*o+n.byteLength+1),c=0,u=0;for(let t=1;t<=o;t++)l.set(n,u),l[u+n.byteLength]=t,l.set((0,C.createHmac)(e,s).update(l.subarray(c,u+n.byteLength+1)).digest(),u),c=u,u+=a;return l.slice(0,i)};"function"!=typeof C.hkdf||process.versions.electron||(n=async(...e)=>new Promise((t,r)=>{C.hkdf(...e,(e,n)=>{e?r(e):t(new Uint8Array(n))})}));let U=async(e,t,r,i,a)=>(n||I)(e,t,r,i,a);function N(e){switch(e){case"sha256":case"sha384":case"sha512":case"sha1":return e;default:throw TypeError('unsupported "digest" value')}}function j(e,t){if("string"==typeof e)return new TextEncoder().encode(e);if(!(e instanceof Uint8Array))throw TypeError(`"${t}"" must be an instance of Uint8Array or a string`);return e}function D(e){let t=j(e,"ikm");if(!t.byteLength)throw TypeError('"ikm" must be at least one byte in length');return t}function q(e){let t=j(e,"info");if(t.byteLength>1024)throw TypeError('"info" must not contain more than 1024 bytes');return t}function L(e,t){if("number"!=typeof e||!Number.isInteger(e)||e<1)throw TypeError('"keylen" must be a positive integer');if(e>255*(parseInt(t.substr(3),10)>>3||20))throw TypeError('"keylen" too large');return e}async function F(e,t,r,n,i){return U(N(e),D(t),j(r,"salt"),q(n),L(i,e))}var M=r(6005);let H=(e,t)=>(0,M.createHash)(e).update(t).digest();var V=r(2254);let W=new TextEncoder,J=new TextDecoder,K=4294967296;function B(...e){let t=e.reduce((e,{length:t})=>e+t,0),r=new Uint8Array(t),n=0;for(let t of e)r.set(t,n),n+=t.length;return r}function G(e,t){return B(W.encode(e),new Uint8Array([0]),t)}function z(e,t,r){if(t<0||t>=K)throw RangeError(`value must be >= 0 and <= ${K-1}. Received ${t}`);e.set([t>>>24,t>>>16,t>>>8,255&t],r)}function Q(e){let t=Math.floor(e/K),r=e%K,n=new Uint8Array(8);return z(n,t,0),z(n,r,4),n}function Z(e){let t=new Uint8Array(4);return z(t,e),t}function Y(e){return B(Z(e.length),e)}async function X(e,t,r){let n=Math.ceil((t>>3)/32),i=new Uint8Array(32*n);for(let t=0;t<n;t++){let n=new Uint8Array(4+e.length+r.length);n.set(Z(t+1)),n.set(e,4),n.set(r,4+e.length),i.set(await H("sha256",n),32*t)}return i.slice(0,t>>3)}function ee(e){let t=e;return t instanceof Uint8Array&&(t=J.decode(t)),t}let et=e=>V.Buffer.from(e).toString("base64url"),er=e=>new Uint8Array(V.Buffer.from(ee(e),"base64url"));class en extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(e,t){super(e,t),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class ei extends en{static code="ERR_JWT_CLAIM_VALIDATION_FAILED";code="ERR_JWT_CLAIM_VALIDATION_FAILED";claim;reason;payload;constructor(e,t,r="unspecified",n="unspecified"){super(e,{cause:{claim:r,reason:n,payload:t}}),this.claim=r,this.reason=n,this.payload=t}}class ea extends en{static code="ERR_JWT_EXPIRED";code="ERR_JWT_EXPIRED";claim;reason;payload;constructor(e,t,r="unspecified",n="unspecified"){super(e,{cause:{claim:r,reason:n,payload:t}}),this.claim=r,this.reason=n,this.payload=t}}class es extends en{static code="ERR_JOSE_ALG_NOT_ALLOWED";code="ERR_JOSE_ALG_NOT_ALLOWED"}class eo extends en{static code="ERR_JOSE_NOT_SUPPORTED";code="ERR_JOSE_NOT_SUPPORTED"}class el extends en{static code="ERR_JWE_DECRYPTION_FAILED";code="ERR_JWE_DECRYPTION_FAILED";constructor(e="decryption operation failed",t){super(e,t)}}class ec extends en{static code="ERR_JWE_INVALID";code="ERR_JWE_INVALID"}class eu extends null{static code=null;code="ERR_JWS_INVALID"}class ed extends en{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"}class ef extends en{static code="ERR_JWK_INVALID";code="ERR_JWK_INVALID"}class eh extends null{static code=null;code="ERR_JWKS_INVALID"}class ep extends null{static code=null;code="ERR_JWKS_NO_MATCHING_KEY";constructor(e="no applicable key found in the JSON Web Key Set",t){super(e,t)}}class em extends en{[Symbol.asyncIterator];static code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";constructor(e="multiple matching keys found in the JSON Web Key Set",t){super(e,t)}}class eg extends null{static code=null;code="ERR_JWKS_TIMEOUT";constructor(e="request timed out",t){super(e,t)}}class ey extends null{static code=null;code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";constructor(e="signature verification failed",t){super(e,t)}}function ew(e){return"object"==typeof e&&null!==e}function eb(e){if(!ew(e)||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}let ev=(e,t)=>{if("string"!=typeof e||!e)throw new ef(`${t} missing or invalid`)};async function e_(e,t){let r;if(!eb(e))throw TypeError("JWK must be an object");if("sha256"!==(t??="sha256")&&"sha384"!==t&&"sha512"!==t)throw TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');switch(e.kty){case"EC":ev(e.crv,'"crv" (Curve) Parameter'),ev(e.x,'"x" (X Coordinate) Parameter'),ev(e.y,'"y" (Y Coordinate) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x,y:e.y};break;case"OKP":ev(e.crv,'"crv" (Subtype of Key Pair) Parameter'),ev(e.x,'"x" (Public Key) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x};break;case"RSA":ev(e.e,'"e" (Exponent) Parameter'),ev(e.n,'"n" (Modulus) Parameter'),r={e:e.e,kty:e.kty,n:e.n};break;case"oct":ev(e.k,'"k" (Key Value) Parameter'),r={k:e.k,kty:e.kty};break;default:throw new eo('"kty" (Key Type) Parameter missing or unsupported')}let n=W.encode(JSON.stringify(r));return et(await H(t,n))}let ex=et,ek=er,eE=Symbol();function eS(e){switch(e){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new eo(`Unsupported JWE Algorithm: ${e}`)}}let eA=e=>(0,M.randomFillSync)(new Uint8Array(eS(e)>>3)),eP=(e,t)=>{if(t.length<<3!==eS(e))throw new ec("Invalid Initialization Vector length")};var eR=r(7261);let eT=e=>eR.types.isKeyObject(e),eO=(e,t)=>{let r;switch(e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":r=parseInt(e.slice(-3),10);break;case"A128GCM":case"A192GCM":case"A256GCM":r=parseInt(e.slice(1,4),10);break;default:throw new eo(`Content Encryption Algorithm ${e} is not supported either by JOSE or your javascript runtime`)}if(t instanceof Uint8Array){let e=t.byteLength<<3;if(e!==r)throw new ec(`Invalid Content Encryption Key length. Expected ${r} bits, got ${e} bits`);return}if(eT(t)&&"secret"===t.type){let e=t.symmetricKeySize<<3;if(e!==r)throw new ec(`Invalid Content Encryption Key length. Expected ${r} bits, got ${e} bits`);return}throw TypeError("Invalid Content Encryption Key type")};function e$(e,t,r,n,i,a){let s=B(e,t,r,Q(e.length<<3)),o=(0,M.createHmac)(`sha${n}`,i);return o.update(s),o.digest().slice(0,a>>3)}let eC=M.webcrypto,eI=e=>eR.types.isCryptoKey(e);function eU(e,t="algorithm.name"){return TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function eN(e,t){return e.name===t}function ej(e){return parseInt(e.name.slice(4),10)}function eD(e,t){if(t.length&&!t.some(t=>e.usages.includes(t))){let e="CryptoKey does not support this operation, its usages must include ";if(t.length>2){let r=t.pop();e+=`one of ${t.join(", ")}, or ${r}.`}else 2===t.length?e+=`one of ${t[0]} or ${t[1]}.`:e+=`${t[0]}.`;throw TypeError(e)}}function eq(e,t,...r){switch(t){case"A128GCM":case"A192GCM":case"A256GCM":{if(!eN(e.algorithm,"AES-GCM"))throw eU("AES-GCM");let r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw eU(r,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!eN(e.algorithm,"AES-KW"))throw eU("AES-KW");let r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw eU(r,"algorithm.length");break}case"ECDH":switch(e.algorithm.name){case"ECDH":case"X25519":case"X448":break;default:throw eU("ECDH, X25519, or X448")}break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!eN(e.algorithm,"PBKDF2"))throw eU("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!eN(e.algorithm,"RSA-OAEP"))throw eU("RSA-OAEP");let r=parseInt(t.slice(9),10)||1;if(ej(e.algorithm.hash)!==r)throw eU(`SHA-${r}`,"algorithm.hash");break}default:throw TypeError("CryptoKey does not support this operation")}eD(e,r)}function eL(e,t,...r){if((r=r.filter(Boolean)).length>2){let t=r.pop();e+=`one of type ${r.join(", ")}, or ${t}.`}else 2===r.length?e+=`one of type ${r[0]} or ${r[1]}.`:e+=`of type ${r[0]}.`;return null==t?e+=` Received ${t}`:"function"==typeof t&&t.name?e+=` Received function ${t.name}`:"object"==typeof t&&null!=t&&t.constructor?.name&&(e+=` Received an instance of ${t.constructor.name}`),e}let eF=(e,...t)=>eL("Key must be ",e,...t);function eM(e,t,...r){return eL(`Key for the ${e} algorithm must be `,t,...r)}let eH=e=>(i||=new Set((0,M.getCiphers)())).has(e),eV=e=>eT(e)||eI(e),eW=["KeyObject"];function eJ(e,t,r,n,i){let a=parseInt(e.slice(1,4),10);eT(r)&&(r=r.export());let s=r.subarray(a>>3),o=r.subarray(0,a>>3),l=`aes-${a}-cbc`;if(!eH(l))throw new eo(`alg ${e} is not supported by your javascript runtime`);let c=(0,M.createCipheriv)(l,s,n),u=B(c.update(t),c.final()),d=e$(i,n,u,parseInt(e.slice(-3),10),o,a);return{ciphertext:u,tag:d,iv:n}}function eK(e,t,r,n,i){let a=parseInt(e.slice(1,4),10),s=`aes-${a}-gcm`;if(!eH(s))throw new eo(`alg ${e} is not supported by your javascript runtime`);let o=(0,M.createCipheriv)(s,r,n,{authTagLength:16});i.byteLength&&o.setAAD(i,{plaintextLength:t.length});let l=o.update(t);return o.final(),{ciphertext:l,tag:o.getAuthTag(),iv:n}}(globalThis.CryptoKey||eC?.CryptoKey)&&eW.push("CryptoKey");let eB=(e,t,r,n,i)=>{let a;if(eI(r))eq(r,e,"encrypt"),a=M.KeyObject.from(r);else if(r instanceof Uint8Array||eT(r))a=r;else throw TypeError(eF(r,...eW,"Uint8Array"));switch(eO(e,a),n?eP(e,n):n=eA(e),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return eJ(e,t,a,n,i);case"A128GCM":case"A192GCM":case"A256GCM":return eK(e,t,a,n,i);default:throw new eo("Unsupported JWE Content Encryption Algorithm")}};function eG(e,t){if(e.symmetricKeySize<<3!==parseInt(t.slice(1,4),10))throw TypeError(`Invalid key size for alg: ${t}`)}function ez(e,t,r){if(eT(e))return e;if(e instanceof Uint8Array)return(0,M.createSecretKey)(e);if(eI(e))return eq(e,t,r),M.KeyObject.from(e);throw TypeError(eF(e,...eW,"Uint8Array"))}let eQ=(e,t,r)=>{let n=parseInt(e.slice(1,4),10),i=`aes${n}-wrap`;if(!eH(i))throw new eo(`alg ${e} is not supported either by JOSE or your javascript runtime`);let a=ez(t,e,"wrapKey");eG(a,e);let s=(0,M.createCipheriv)(i,a,V.Buffer.alloc(8,166));return B(s.update(r),s.final())},eZ=(e,t,r)=>{let n=parseInt(e.slice(1,4),10),i=`aes${n}-wrap`;if(!eH(i))throw new eo(`alg ${e} is not supported either by JOSE or your javascript runtime`);let a=ez(t,e,"unwrapKey");eG(a,e);let s=(0,M.createDecipheriv)(i,a,V.Buffer.alloc(8,166));return B(s.update(r),s.final())};function eY(e){return eb(e)&&"string"==typeof e.kty}function eX(e){return"oct"!==e.kty&&"string"==typeof e.d}function e0(e){return"oct"!==e.kty&&void 0===e.d}function e1(e){return eY(e)&&"oct"===e.kty&&"string"==typeof e.k}new WeakMap;let e2=e=>{switch(e){case"prime256v1":return"P-256";case"secp384r1":return"P-384";case"secp521r1":return"P-521";case"secp256k1":return"secp256k1";default:throw new eo("Unsupported key curve for this operation")}},e3=(e,t)=>{let r;if(eI(e))r=M.KeyObject.from(e);else if(eT(e))r=e;else if(eY(e))return e.crv;else throw TypeError(eF(e,...eW));if("secret"===r.type)throw TypeError('only "private" or "public" type keys can be used for this operation');switch(r.asymmetricKeyType){case"ed25519":case"ed448":return`Ed${r.asymmetricKeyType.slice(2)}`;case"x25519":case"x448":return`X${r.asymmetricKeyType.slice(1)}`;case"ec":{let e=r.asymmetricKeyDetails.namedCurve;if(t)return e;return e2(e)}default:throw TypeError("Invalid asymmetric key type for this operation")}},e5=(0,eR.promisify)(M.generateKeyPair);async function e4(e,t,r,n,i=new Uint8Array(0),a=new Uint8Array(0)){let s,o;if(eI(e))eq(e,"ECDH"),s=M.KeyObject.from(e);else if(eT(e))s=e;else throw TypeError(eF(e,...eW));if(eI(t))eq(t,"ECDH","deriveBits"),o=M.KeyObject.from(t);else if(eT(t))o=t;else throw TypeError(eF(t,...eW));let l=B(Y(W.encode(r)),Y(i),Y(a),Z(n));return X((0,M.diffieHellman)({privateKey:o,publicKey:s}),n,l)}async function e6(e){let t;if(eI(e))t=M.KeyObject.from(e);else if(eT(e))t=e;else throw TypeError(eF(e,...eW));switch(t.asymmetricKeyType){case"x25519":return e5("x25519");case"x448":return e5("x448");case"ec":return e5("ec",{namedCurve:e3(t)});default:throw new eo("Invalid or unsupported EPK")}}let e8=e=>["P-256","P-384","P-521","X25519","X448"].includes(e3(e));function e9(e){if(!(e instanceof Uint8Array)||e.length<8)throw new ec("PBES2 Salt Input must be 8 or more octets")}let e7=(0,eR.promisify)(M.pbkdf2);function te(e,t){if(eT(e))return e.export();if(e instanceof Uint8Array)return e;if(eI(e))return eq(e,t,"deriveBits","deriveKey"),M.KeyObject.from(e).export();throw TypeError(eF(e,...eW,"Uint8Array"))}let tt=async(e,t,r,n=2048,i=(0,M.randomFillSync)(new Uint8Array(16)))=>{e9(i);let a=G(e,i),s=parseInt(e.slice(13,16),10)>>3,o=te(t,e),l=await e7(o,a,n,s,`sha${e.slice(8,11)}`);return{encryptedKey:await eQ(e.slice(-6),l,r),p2c:n,p2s:et(i)}},tr=async(e,t,r,n,i)=>{e9(i);let a=G(e,i),s=parseInt(e.slice(13,16),10)>>3,o=te(t,e),l=await e7(o,a,n,s,`sha${e.slice(8,11)}`);return eZ(e.slice(-6),l,r)},tn=(e,t)=>{let r;try{r=e instanceof M.KeyObject?e.asymmetricKeyDetails?.modulusLength:Buffer.from(e.n,"base64url").byteLength<<3}catch{}if("number"!=typeof r||r<2048)throw TypeError(`${t} requires key modulusLength to be 2048 bits or larger`)},ti=(e,t)=>{if("rsa"!==e.asymmetricKeyType)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");tn(e,t)},ta=(0,eR.deprecate)(()=>M.constants.RSA_PKCS1_PADDING,'The RSA1_5 "alg" (JWE Algorithm) is deprecated and will be removed in the next major revision.'),ts=e=>{switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return M.constants.RSA_PKCS1_OAEP_PADDING;case"RSA1_5":return ta();default:return}},to=e=>{switch(e){case"RSA-OAEP":return"sha1";case"RSA-OAEP-256":return"sha256";case"RSA-OAEP-384":return"sha384";case"RSA-OAEP-512":return"sha512";default:return}};function tl(e,t,...r){if(eT(e))return e;if(eI(e))return eq(e,t,...r),M.KeyObject.from(e);throw TypeError(eF(e,...eW))}let tc=(e,t,r)=>{let n=ts(e),i=to(e),a=tl(t,e,"wrapKey","encrypt");return ti(a,e),(0,M.publicEncrypt)({key:a,oaepHash:i,padding:n},r)},tu=(e,t,r)=>{let n=ts(e),i=to(e),a=tl(t,e,"unwrapKey","decrypt");return ti(a,e),(0,M.privateDecrypt)({key:a,oaepHash:i,padding:n},r)},td={};function tf(e){switch(e){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new eo(`Unsupported JWE Algorithm: ${e}`)}}let th=e=>(0,M.randomFillSync)(new Uint8Array(tf(e)>>3)),tp=e=>{let t;if(eI(e)){if(!e.extractable)throw TypeError("CryptoKey is not extractable");t=M.KeyObject.from(e)}else if(eT(e))t=e;else if(e instanceof Uint8Array)return{kty:"oct",k:et(e)};else throw TypeError(eF(e,...eW,"Uint8Array"));if("secret"!==t.type&&!["rsa","ec","ed25519","x25519","ed448","x448"].includes(t.asymmetricKeyType))throw new eo("Unsupported key asymmetricKeyType");return t.export({format:"jwk"})};async function tm(e){return tp(e)}let tg=e=>e?.[Symbol.toStringTag],ty=(e,t,r)=>{if(void 0!==t.use&&"sig"!==t.use)throw TypeError("Invalid key for this operation, when present its use must be sig");if(void 0!==t.key_ops&&t.key_ops.includes?.(r)!==!0)throw TypeError(`Invalid key for this operation, when present its key_ops must include ${r}`);if(void 0!==t.alg&&t.alg!==e)throw TypeError(`Invalid key for this operation, when present its alg must be ${e}`);return!0},tw=(e,t,r,n)=>{if(!(t instanceof Uint8Array)){if(n&&eY(t)){if(e1(t)&&ty(e,t,r))return;throw TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!eV(t))throw TypeError(eM(e,t,...eW,"Uint8Array",n?"JSON Web Key":null));if("secret"!==t.type)throw TypeError(`${tg(t)} instances for symmetric algorithms must be of type "secret"`)}},tb=(e,t,r,n)=>{if(n&&eY(t))switch(r){case"sign":if(eX(t)&&ty(e,t,r))return;throw TypeError("JSON Web Key for this operation be a private JWK");case"verify":if(e0(t)&&ty(e,t,r))return;throw TypeError("JSON Web Key for this operation be a public JWK")}if(!eV(t))throw TypeError(eM(e,t,...eW,n?"JSON Web Key":null));if("secret"===t.type)throw TypeError(`${tg(t)} instances for asymmetric algorithms must not be of type "secret"`);if("sign"===r&&"public"===t.type)throw TypeError(`${tg(t)} instances for asymmetric algorithm signing must be of type "private"`);if("decrypt"===r&&"public"===t.type)throw TypeError(`${tg(t)} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&"verify"===r&&"private"===t.type)throw TypeError(`${tg(t)} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&"encrypt"===r&&"private"===t.type)throw TypeError(`${tg(t)} instances for asymmetric algorithm encryption must be of type "public"`)};function tv(e,t,r,n){t.startsWith("HS")||"dir"===t||t.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(t)?tw(t,r,n,e):tb(t,r,n,e)}let t_=tv.bind(void 0,!1);tv.bind(void 0,!0);let tx=M.timingSafeEqual;function tk(e,t,r,n,i,a){let s,o;let l=parseInt(e.slice(1,4),10);eT(t)&&(t=t.export());let c=t.subarray(l>>3),u=t.subarray(0,l>>3),d=parseInt(e.slice(-3),10),f=`aes-${l}-cbc`;if(!eH(f))throw new eo(`alg ${e} is not supported by your javascript runtime`);let h=e$(a,n,r,d,u,l);try{s=tx(i,h)}catch{}if(!s)throw new el;try{let e=(0,M.createDecipheriv)(f,c,n);o=B(e.update(r),e.final())}catch{}if(!o)throw new el;return o}function tE(e,t,r,n,i,a){let s=parseInt(e.slice(1,4),10),o=`aes-${s}-gcm`;if(!eH(o))throw new eo(`alg ${e} is not supported by your javascript runtime`);try{let e=(0,M.createDecipheriv)(o,t,n,{authTagLength:16});e.setAuthTag(i),a.byteLength&&e.setAAD(a,{plaintextLength:r.length});let s=e.update(r);return e.final(),s}catch{throw new el}}let tS=(e,t,r,n,i,a)=>{let s;if(eI(t))eq(t,e,"decrypt"),s=M.KeyObject.from(t);else if(t instanceof Uint8Array||eT(t))s=t;else throw TypeError(eF(t,...eW,"Uint8Array"));if(!n)throw new ec("JWE Initialization Vector missing");if(!i)throw new ec("JWE Authentication Tag missing");switch(eO(e,s),eP(e,n),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return tk(e,s,r,n,i,a);case"A128GCM":case"A192GCM":case"A256GCM":return tE(e,s,r,n,i,a);default:throw new eo("Unsupported JWE Content Encryption Algorithm")}};async function tA(e,t,r,n){let i=e.slice(0,7),a=await eB(i,r,t,n,new Uint8Array(0));return{encryptedKey:a.ciphertext,iv:et(a.iv),tag:et(a.tag)}}async function tP(e,t,r,n,i){return tS(e.slice(0,7),t,r,n,i,new Uint8Array(0))}let tR=async function(e,t,r,n,i={}){let a,s,o;switch(t_(e,r,"encrypt"),r=await td.normalizePublicKey?.(r,e)||r,e){case"dir":o=r;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!e8(r))throw new eo("ECDH with the provided key is not allowed or not supported by your javascript runtime");let{apu:l,apv:c}=i,{epk:u}=i;u||=(await e6(r)).privateKey;let{x:d,y:f,crv:h,kty:p}=await tm(u),m=await e4(r,u,"ECDH-ES"===e?t:e,"ECDH-ES"===e?tf(t):parseInt(e.slice(-5,-2),10),l,c);if(s={epk:{x:d,crv:h,kty:p}},"EC"===p&&(s.epk.y=f),l&&(s.apu=et(l)),c&&(s.apv=et(c)),"ECDH-ES"===e){o=m;break}o=n||th(t);let g=e.slice(-6);a=await eQ(g,m,o);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":o=n||th(t),a=await tc(e,r,o);break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{o=n||th(t);let{p2c:l,p2s:c}=i;({encryptedKey:a,...s}=await tt(e,r,o,l,c));break}case"A128KW":case"A192KW":case"A256KW":o=n||th(t),a=await eQ(e,r,o);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{o=n||th(t);let{iv:l}=i;({encryptedKey:a,...s}=await tA(e,r,o,l));break}default:throw new eo('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:o,encryptedKey:a,parameters:s}},tT=(...e)=>{let t;let r=e.filter(Boolean);if(0===r.length||1===r.length)return!0;for(let e of r){let r=Object.keys(e);if(!t||0===t.size){t=new Set(r);continue}for(let e of r){if(t.has(e))return!1;t.add(e)}}return!0},tO=function(e,t,r,n,i){let a;if(void 0!==i.crit&&n?.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!n||void 0===n.crit)return new Set;if(!Array.isArray(n.crit)||0===n.crit.length||n.crit.some(e=>"string"!=typeof e||0===e.length))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let s of(a=void 0!==r?new Map([...Object.entries(r),...t.entries()]):t,n.crit)){if(!a.has(s))throw new eo(`Extension Header Parameter "${s}" is not recognized`);if(void 0===i[s])throw new e(`Extension Header Parameter "${s}" is missing`);if(a.get(s)&&void 0===n[s])throw new e(`Extension Header Parameter "${s}" MUST be integrity protected`)}return new Set(n.crit)};class t${_plaintext;_protectedHeader;_sharedUnprotectedHeader;_unprotectedHeader;_aad;_cek;_iv;_keyManagementParameters;constructor(e){if(!(e instanceof Uint8Array))throw TypeError("plaintext must be an instance of Uint8Array");this._plaintext=e}setKeyManagementParameters(e){if(this._keyManagementParameters)throw TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._sharedUnprotectedHeader)throw TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}setContentEncryptionKey(e){if(this._cek)throw TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw TypeError("setInitializationVector can only be called once");return this._iv=e,this}async encrypt(e,t){let r,n,i,a,s;if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new ec("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!tT(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new ec("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let o={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if(tO(ec,new Map,t?.crit,this._protectedHeader,o),void 0!==o.zip)throw new eo('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:l,enc:c}=o;if("string"!=typeof l||!l)throw new ec('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("string"!=typeof c||!c)throw new ec('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(this._cek&&("dir"===l||"ECDH-ES"===l))throw TypeError(`setContentEncryptionKey cannot be called with JWE "alg" (Algorithm) Header ${l}`);{let i;({cek:n,encryptedKey:r,parameters:i}=await tR(l,c,e,this._cek,this._keyManagementParameters)),i&&(t&&eE in t?this._unprotectedHeader?this._unprotectedHeader={...this._unprotectedHeader,...i}:this.setUnprotectedHeader(i):this._protectedHeader?this._protectedHeader={...this._protectedHeader,...i}:this.setProtectedHeader(i))}a=this._protectedHeader?W.encode(et(JSON.stringify(this._protectedHeader))):W.encode(""),this._aad?(s=et(this._aad),i=B(a,W.encode("."),W.encode(s))):i=a;let{ciphertext:u,tag:d,iv:f}=await eB(c,this._plaintext,n,this._iv,i),h={ciphertext:et(u)};return f&&(h.iv=et(f)),d&&(h.tag=et(d)),r&&(h.encrypted_key=et(r)),s&&(h.aad=s),this._protectedHeader&&(h.protected=J.decode(a)),this._sharedUnprotectedHeader&&(h.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(h.header=this._unprotectedHeader),h}}class tC{_flattened;constructor(e){this._flattened=new t$(e)}setContentEncryptionKey(e){return this._flattened.setContentEncryptionKey(e),this}setInitializationVector(e){return this._flattened.setInitializationVector(e),this}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}setKeyManagementParameters(e){return this._flattened.setKeyManagementParameters(e),this}async encrypt(e,t){let r=await this._flattened.encrypt(e,t);return[r.protected,r.encrypted_key,r.iv,r.ciphertext,r.tag].join(".")}}let tI=e=>Math.floor(e.getTime()/1e3),tU=60,tN=3600,tj=86400,tD=604800,tq=31557600,tL=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,tF=e=>{let t;let r=tL.exec(e);if(!r||r[4]&&r[1])throw TypeError("Invalid time period format");let n=parseFloat(r[2]);switch(r[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":t=Math.round(n);break;case"minute":case"minutes":case"min":case"mins":case"m":t=Math.round(n*tU);break;case"hour":case"hours":case"hr":case"hrs":case"h":t=Math.round(n*tN);break;case"day":case"days":case"d":t=Math.round(n*tj);break;case"week":case"weeks":case"w":t=Math.round(n*tD);break;default:t=Math.round(n*tq)}return"-"===r[1]||"ago"===r[4]?-t:t};function tM(e,t){if(!Number.isFinite(t))throw TypeError(`Invalid ${e} input`);return t}class tH{_payload;constructor(e={}){if(!eb(e))throw TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return"number"==typeof e?this._payload={...this._payload,nbf:tM("setNotBefore",e)}:e instanceof Date?this._payload={...this._payload,nbf:tM("setNotBefore",tI(e))}:this._payload={...this._payload,nbf:tI(new Date)+tF(e)},this}setExpirationTime(e){return"number"==typeof e?this._payload={...this._payload,exp:tM("setExpirationTime",e)}:e instanceof Date?this._payload={...this._payload,exp:tM("setExpirationTime",tI(e))}:this._payload={...this._payload,exp:tI(new Date)+tF(e)},this}setIssuedAt(e){return void 0===e?this._payload={...this._payload,iat:tI(new Date)}:e instanceof Date?this._payload={...this._payload,iat:tM("setIssuedAt",tI(e))}:"string"==typeof e?this._payload={...this._payload,iat:tM("setIssuedAt",tI(new Date)+tF(e))}:this._payload={...this._payload,iat:tM("setIssuedAt",e)},this}}class tV extends tH{_cek;_iv;_keyManagementParameters;_protectedHeader;_replicateIssuerAsHeader;_replicateSubjectAsHeader;_replicateAudienceAsHeader;setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setKeyManagementParameters(e){if(this._keyManagementParameters)throw TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setContentEncryptionKey(e){if(this._cek)throw TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw TypeError("setInitializationVector can only be called once");return this._iv=e,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(e,t){let r=new tC(W.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),r.setProtectedHeader(this._protectedHeader),this._iv&&r.setInitializationVector(this._iv),this._cek&&r.setContentEncryptionKey(this._cek),this._keyManagementParameters&&r.setKeyManagementParameters(this._keyManagementParameters),r.encrypt(e,t)}}let tW=e=>e.d?(0,M.createPrivateKey)({format:"jwk",key:e}):(0,M.createPublicKey)({format:"jwk",key:e});async function tJ(e,t){if(!eb(e))throw TypeError("JWK must be an object");switch(t||=e.alg,e.kty){case"oct":if("string"!=typeof e.k||!e.k)throw TypeError('missing "k" (Key Value) Parameter value');return er(e.k);case"RSA":if("oth"in e&&void 0!==e.oth)throw new eo('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return tW({...e,alg:t});default:throw new eo('Unsupported "kty" (Key Type) Parameter value')}}let tK=async function(e,t,r,n,i){switch(t_(e,t,"decrypt"),t=await td.normalizePrivateKey?.(t,e)||t,e){case"dir":if(void 0!==r)throw new ec("Encountered unexpected JWE Encrypted Key");return t;case"ECDH-ES":if(void 0!==r)throw new ec("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let i,a;if(!eb(n.epk))throw new ec('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(!e8(t))throw new eo("ECDH with the provided key is not allowed or not supported by your javascript runtime");let s=await tJ(n.epk,e);if(void 0!==n.apu){if("string"!=typeof n.apu)throw new ec('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{i=er(n.apu)}catch{throw new ec("Failed to base64url decode the apu")}}if(void 0!==n.apv){if("string"!=typeof n.apv)throw new ec('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{a=er(n.apv)}catch{throw new ec("Failed to base64url decode the apv")}}let o=await e4(s,t,"ECDH-ES"===e?n.enc:e,"ECDH-ES"===e?tf(n.enc):parseInt(e.slice(-5,-2),10),i,a);if("ECDH-ES"===e)return o;if(void 0===r)throw new ec("JWE Encrypted Key missing");return eZ(e.slice(-6),o,r)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(void 0===r)throw new ec("JWE Encrypted Key missing");return tu(e,t,r);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{let a;if(void 0===r)throw new ec("JWE Encrypted Key missing");if("number"!=typeof n.p2c)throw new ec('JOSE Header "p2c" (PBES2 Count) missing or invalid');let s=i?.maxPBES2Count||1e4;if(n.p2c>s)throw new ec('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if("string"!=typeof n.p2s)throw new ec('JOSE Header "p2s" (PBES2 Salt) missing or invalid');try{a=er(n.p2s)}catch{throw new ec("Failed to base64url decode the p2s")}return tr(e,t,r,n.p2c,a)}case"A128KW":case"A192KW":case"A256KW":if(void 0===r)throw new ec("JWE Encrypted Key missing");return eZ(e,t,r);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{let i,a;if(void 0===r)throw new ec("JWE Encrypted Key missing");if("string"!=typeof n.iv)throw new ec('JOSE Header "iv" (Initialization Vector) missing or invalid');if("string"!=typeof n.tag)throw new ec('JOSE Header "tag" (Authentication Tag) missing or invalid');try{i=er(n.iv)}catch{throw new ec("Failed to base64url decode the iv")}try{a=er(n.tag)}catch{throw new ec("Failed to base64url decode the tag")}return tP(e,t,r,i,a)}default:throw new eo('Invalid or unsupported "alg" (JWE Algorithm) header value')}},tB=(e,t)=>{if(void 0!==t&&(!Array.isArray(t)||t.some(e=>"string"!=typeof e)))throw TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)};async function tG(e,t,r){let n,i,a,s,o,l,c;if(!eb(e))throw new ec("Flattened JWE must be an object");if(void 0===e.protected&&void 0===e.header&&void 0===e.unprotected)throw new ec("JOSE Header missing");if(void 0!==e.iv&&"string"!=typeof e.iv)throw new ec("JWE Initialization Vector incorrect type");if("string"!=typeof e.ciphertext)throw new ec("JWE Ciphertext missing or incorrect type");if(void 0!==e.tag&&"string"!=typeof e.tag)throw new ec("JWE Authentication Tag incorrect type");if(void 0!==e.protected&&"string"!=typeof e.protected)throw new ec("JWE Protected Header incorrect type");if(void 0!==e.encrypted_key&&"string"!=typeof e.encrypted_key)throw new ec("JWE Encrypted Key incorrect type");if(void 0!==e.aad&&"string"!=typeof e.aad)throw new ec("JWE AAD incorrect type");if(void 0!==e.header&&!eb(e.header))throw new ec("JWE Shared Unprotected Header incorrect type");if(void 0!==e.unprotected&&!eb(e.unprotected))throw new ec("JWE Per-Recipient Unprotected Header incorrect type");if(e.protected)try{let t=er(e.protected);n=JSON.parse(J.decode(t))}catch{throw new ec("JWE Protected Header is invalid")}if(!tT(n,e.header,e.unprotected))throw new ec("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");let u={...n,...e.header,...e.unprotected};if(tO(ec,new Map,r?.crit,n,u),void 0!==u.zip)throw new eo('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:d,enc:f}=u;if("string"!=typeof d||!d)throw new ec("missing JWE Algorithm (alg) in JWE Header");if("string"!=typeof f||!f)throw new ec("missing JWE Encryption Algorithm (enc) in JWE Header");let h=r&&tB("keyManagementAlgorithms",r.keyManagementAlgorithms),p=r&&tB("contentEncryptionAlgorithms",r.contentEncryptionAlgorithms);if(h&&!h.has(d)||!h&&d.startsWith("PBES2"))throw new es('"alg" (Algorithm) Header Parameter value not allowed');if(p&&!p.has(f))throw new es('"enc" (Encryption Algorithm) Header Parameter value not allowed');if(void 0!==e.encrypted_key)try{i=er(e.encrypted_key)}catch{throw new ec("Failed to base64url decode the encrypted_key")}let m=!1;"function"==typeof t&&(t=await t(n,e),m=!0);try{a=await tK(d,t,i,u,r)}catch(e){if(e instanceof TypeError||e instanceof ec||e instanceof eo)throw e;a=th(f)}if(void 0!==e.iv)try{s=er(e.iv)}catch{throw new ec("Failed to base64url decode the iv")}if(void 0!==e.tag)try{o=er(e.tag)}catch{throw new ec("Failed to base64url decode the tag")}let g=W.encode(e.protected??"");l=void 0!==e.aad?B(g,W.encode("."),W.encode(e.aad)):g;try{c=er(e.ciphertext)}catch{throw new ec("Failed to base64url decode the ciphertext")}let y={plaintext:await tS(f,a,c,s,o,l)};if(void 0!==e.protected&&(y.protectedHeader=n),void 0!==e.aad)try{y.additionalAuthenticatedData=er(e.aad)}catch{throw new ec("Failed to base64url decode the aad")}return(void 0!==e.unprotected&&(y.sharedUnprotectedHeader=e.unprotected),void 0!==e.header&&(y.unprotectedHeader=e.header),m)?{...y,key:t}:y}async function tz(e,t,r){if(e instanceof Uint8Array&&(e=J.decode(e)),"string"!=typeof e)throw new ec("Compact JWE must be a string or Uint8Array");let{0:n,1:i,2:a,3:s,4:o,length:l}=e.split(".");if(5!==l)throw new ec("Invalid Compact JWE");let c=await tG({ciphertext:s,iv:a||void 0,protected:n,tag:o||void 0,encrypted_key:i||void 0},t,r),u={plaintext:c.plaintext,protectedHeader:c.protectedHeader};return"function"==typeof t?{...u,key:c.key}:u}let tQ=e=>e.toLowerCase().replace(/^application\//,""),tZ=(e,t)=>"string"==typeof e?t.includes(e):!!Array.isArray(e)&&t.some(Set.prototype.has.bind(new Set(e))),tY=(e,t,r={})=>{let n,i;try{n=JSON.parse(J.decode(t))}catch{}if(!eb(n))throw new ed("JWT Claims Set must be a top-level JSON object");let{typ:a}=r;if(a&&("string"!=typeof e.typ||tQ(e.typ)!==tQ(a)))throw new ei('unexpected "typ" JWT header value',n,"typ","check_failed");let{requiredClaims:s=[],issuer:o,subject:l,audience:c,maxTokenAge:u}=r,d=[...s];for(let e of(void 0!==u&&d.push("iat"),void 0!==c&&d.push("aud"),void 0!==l&&d.push("sub"),void 0!==o&&d.push("iss"),new Set(d.reverse())))if(!(e in n))throw new ei(`missing required "${e}" claim`,n,e,"missing");if(o&&!(Array.isArray(o)?o:[o]).includes(n.iss))throw new ei('unexpected "iss" claim value',n,"iss","check_failed");if(l&&n.sub!==l)throw new ei('unexpected "sub" claim value',n,"sub","check_failed");if(c&&!tZ(n.aud,"string"==typeof c?[c]:c))throw new ei('unexpected "aud" claim value',n,"aud","check_failed");switch(typeof r.clockTolerance){case"string":i=tF(r.clockTolerance);break;case"number":i=r.clockTolerance;break;case"undefined":i=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:f}=r,h=tI(f||new Date);if((void 0!==n.iat||u)&&"number"!=typeof n.iat)throw new ei('"iat" claim must be a number',n,"iat","invalid");if(void 0!==n.nbf){if("number"!=typeof n.nbf)throw new ei('"nbf" claim must be a number',n,"nbf","invalid");if(n.nbf>h+i)throw new ei('"nbf" claim timestamp check failed',n,"nbf","check_failed")}if(void 0!==n.exp){if("number"!=typeof n.exp)throw new ei('"exp" claim must be a number',n,"exp","invalid");if(n.exp<=h-i)throw new ea('"exp" claim timestamp check failed',n,"exp","check_failed")}if(u){let e=h-n.iat;if(e-i>("number"==typeof u?u:tF(u)))throw new ea('"iat" claim timestamp check failed (too far in the past)',n,"iat","check_failed");if(e<0-i)throw new ei('"iat" claim timestamp check failed (it should be in the past)',n,"iat","check_failed")}return n};async function tX(e,t,r){let n=await tz(e,t,r),i=tY(n.protectedHeader,n.plaintext,r),{protectedHeader:a}=n;if(void 0!==a.iss&&a.iss!==i.iss)throw new ei('replicated "iss" claim header parameter mismatch',i,"iss","mismatch");if(void 0!==a.sub&&a.sub!==i.sub)throw new ei('replicated "sub" claim header parameter mismatch',i,"sub","mismatch");if(void 0!==a.aud&&JSON.stringify(a.aud)!==JSON.stringify(i.aud))throw new ei('replicated "aud" claim header parameter mismatch',i,"aud","mismatch");let s={payload:i,protectedHeader:a};return"function"==typeof t?{...s,key:n.key}:s}var t0=r(8049);let t1=2592e3,t2=()=>Date.now()/1e3|0,t3="dir",t5="A256CBC-HS512";async function t4(e){let{token:t={},secret:r,maxAge:n=t1,salt:i}=e,a=Array.isArray(r)?r:[r],s=await t8(t5,a[0],i),o=await e_({kty:"oct",k:ex(s)},`sha${s.byteLength<<3}`);return await new tV(t).setProtectedHeader({alg:t3,enc:t5,kid:o}).setIssuedAt().setExpirationTime(t2()+n).setJti(crypto.randomUUID()).encrypt(s)}async function t6(e){let{token:t,secret:r,salt:n}=e,i=Array.isArray(r)?r:[r];if(!t)return null;let{payload:a}=await tX(t,async({kid:e,enc:t})=>{for(let r of i){let i=await t8(t,r,n);if(void 0===e||e===await e_({kty:"oct",k:ex(i)},`sha${i.byteLength<<3}`))return i}throw Error("no matching decryption secret")},{clockTolerance:15,keyManagementAlgorithms:[t3],contentEncryptionAlgorithms:[t5,"A256GCM"]});return a}async function t8(e,t,r){let n;switch(e){case"A256CBC-HS512":n=64;break;case"A256GCM":n=32;break;default:throw Error("Unsupported JWT Content Encryption Algorithm")}return await F("sha256",t,r,`Auth.js Generated Encryption Key (${r})`,n)}async function t9({options:e,paramValue:t,cookieValue:r}){let{url:n,callbacks:i}=e,a=n.origin;return t?a=await i.redirect({url:t,baseUrl:n.origin}):r&&(a=await i.redirect({url:r,baseUrl:n.origin})),{callbackUrl:a,callbackUrlCookie:a!==r?a:void 0}}let t7="\x1b[31m",re="\x1b[33m",rt="\x1b[90m",rr="\x1b[0m",rn={error(e){let t=e instanceof _.l4?e.type:e.name;if(console.error(`${t7}[auth][error]${rr} ${t}: ${e.message}`),e.cause&&"object"==typeof e.cause&&"err"in e.cause&&e.cause.err instanceof Error){let{err:t,...r}=e.cause;console.error(`${t7}[auth][cause]${rr}:`,t.stack),r&&console.error(`${t7}[auth][details]${rr}:`,JSON.stringify(r,null,2))}else e.stack&&console.error(e.stack.replace(/.*/,"").substring(1))},warn(e){let t=`https://warnings.authjs.dev#${e}`;console.warn(`${re}[auth][warn][${e}]${rr}`,`Read more: ${t}`)},debug(e,t){console.log(`${rt}[auth][debug]:${rr} ${e}`,JSON.stringify(t,null,2))}};function ri(e){let t={...rn};return e.debug||(t.debug=()=>{}),e.logger?.error&&(t.error=e.logger.error),e.logger?.warn&&(t.warn=e.logger.warn),e.logger?.debug&&(t.debug=e.logger.debug),e.logger??(e.logger=t),t}let ra=["providers","session","csrf","signin","signout","callback","verify-request","error","webauthn-options"];function rs(e){return ra.includes(e)}async function ro(e){if(!("body"in e)||!e.body||"POST"!==e.method)return;let t=e.headers.get("content-type");return t?.includes("application/json")?await e.json():t?.includes("application/x-www-form-urlencoded")?Object.fromEntries(new URLSearchParams(await e.text())):void 0}async function rl(e,t){try{if("GET"!==e.method&&"POST"!==e.method)throw new _.D7("Only GET and POST requests are supported");t.basePath??(t.basePath="/auth");let r=new URL(e.url),{action:n,providerId:i}=rh(r.pathname,t.basePath);return{url:r,action:n,providerId:i,method:e.method,headers:Object.fromEntries(e.headers),body:e.body?await ro(e):void 0,cookies:(0,t0.Q)(e.headers.get("cookie")??"")??{},error:r.searchParams.get("error")??void 0,query:Object.fromEntries(r.searchParams)}}catch(n){let r=ri(t);r.error(n),r.debug("request",e)}}function rc(e){return new Request(e.url,{headers:e.headers,method:e.method,body:"POST"===e.method?JSON.stringify(e.body??{}):void 0})}function ru(e){let t=new Headers(e.headers);e.cookies?.forEach(e=>{let{name:r,value:n,options:i}=e,a=t0.q(r,n,i);t.has("Set-Cookie")?t.append("Set-Cookie",a):t.set("Set-Cookie",a)});let r=e.body;"application/json"===t.get("content-type")?r=JSON.stringify(e.body):"application/x-www-form-urlencoded"===t.get("content-type")&&(r=new URLSearchParams(e.body).toString());let n=e.redirect?302:e.status??200,i=new Response(r,{headers:t,status:n});return e.redirect&&i.headers.set("Location",e.redirect),i}async function rd(e){let t=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(r)).map(e=>e.toString(16).padStart(2,"0")).join("").toString()}function rf(e){let t=e=>("0"+e.toString(16)).slice(-2),r=(e,r)=>e+t(r);return Array.from(crypto.getRandomValues(new Uint8Array(e))).reduce(r,"")}function rh(e,t){let r=e.match(RegExp(`^${t}(.+)`));if(null===r)throw new _.D7(`Cannot parse action at ${e}`);let n=r.at(-1).replace(/^\//,"").split("/").filter(Boolean);if(1!==n.length&&2!==n.length)throw new _.D7(`Cannot parse action at ${e}`);let[i,a]=n;if(!rs(i)||a&&!["signin","callback","webauthn-options"].includes(i))throw new _.D7(`Cannot parse action at ${e}`);return{action:i,providerId:a}}async function rp({options:e,cookieValue:t,isPost:r,bodyValue:n}){if(t){let[i,a]=t.split("|");if(a===await rd(`${i}${e.secret}`))return{csrfTokenVerified:r&&i===n,csrfToken:i}}let i=rf(32),a=await rd(`${i}${e.secret}`);return{cookie:`${i}|${a}`,csrfToken:i}}function rm(e,t){if(!t)throw new _.Rk(`CSRF token was missing during an action ${e}`)}function rg(e){return null!==e&&"object"==typeof e}function ry(e,...t){if(!t.length)return e;let r=t.shift();if(rg(e)&&rg(r))for(let t in r)rg(r[t])?(rg(e[t])||(e[t]=Array.isArray(r[t])?[]:{}),ry(e[t],r[t])):void 0!==r[t]&&(e[t]=r[t]);return ry(e,...t)}let rw=Symbol("skip-csrf-check"),rb=Symbol("return-type-raw"),rv=Symbol("custom-fetch"),r_=Symbol("conform-internal");function rx(e){let{providerId:t,config:r}=e,n=new URL(r.basePath??"/auth",e.url.origin),i=r.providers.map(e=>{let t="function"==typeof e?e():e,{options:i,...a}=t,s=i?.id??a.id,o=ry(a,i,{signinUrl:`${n}/signin/${s}`,callbackUrl:`${n}/callback/${s}`});if("oauth"===t.type||"oidc"===t.type){o.redirectProxyUrl??(o.redirectProxyUrl=i?.redirectProxyUrl??r.redirectProxyUrl);let e=rk(o);return e.authorization?.url.searchParams.get("response_mode")==="form_post"&&delete e.redirectProxyUrl,e[rv]??(e[rv]=i?.[rv]),e}return o});return{providers:i,provider:i.find(({id:e})=>e===t)}}function rk(e){e.issuer&&(e.wellKnown??(e.wellKnown=`${e.issuer}/.well-known/openid-configuration`));let t=rP(e.authorization,e.issuer);t&&!t.url?.searchParams.has("scope")&&t.url.searchParams.set("scope","openid profile email");let r=rP(e.token,e.issuer),n=rP(e.userinfo,e.issuer),i=e.checks??["pkce"];return e.redirectProxyUrl&&(i.includes("state")||i.push("state"),e.redirectProxyUrl=`${e.redirectProxyUrl}/callback/${e.id}`),{...e,authorization:t,token:r,checks:i,userinfo:n,profile:e.profile??rE,account:e.account??rS}}let rE=e=>rA({id:e.sub??e.id??crypto.randomUUID(),name:e.name??e.nickname??e.preferred_username,email:e.email,image:e.picture}),rS=e=>rA({access_token:e.access_token,id_token:e.id_token,refresh_token:e.refresh_token,expires_at:e.expires_at,scope:e.scope,token_type:e.token_type,session_state:e.session_state});function rA(e){let t={};for(let[r,n]of Object.entries(e))void 0!==n&&(t[r]=n);return t}function rP(e,t){if(!e&&t)return;if("string"==typeof e)return{url:new URL(e)};let r=new URL(e?.url??"https://authjs.dev");if(e?.params!=null)for(let[t,n]of Object.entries(e.params))"claims"===t&&(n=JSON.stringify(n)),r.searchParams.set(t,String(n));return{url:r,request:e?.request,conform:e?.conform,...e?.clientPrivateKey?{clientPrivateKey:e?.clientPrivateKey}:null}}function rR(e){return"oidc"===e.type}let rT={signIn:()=>!0,redirect:({url:e,baseUrl:t})=>e.startsWith("/")?`${t}${e}`:new URL(e).origin===t?e:t,session:({session:e})=>({user:{name:e.user?.name,email:e.user?.email,image:e.user?.image},expires:e.expires?.toISOString?.()??e.expires}),jwt:({token:e})=>e};async function rO({authOptions:e,providerId:t,action:r,url:n,cookies:i,callbackUrl:a,csrfToken:s,csrfDisabled:o,isPost:l}){let c=ri(e),{providers:u,provider:d}=rx({url:n,providerId:t,config:e}),f=2592e3,h=!1;if((d?.type==="oauth"||d?.type==="oidc")&&d.redirectProxyUrl)try{h=new URL(d.redirectProxyUrl).origin===n.origin}catch{throw TypeError(`redirectProxyUrl must be a valid URL. Received: ${d.redirectProxyUrl}`)}let p={debug:!1,pages:{},theme:{colorScheme:"auto",logo:"",brandColor:"",buttonText:""},...e,url:n,action:r,provider:d,cookies:ry(b(e.useSecureCookies??"https:"===n.protocol),e.cookies),providers:u,session:{strategy:e.adapter?"database":"jwt",maxAge:f,updateAge:86400,generateSessionToken:()=>crypto.randomUUID(),...e.session},jwt:{secret:e.secret,maxAge:e.session?.maxAge??f,encode:t4,decode:t6,...e.jwt},events:r$(e.events??{},c),adapter:rC(e.adapter,c),callbacks:{...rT,...e.callbacks},logger:c,callbackUrl:n.origin,isOnRedirectProxy:h,experimental:{...e.experimental}},m=[];if(o)p.csrfTokenVerified=!0;else{let{csrfToken:e,cookie:t,csrfTokenVerified:r}=await rp({options:p,cookieValue:i?.[p.cookies.csrfToken.name],isPost:l,bodyValue:s});p.csrfToken=e,p.csrfTokenVerified=r,t&&m.push({name:p.cookies.csrfToken.name,value:t,options:p.cookies.csrfToken.options})}let{callbackUrl:g,callbackUrlCookie:y}=await t9({options:p,cookieValue:i?.[p.cookies.callbackUrl.name],paramValue:a});return p.callbackUrl=g,y&&m.push({name:p.cookies.callbackUrl.name,value:y,options:p.cookies.callbackUrl.options}),{options:p,cookies:m}}function r$(e,t){return Object.keys(e).reduce((r,n)=>(r[n]=async(...r)=>{try{let t=e[n];return await t(...r)}catch(e){t.error(new _.xQ(e))}},r),{})}function rC(e,t){if(e)return Object.keys(e).reduce((r,n)=>(r[n]=async(...r)=>{try{t.debug(`adapter_${n}`,{args:r});let i=e[n];return await i(...r)}catch(r){let e=new _.dq(r);throw t.error(e),e}},r),{})}var rI,rU,rN,rj,rD,rq,rL,rF,rM,rH,rV,rW,rJ,rK={},rB=[],rG=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function rz(e,t){for(var r in t)e[r]=t[r];return e}function rQ(e){var t=e.parentNode;t&&t.removeChild(e)}function rZ(e,t,r){var n,i,a,s={};for(a in t)"key"==a?n=t[a]:"ref"==a?i=t[a]:s[a]=t[a];if(arguments.length>2&&(s.children=arguments.length>3?rL.call(arguments,2):r),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===s[a]&&(s[a]=e.defaultProps[a]);return rY(e,s,n,i,null)}function rY(e,t,r,n,i){var a={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==i?++rM:i};return null==i&&null!=rF.vnode&&rF.vnode(a),a}function rX(e){return e.children}function r0(e,t){this.props=e,this.context=t}function r1(e,t){if(null==t)return e.__?r1(e.__,e.__.__k.indexOf(e)+1):null;for(var r;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e)return r.__e;return"function"==typeof e.type?r1(e):null}function r2(e){var t,r;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e){e.__e=e.__c.base=r.__e;break}return r2(e)}}function r3(e){(!e.__d&&(e.__d=!0)&&rV.push(e)&&!r5.__r++||rW!==rF.debounceRendering)&&((rW=rF.debounceRendering)||setTimeout)(r5)}function r5(){for(var e;r5.__r=rV.length;)e=rV.sort(function(e,t){return e.__v.__b-t.__v.__b}),rV=[],e.some(function(e){var t,r,n,i,a,s;e.__d&&(a=(i=(t=e).__v).__e,(s=t.__P)&&(r=[],(n=rz({},i)).__v=i.__v+1,nn(s,i,n,t.__n,void 0!==s.ownerSVGElement,null!=i.__h?[a]:null,r,null==a?r1(i):a,i.__h),ni(r,i),i.__e!=a&&r2(i)))})}function r4(e,t,r,n,i,a,s,o,l,c){var u,d,f,h,p,m,g,y=n&&n.__k||rB,w=y.length;for(r.__k=[],u=0;u<t.length;u++)if(null!=(h=r.__k[u]=null==(h=t[u])||"boolean"==typeof h?null:"string"==typeof h||"number"==typeof h||"bigint"==typeof h?rY(null,h,null,null,h):Array.isArray(h)?rY(rX,{children:h},null,null,null):h.__b>0?rY(h.type,h.props,h.key,h.ref?h.ref:null,h.__v):h)){if(h.__=r,h.__b=r.__b+1,null===(f=y[u])||f&&h.key==f.key&&h.type===f.type)y[u]=void 0;else for(d=0;d<w;d++){if((f=y[d])&&h.key==f.key&&h.type===f.type){y[d]=void 0;break}f=null}nn(e,h,f=f||rK,i,a,s,o,l,c),p=h.__e,(d=h.ref)&&f.ref!=d&&(g||(g=[]),f.ref&&g.push(f.ref,null,h),g.push(d,h.__c||p,h)),null!=p?(null==m&&(m=p),"function"==typeof h.type&&h.__k===f.__k?h.__d=l=r6(h,l,e):l=r8(e,h,f,y,p,l),"function"==typeof r.type&&(r.__d=l)):l&&f.__e==l&&l.parentNode!=e&&(l=r1(f))}for(r.__e=m,u=w;u--;)null!=y[u]&&no(y[u],y[u]);if(g)for(u=0;u<g.length;u++)ns(g[u],g[++u],g[++u])}function r6(e,t,r){for(var n,i=e.__k,a=0;i&&a<i.length;a++)(n=i[a])&&(n.__=e,t="function"==typeof n.type?r6(n,t,r):r8(r,n,n,i,n.__e,t));return t}function r8(e,t,r,n,i,a){var s,o,l;if(void 0!==t.__d)s=t.__d,t.__d=void 0;else if(null==r||i!=a||null==i.parentNode)t:if(null==a||a.parentNode!==e)e.appendChild(i),s=null;else{for(o=a,l=0;(o=o.nextSibling)&&l<n.length;l+=1)if(o==i)break t;e.insertBefore(i,a),s=a}return void 0!==s?s:i.nextSibling}function r9(e,t,r,n,i){var a;for(a in r)"children"===a||"key"===a||a in t||ne(e,a,null,r[a],n);for(a in t)i&&"function"!=typeof t[a]||"children"===a||"key"===a||"value"===a||"checked"===a||r[a]===t[a]||ne(e,a,t[a],r[a],n)}function r7(e,t,r){"-"===t[0]?e.setProperty(t,r):e[t]=null==r?"":"number"!=typeof r||rG.test(t)?r:r+"px"}function ne(e,t,r,n,i){var a;t:if("style"===t){if("string"==typeof r)e.style.cssText=r;else{if("string"==typeof n&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||r7(e.style,t,"");if(r)for(t in r)n&&r[t]===n[t]||r7(e.style,t,r[t])}}else if("o"===t[0]&&"n"===t[1])a=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase() in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=r,r?n||e.addEventListener(t,a?nr:nt,a):e.removeEventListener(t,a?nr:nt,a);else if("dangerouslySetInnerHTML"!==t){if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==r?"":r;break t}catch(e){}"function"==typeof r||(null==r||!1===r&&-1==t.indexOf("-")?e.removeAttribute(t):e.setAttribute(t,r))}}function nt(e){this.l[e.type+!1](rF.event?rF.event(e):e)}function nr(e){this.l[e.type+!0](rF.event?rF.event(e):e)}function nn(e,t,r,n,i,a,s,o,l){var c,u,d,f,h,p,m,g,y,w,b,v,_,x,k,E=t.type;if(void 0!==t.constructor)return null;null!=r.__h&&(l=r.__h,o=t.__e=r.__e,t.__h=null,a=[o]),(c=rF.__b)&&c(t);try{t:if("function"==typeof E){if(g=t.props,y=(c=E.contextType)&&n[c.__c],w=c?y?y.props.value:c.__:n,r.__c?m=(u=t.__c=r.__c).__=u.__E:("prototype"in E&&E.prototype.render?t.__c=u=new E(g,w):(t.__c=u=new r0(g,w),u.constructor=E,u.render=nl),y&&y.sub(u),u.props=g,u.state||(u.state={}),u.context=w,u.__n=n,d=u.__d=!0,u.__h=[],u._sb=[]),null==u.__s&&(u.__s=u.state),null!=E.getDerivedStateFromProps&&(u.__s==u.state&&(u.__s=rz({},u.__s)),rz(u.__s,E.getDerivedStateFromProps(g,u.__s))),f=u.props,h=u.state,d)null==E.getDerivedStateFromProps&&null!=u.componentWillMount&&u.componentWillMount(),null!=u.componentDidMount&&u.__h.push(u.componentDidMount);else{if(null==E.getDerivedStateFromProps&&g!==f&&null!=u.componentWillReceiveProps&&u.componentWillReceiveProps(g,w),!u.__e&&null!=u.shouldComponentUpdate&&!1===u.shouldComponentUpdate(g,u.__s,w)||t.__v===r.__v){for(u.props=g,u.state=u.__s,t.__v!==r.__v&&(u.__d=!1),u.__v=t,t.__e=r.__e,t.__k=r.__k,t.__k.forEach(function(e){e&&(e.__=t)}),b=0;b<u._sb.length;b++)u.__h.push(u._sb[b]);u._sb=[],u.__h.length&&s.push(u);break t}null!=u.componentWillUpdate&&u.componentWillUpdate(g,u.__s,w),null!=u.componentDidUpdate&&u.__h.push(function(){u.componentDidUpdate(f,h,p)})}if(u.context=w,u.props=g,u.__v=t,u.__P=e,v=rF.__r,_=0,"prototype"in E&&E.prototype.render){for(u.state=u.__s,u.__d=!1,v&&v(t),c=u.render(u.props,u.state,u.context),x=0;x<u._sb.length;x++)u.__h.push(u._sb[x]);u._sb=[]}else do u.__d=!1,v&&v(t),c=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++_<25);u.state=u.__s,null!=u.getChildContext&&(n=rz(rz({},n),u.getChildContext())),d||null==u.getSnapshotBeforeUpdate||(p=u.getSnapshotBeforeUpdate(f,h)),k=null!=c&&c.type===rX&&null==c.key?c.props.children:c,r4(e,Array.isArray(k)?k:[k],t,r,n,i,a,s,o,l),u.base=t.__e,t.__h=null,u.__h.length&&s.push(u),m&&(u.__E=u.__=null),u.__e=!1}else null==a&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=na(r.__e,t,r,n,i,a,s,l);(c=rF.diffed)&&c(t)}catch(e){t.__v=null,(l||null!=a)&&(t.__e=o,t.__h=!!l,a[a.indexOf(o)]=null),rF.__e(e,t,r)}}function ni(e,t){rF.__c&&rF.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){rF.__e(e,t.__v)}})}function na(e,t,r,n,i,a,s,o){var l,c,u,d=r.props,f=t.props,h=t.type,p=0;if("svg"===h&&(i=!0),null!=a){for(;p<a.length;p++)if((l=a[p])&&"setAttribute"in l==!!h&&(h?l.localName===h:3===l.nodeType)){e=l,a[p]=null;break}}if(null==e){if(null===h)return document.createTextNode(f);e=i?document.createElementNS("http://www.w3.org/2000/svg",h):document.createElement(h,f.is&&f),a=null,o=!1}if(null===h)d===f||o&&e.data===f||(e.data=f);else{if(a=a&&rL.call(e.childNodes),c=(d=r.props||rK).dangerouslySetInnerHTML,u=f.dangerouslySetInnerHTML,!o){if(null!=a)for(d={},p=0;p<e.attributes.length;p++)d[e.attributes[p].name]=e.attributes[p].value;(u||c)&&(u&&(c&&u.__html==c.__html||u.__html===e.innerHTML)||(e.innerHTML=u&&u.__html||""))}if(r9(e,f,d,i,o),u)t.__k=[];else if(r4(e,Array.isArray(p=t.props.children)?p:[p],t,r,n,i&&"foreignObject"!==h,a,s,a?a[0]:r.__k&&r1(r,0),o),null!=a)for(p=a.length;p--;)null!=a[p]&&rQ(a[p]);o||("value"in f&&void 0!==(p=f.value)&&(p!==e.value||"progress"===h&&!p||"option"===h&&p!==d.value)&&ne(e,"value",p,d.value,!1),"checked"in f&&void 0!==(p=f.checked)&&p!==e.checked&&ne(e,"checked",p,d.checked,!1))}return e}function ns(e,t,r){try{"function"==typeof e?e(t):e.current=t}catch(e){rF.__e(e,r)}}function no(e,t,r){var n,i;if(rF.unmount&&rF.unmount(e),(n=e.ref)&&(n.current&&n.current!==e.__e||ns(n,null,t)),null!=(n=e.__c)){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(e){rF.__e(e,t)}n.base=n.__P=null,e.__c=void 0}if(n=e.__k)for(i=0;i<n.length;i++)n[i]&&no(n[i],t,r||"function"!=typeof e.type);r||null==e.__e||rQ(e.__e),e.__=e.__e=e.__d=void 0}function nl(e,t,r){return this.constructor(e,r)}function nc(e,t,r){var n,i,a;rF.__&&rF.__(e,t),i=(n="function"==typeof r)?null:r&&r.__k||t.__k,a=[],nn(t,e=(!n&&r||t).__k=rZ(rX,null,[e]),i||rK,rK,void 0!==t.ownerSVGElement,!n&&r?[r]:i?null:t.firstChild?rL.call(t.childNodes):null,a,!n&&r?r:i?i.__e:t.firstChild,n),ni(a,e)}function nu(e,t){nc(e,t,nu)}rL=rB.slice,rF={__e:function(e,t,r,n){for(var i,a,s;t=t.__;)if((i=t.__c)&&!i.__)try{if((a=i.constructor)&&null!=a.getDerivedStateFromError&&(i.setState(a.getDerivedStateFromError(e)),s=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,n||{}),s=i.__d),s)return i.__E=i}catch(t){e=t}throw e}},rM=0,rH=function(e){return null!=e&&void 0===e.constructor},r0.prototype.setState=function(e,t){var r;r=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=rz({},this.state),"function"==typeof e&&(e=e(rz({},r),this.props)),e&&rz(r,e),null!=e&&this.__v&&(t&&this._sb.push(t),r3(this))},r0.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),r3(this))},r0.prototype.render=rX,rV=[],r5.__r=0,rJ=0;var nd=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i,nf=/^(area|base|br|col|embed|hr|img|input|link|meta|param|source|track|wbr)$/,nh=/[\s\n\\/='"\0<>]/,np=/^xlink:?./,nm=/["&<]/;function ng(e){if(!1===nm.test(e+=""))return e;for(var t=0,r=0,n="",i="";r<e.length;r++){switch(e.charCodeAt(r)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 60:i="&lt;";break;default:continue}r!==t&&(n+=e.slice(t,r)),n+=i,t=r+1}return r!==t&&(n+=e.slice(t,r)),n}var ny=function(e,t){return String(e).replace(/(\n+)/g,"$1"+(t||"	"))},nw=function(e,t,r){return String(e).length>(t||40)||!r&&-1!==String(e).indexOf("\n")||-1!==String(e).indexOf("<")},nb={},nv=/([A-Z])/g;function n_(e){var t="";for(var r in e){var n=e[r];null!=n&&""!==n&&(t&&(t+=" "),t+="-"==r[0]?r:nb[r]||(nb[r]=r.replace(nv,"-$1").toLowerCase()),t="number"==typeof n&&!1===nd.test(r)?t+": "+n+"px;":t+": "+n+";")}return t||void 0}function nx(e,t){return Array.isArray(t)?t.reduce(nx,e):null!=t&&!1!==t&&e.push(t),e}function nk(){this.__d=!0}function nE(e,t){return{__v:e,context:t,props:e.props,setState:nk,forceUpdate:nk,__d:!0,__h:[]}}function nS(e,t){var r=e.contextType,n=r&&t[r.__c];return null!=r?n?n.props.value:r.__:t}var nA=[];function nP(e,t,r,n,i,a){if(null==e||"boolean"==typeof e)return"";if("object"!=typeof e)return ng(e);var s=r.pretty,o=s&&"string"==typeof s?s:"	";if(Array.isArray(e)){for(var l="",c=0;c<e.length;c++)s&&c>0&&(l+="\n"),l+=nP(e[c],t,r,n,i,a);return l}var u,d=e.type,f=e.props,h=!1;if("function"==typeof d){if(h=!0,!r.shallow||!n&&!1!==r.renderRootComponent){if(d===rX){var p=[];return nx(p,e.props.children),nP(p,t,r,!1!==r.shallowHighOrder,i,a)}var m,g=e.__c=nE(e,t);rF.__b&&rF.__b(e);var y=rF.__r;if(d.prototype&&"function"==typeof d.prototype.render){var w=nS(d,t);(g=e.__c=new d(f,w)).__v=e,g._dirty=g.__d=!0,g.props=f,null==g.state&&(g.state={}),null==g._nextState&&null==g.__s&&(g._nextState=g.__s=g.state),g.context=w,d.getDerivedStateFromProps?g.state=Object.assign({},g.state,d.getDerivedStateFromProps(g.props,g.state)):g.componentWillMount&&(g.componentWillMount(),g.state=g._nextState!==g.state?g._nextState:g.__s!==g.state?g.__s:g.state),y&&y(e),m=g.render(g.props,g.state,g.context)}else for(var b=nS(d,t),v=0;g.__d&&v++<25;)g.__d=!1,y&&y(e),m=d.call(e.__c,f,b);return g.getChildContext&&(t=Object.assign({},t,g.getChildContext())),rF.diffed&&rF.diffed(e),nP(m,t,r,!1!==r.shallowHighOrder,i,a)}d=(u=d).displayName||u!==Function&&u.name||function(e){var t=(Function.prototype.toString.call(e).match(/^\s*function\s+([^( ]+)/)||"")[1];if(!t){for(var r=-1,n=nA.length;n--;)if(nA[n]===e){r=n;break}r<0&&(r=nA.push(e)-1),t="UnnamedComponent"+r}return t}(u)}var _,x,k="<"+d;if(f){var E=Object.keys(f);r&&!0===r.sortAttributes&&E.sort();for(var S=0;S<E.length;S++){var A=E[S],P=f[A];if("children"!==A){if(!nh.test(A)&&(r&&r.allAttributes||"key"!==A&&"ref"!==A&&"__self"!==A&&"__source"!==A)){if("defaultValue"===A)A="value";else if("defaultChecked"===A)A="checked";else if("defaultSelected"===A)A="selected";else if("className"===A){if(void 0!==f.class)continue;A="class"}else i&&np.test(A)&&(A=A.toLowerCase().replace(/^xlink:?/,"xlink:"));if("htmlFor"===A){if(f.for)continue;A="for"}"style"===A&&P&&"object"==typeof P&&(P=n_(P)),"a"===A[0]&&"r"===A[1]&&"boolean"==typeof P&&(P=String(P));var R=r.attributeHook&&r.attributeHook(A,P,t,r,h);if(R||""===R)k+=R;else if("dangerouslySetInnerHTML"===A)x=P&&P.__html;else if("textarea"===d&&"value"===A)_=P;else if((P||0===P||""===P)&&"function"!=typeof P){if(!(!0!==P&&""!==P||(P=A,r&&r.xml))){k=k+" "+A;continue}if("value"===A){if("select"===d){a=P;continue}"option"===d&&a==P&&void 0===f.selected&&(k+=" selected")}k=k+" "+A+'="'+ng(P)+'"'}}}else _=P}}if(s){var T=k.replace(/\n\s*/," ");T===k||~T.indexOf("\n")?s&&~k.indexOf("\n")&&(k+="\n"):k=T}if(k+=">",nh.test(d))throw Error(d+" is not a valid HTML tag name in "+k);var O,$=nf.test(d)||r.voidElements&&r.voidElements.test(d),C=[];if(x)s&&nw(x)&&(x="\n"+o+ny(x,o)),k+=x;else if(null!=_&&nx(O=[],_).length){for(var I=s&&~k.indexOf("\n"),U=!1,N=0;N<O.length;N++){var j=O[N];if(null!=j&&!1!==j){var D=nP(j,t,r,!0,"svg"===d||"foreignObject"!==d&&i,a);if(s&&!I&&nw(D)&&(I=!0),D){if(s){var q=D.length>0&&"<"!=D[0];U&&q?C[C.length-1]+=D:C.push(D),U=q}else C.push(D)}}}if(s&&I)for(var L=C.length;L--;)C[L]="\n"+o+ny(C[L],o)}if(C.length||x)k+=C.join("");else if(r&&r.xml)return k.substring(0,k.length-1)+" />";return!$||O||x?(s&&~k.indexOf("\n")&&(k+="\n"),k=k+"</"+d+">"):k=k.replace(/>$/," />"),k}var nR={shallow:!0};n$.render=n$;var nT=function(e,t){return n$(e,t,nR)},nO=[];function n$(e,t,r){t=t||{};var n,i=rF.__s;return rF.__s=!0,n=r&&(r.pretty||r.voidElements||r.sortAttributes||r.shallow||r.allAttributes||r.xml||r.attributeHook)?nP(e,t,r):nj(e,t,!1,void 0),rF.__c&&rF.__c(e,nO),rF.__s=i,nO.length=0,n}function nC(e,t){return"className"===e?"class":"htmlFor"===e?"for":"defaultValue"===e?"value":"defaultChecked"===e?"checked":"defaultSelected"===e?"selected":t&&np.test(e)?e.toLowerCase().replace(/^xlink:?/,"xlink:"):e}function nI(e,t){return"style"===e&&null!=t&&"object"==typeof t?n_(t):"a"===e[0]&&"r"===e[1]&&"boolean"==typeof t?String(t):t}var nU=Array.isArray,nN=Object.assign;function nj(e,t,r,n){if(null==e||!0===e||!1===e||""===e)return"";if("object"!=typeof e)return ng(e);if(nU(e)){for(var i="",a=0;a<e.length;a++)i+=nj(e[a],t,r,n);return i}rF.__b&&rF.__b(e);var s=e.type,o=e.props;if("function"==typeof s){if(s===rX)return nj(e.props.children,t,r,n);l=s.prototype&&"function"==typeof s.prototype.render?function(e,t){var r=e.type,n=nS(r,t),i=new r(e.props,n);e.__c=i,i.__v=e,i.__d=!0,i.props=e.props,null==i.state&&(i.state={}),null==i.__s&&(i.__s=i.state),i.context=n,r.getDerivedStateFromProps?i.state=nN({},i.state,r.getDerivedStateFromProps(i.props,i.state)):i.componentWillMount&&(i.componentWillMount(),i.state=i.__s!==i.state?i.__s:i.state);var a=rF.__r;return a&&a(e),i.render(i.props,i.state,i.context)}(e,t):function(e,t){var r,n=nE(e,t),i=nS(e.type,t);e.__c=n;for(var a=rF.__r,s=0;n.__d&&s++<25;)n.__d=!1,a&&a(e),r=e.type.call(n,e.props,i);return r}(e,t);var l,c=e.__c;c.getChildContext&&(t=nN({},t,c.getChildContext()));var u=nj(l,t,r,n);return rF.diffed&&rF.diffed(e),u}var d,f,h="<";if(h+=s,o)for(var p in d=o.children,o){var m=o[p];if(!("key"===p||"ref"===p||"__self"===p||"__source"===p||"children"===p||"className"===p&&"class"in o||"htmlFor"===p&&"for"in o||nh.test(p))){if(m=nI(p=nC(p,r),m),"dangerouslySetInnerHTML"===p)f=m&&m.__html;else if("textarea"===s&&"value"===p)d=m;else if((m||0===m||""===m)&&"function"!=typeof m){if(!0===m||""===m){m=p,h=h+" "+p;continue}if("value"===p){if("select"===s){n=m;continue}"option"!==s||n!=m||"selected"in o||(h+=" selected")}h=h+" "+p+'="'+ng(m)+'"'}}}var g=h;if(h+=">",nh.test(s))throw Error(s+" is not a valid HTML tag name in "+h);var y="",w=!1;if(f)y+=f,w=!0;else if("string"==typeof d)y+=ng(d),w=!0;else if(nU(d))for(var b=0;b<d.length;b++){var v=d[b];if(null!=v&&!1!==v){var _=nj(v,t,"svg"===s||"foreignObject"!==s&&r,n);_&&(y+=_,w=!0)}}else if(null!=d&&!1!==d&&!0!==d){var x=nj(d,t,"svg"===s||"foreignObject"!==s&&r,n);x&&(y+=x,w=!0)}if(rF.diffed&&rF.diffed(e),w)h+=y;else if(nf.test(s))return g+" />";return h+"</"+s+">"}n$.shallowRender=nT;var nD=0;function nq(e,t,r,n,i){var a,s,o={};for(s in t)"ref"==s?a=t[s]:o[s]=t[s];var l={type:e,props:o,key:r,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--nD,__source:i,__self:n};if("function"==typeof e&&(a=e.defaultProps))for(s in a)void 0===o[s]&&(o[s]=a[s]);return rF.vnode&&rF.vnode(l),l}function nL(e){let{url:t,error:r="default",theme:n}=e,i=`${t}/signin`,a={default:{status:200,heading:"Error",message:nq("p",{children:nq("a",{className:"site",href:t?.origin,children:t?.host})})},Configuration:{status:500,heading:"Server error",message:nq("div",{children:[nq("p",{children:"There is a problem with the server configuration."}),nq("p",{children:"Check the server logs for more information."})]})},AccessDenied:{status:403,heading:"Access Denied",message:nq("div",{children:[nq("p",{children:"You do not have permission to sign in."}),nq("p",{children:nq("a",{className:"button",href:i,children:"Sign in"})})]})},Verification:{status:403,heading:"Unable to sign in",message:nq("div",{children:[nq("p",{children:"The sign in link is no longer valid."}),nq("p",{children:"It may have been used already or it may have expired."})]}),signin:nq("a",{className:"button",href:i,children:"Sign in"})}},{status:s,heading:o,message:l,signin:c}=a[r]??a.default;return{status:s,html:nq("div",{className:"error",children:[n?.brandColor&&nq("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${n?.brandColor}
        }
      `}}),nq("div",{className:"card",children:[n?.logo&&nq("img",{src:n?.logo,alt:"Logo",className:"logo"}),nq("h1",{children:o}),nq("div",{className:"message",children:l}),c]})]})}}async function nF(e,t){let r=window.SimpleWebAuthnBrowser;async function n(r){let n=new URL(`${e}/webauthn-options/${t}`);r&&n.searchParams.append("action",r),a().forEach(e=>{n.searchParams.append(e.name,e.value)});let i=await fetch(n);if(!i.ok){console.error("Failed to fetch options",i);return}return i.json()}function i(){let e=`#${t}-form`,r=document.querySelector(e);if(!r)throw Error(`Form '${e}' not found`);return r}function a(){return Array.from(i().querySelectorAll("input[data-form-field]"))}async function s(e,t){let r=i();if(e){let t=document.createElement("input");t.type="hidden",t.name="action",t.value=e,r.appendChild(t)}if(t){let e=document.createElement("input");e.type="hidden",e.name="data",e.value=JSON.stringify(t),r.appendChild(e)}return r.submit()}async function o(e,t){let n=await r.startAuthentication(e,t);return await s("authenticate",n)}async function l(e){a().forEach(e=>{if(e.required&&!e.value)throw Error(`Missing required field: ${e.name}`)});let t=await r.startRegistration(e);return await s("register",t)}async function c(){if(!r.browserSupportsWebAuthnAutofill())return;let e=await n("authenticate");if(!e){console.error("Failed to fetch option for autofill authentication");return}try{await o(e.options,!0)}catch(e){console.error(e)}}(async function(){let e=i();if(!r.browserSupportsWebAuthn()){e.style.display="none";return}e&&e.addEventListener("submit",async e=>{e.preventDefault();let t=await n(void 0);if(!t){console.error("Failed to fetch options for form submission");return}if("authenticate"===t.action)try{await o(t.options,!1)}catch(e){console.error(e)}else if("register"===t.action)try{await l(t.options)}catch(e){console.error(e)}})})(),c()}let nM={default:"Unable to sign in.",Signin:"Try signing in with a different account.",OAuthSignin:"Try signing in with a different account.",OAuthCallbackError:"Try signing in with a different account.",OAuthCreateAccount:"Try signing in with a different account.",EmailCreateAccount:"Try signing in with a different account.",Callback:"Try signing in with a different account.",OAuthAccountNotLinked:"To confirm your identity, sign in with the same account you used originally.",EmailSignin:"The e-mail could not be sent.",CredentialsSignin:"Sign in failed. Check the details you provided are correct.",SessionRequired:"Please sign in to access this page."};function nH(e){return nq(rX,{children:nq("script",{dangerouslySetInnerHTML:{__html:`
const currentURL = window.location.href;
const authURL = currentURL.substring(0, currentURL.lastIndexOf('/'));
(${nF})(authURL, "${e}");
`}})})}function nV(e){let{csrfToken:t,providers:r=[],callbackUrl:n,theme:i,email:a,error:s}=e;"undefined"!=typeof document&&i?.brandColor&&document.documentElement.style.setProperty("--brand-color",i.brandColor),"undefined"!=typeof document&&i?.buttonText&&document.documentElement.style.setProperty("--button-text-color",i.buttonText);let o=s&&(nM[s]??nM.default),l="https://authjs.dev/img/providers",c=r.find(e=>"webauthn"===e.type&&e.enableConditionalUI)?.id;return nq("div",{className:"signin",children:[i?.brandColor&&nq("style",{dangerouslySetInnerHTML:{__html:`:root {--brand-color: ${i.brandColor}}`}}),i?.buttonText&&nq("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${i.buttonText}
        }
      `}}),nq("div",{className:"card",children:[o&&nq("div",{className:"error",children:nq("p",{children:o})}),i?.logo&&nq("img",{src:i.logo,alt:"Logo",className:"logo"}),r.map((e,i)=>{let s,o,c;("oauth"===e.type||"oidc"===e.type)&&({bg:s="#fff",brandColor:o,logo:c=`${l}/${e.id}.svg`}=e.style??{});let u=o??s??"#fff";return nq("div",{className:"provider",children:["oauth"===e.type||"oidc"===e.type?nq("form",{action:e.signinUrl,method:"POST",children:[nq("input",{type:"hidden",name:"csrfToken",value:t}),n&&nq("input",{type:"hidden",name:"callbackUrl",value:n}),nq("button",{type:"submit",className:"button",style:{"--provider-bg":"#fff","--provider-bg-hover":`color-mix(in srgb, ${u} 30%, #fff)`,"--provider-dark-bg":"#161b22","--provider-dark-bg-hover":`color-mix(in srgb, ${u} 30%, #000)`},tabIndex:0,children:[nq("span",{style:{filter:"invert(1) grayscale(1) brightness(1.3) contrast(9000)","mix-blend-mode":"luminosity",opacity:.95},children:["Sign in with ",e.name]}),c&&nq("img",{loading:"lazy",height:24,src:c})]})]}):null,("email"===e.type||"credentials"===e.type||"webauthn"===e.type)&&i>0&&"email"!==r[i-1].type&&"credentials"!==r[i-1].type&&"webauthn"!==r[i-1].type&&nq("hr",{}),"email"===e.type&&nq("form",{action:e.signinUrl,method:"POST",children:[nq("input",{type:"hidden",name:"csrfToken",value:t}),nq("label",{className:"section-header",htmlFor:`input-email-for-${e.id}-provider`,children:"Email"}),nq("input",{id:`input-email-for-${e.id}-provider`,autoFocus:!0,type:"email",name:"email",value:a,placeholder:"email@example.com",required:!0}),nq("button",{id:"submitButton",type:"submit",tabIndex:0,children:["Sign in with ",e.name]})]}),"credentials"===e.type&&nq("form",{action:e.callbackUrl,method:"POST",children:[nq("input",{type:"hidden",name:"csrfToken",value:t}),Object.keys(e.credentials).map(t=>nq("div",{children:[nq("label",{className:"section-header",htmlFor:`input-${t}-for-${e.id}-provider`,children:e.credentials[t].label??t}),nq("input",{name:t,id:`input-${t}-for-${e.id}-provider`,type:e.credentials[t].type??"text",placeholder:e.credentials[t].placeholder??"",...e.credentials[t]})]},`input-group-${e.id}`)),nq("button",{id:"submitButton",type:"submit",tabIndex:0,children:["Sign in with ",e.name]})]}),"webauthn"===e.type&&nq("form",{action:e.callbackUrl,method:"POST",id:`${e.id}-form`,children:[nq("input",{type:"hidden",name:"csrfToken",value:t}),Object.keys(e.formFields).map(t=>nq("div",{children:[nq("label",{className:"section-header",htmlFor:`input-${t}-for-${e.id}-provider`,children:e.formFields[t].label??t}),nq("input",{name:t,"data-form-field":!0,id:`input-${t}-for-${e.id}-provider`,type:e.formFields[t].type??"text",placeholder:e.formFields[t].placeholder??"",...e.formFields[t]})]},`input-group-${e.id}`)),nq("button",{id:`submitButton-${e.id}`,type:"submit",tabIndex:0,children:["Sign in with ",e.name]})]}),("email"===e.type||"credentials"===e.type||"webauthn"===e.type)&&i+1<r.length&&nq("hr",{})]},e.id)})]}),c&&nH(c)]})}function nW(e){let{url:t,csrfToken:r,theme:n}=e;return nq("div",{className:"signout",children:[n?.brandColor&&nq("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${n.brandColor}
        }
      `}}),n?.buttonText&&nq("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${n.buttonText}
        }
      `}}),nq("div",{className:"card",children:[n?.logo&&nq("img",{src:n.logo,alt:"Logo",className:"logo"}),nq("h1",{children:"Signout"}),nq("p",{children:"Are you sure you want to sign out?"}),nq("form",{action:t?.toString(),method:"POST",children:[nq("input",{type:"hidden",name:"csrfToken",value:r}),nq("button",{id:"submitButton",type:"submit",children:"Sign out"})]})]})]})}let nJ=`:root {
  --border-width: 1px;
  --border-radius: 0.5rem;
  --color-error: #c94b4b;
  --color-info: #157efb;
  --color-info-hover: #0f6ddb;
  --color-info-text: #fff;
}

.__next-auth-theme-auto,
.__next-auth-theme-light {
  --color-background: #ececec;
  --color-background-hover: rgba(236, 236, 236, 0.8);
  --color-background-card: #fff;
  --color-text: #000;
  --color-primary: #444;
  --color-control-border: #bbb;
  --color-button-active-background: #f9f9f9;
  --color-button-active-border: #aaa;
  --color-separator: #ccc;
}

.__next-auth-theme-dark {
  --color-background: #161b22;
  --color-background-hover: rgba(22, 27, 34, 0.8);
  --color-background-card: #0d1117;
  --color-text: #fff;
  --color-primary: #ccc;
  --color-control-border: #555;
  --color-button-active-background: #060606;
  --color-button-active-border: #666;
  --color-separator: #444;
}

@media (prefers-color-scheme: dark) {
  .__next-auth-theme-auto {
    --color-background: #161b22;
    --color-background-hover: rgba(22, 27, 34, 0.8);
    --color-background-card: #0d1117;
    --color-text: #fff;
    --color-primary: #ccc;
    --color-control-border: #555;
    --color-button-active-background: #060606;
    --color-button-active-border: #666;
    --color-separator: #444;
  }

  button,
  a.button {
    color: var(--provider-dark-color, var(--color-primary)) !important;
    background-color: var(
      --provider-dark-bg,
      var(--color-background)
    ) !important;
  }

    :is(button,a.button):hover {
      background-color: var(
        --provider-dark-bg-hover,
        var(--color-background-hover)
      ) !important;
    }

    :is(button,a.button) span {
      color: var(--provider-dark-bg) !important;
    }
}

html {
  box-sizing: border-box;
}

*,
*:before,
*:after {
  box-sizing: inherit;
  margin: 0;
  padding: 0;
}

body {
  background-color: var(--color-background);
  margin: 0;
  padding: 0;
  font-family:
    ui-sans-serif,
    system-ui,
    -apple-system,
    BlinkMacSystemFont,
    "Segoe UI",
    Roboto,
    "Helvetica Neue",
    Arial,
    "Noto Sans",
    sans-serif,
    "Apple Color Emoji",
    "Segoe UI Emoji",
    "Segoe UI Symbol",
    "Noto Color Emoji";
}

h1 {
  margin-bottom: 1.5rem;
  padding: 0 1rem;
  font-weight: 400;
  color: var(--color-text);
}

p {
  margin-bottom: 1.5rem;
  padding: 0 1rem;
  color: var(--color-text);
}

form {
  margin: 0;
  padding: 0;
}

label {
  font-weight: 500;
  text-align: left;
  margin-bottom: 0.25rem;
  display: block;
  color: var(--color-text);
}

input[type] {
  box-sizing: border-box;
  display: block;
  width: 100%;
  padding: 0.5rem 1rem;
  border: var(--border-width) solid var(--color-control-border);
  background: var(--color-background-card);
  font-size: 1rem;
  border-radius: var(--border-radius);
  color: var(--color-text);
}

p {
  font-size: 1.1rem;
  line-height: 2rem;
}

a.button {
  text-decoration: none;
  line-height: 1rem;
}

a.button:link,
  a.button:visited {
    background-color: var(--color-background);
    color: var(--color-primary);
  }

button,
a.button {
  padding: 0.75rem 1rem;
  color: var(--provider-color, var(--color-primary));
  background-color: var(--provider-bg, var(--color-background));
  border: 1px solid #00000031;
  font-size: 0.9rem;
  height: 50px;
  border-radius: var(--border-radius);
  transition: background-color 250ms ease-in-out;
  font-weight: 300;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

:is(button,a.button):hover {
    background-color: var(--provider-bg-hover, var(--color-background-hover));
    cursor: pointer;
  }

:is(button,a.button):active {
    cursor: pointer;
  }

:is(button,a.button) span {
    color: #fff;
  }

#submitButton {
  color: var(--button-text-color, var(--color-info-text));
  background-color: var(--brand-color, var(--color-info));
  width: 100%;
}

#submitButton:hover {
    background-color: var(
      --button-hover-bg,
      var(--color-info-hover)
    ) !important;
  }

a.site {
  color: var(--color-primary);
  text-decoration: none;
  font-size: 1rem;
  line-height: 2rem;
}

a.site:hover {
    text-decoration: underline;
  }

.page {
  position: absolute;
  width: 100%;
  height: 100%;
  display: grid;
  place-items: center;
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

.page > div {
    text-align: center;
  }

.error a.button {
    padding-left: 2rem;
    padding-right: 2rem;
    margin-top: 0.5rem;
  }

.error .message {
    margin-bottom: 1.5rem;
  }

.signin input[type="text"] {
    margin-left: auto;
    margin-right: auto;
    display: block;
  }

.signin hr {
    display: block;
    border: 0;
    border-top: 1px solid var(--color-separator);
    margin: 2rem auto 1rem auto;
    overflow: visible;
  }

.signin hr::before {
      content: "or";
      background: var(--color-background-card);
      color: #888;
      padding: 0 0.4rem;
      position: relative;
      top: -0.7rem;
    }

.signin .error {
    background: #f5f5f5;
    font-weight: 500;
    border-radius: 0.3rem;
    background: var(--color-error);
  }

.signin .error p {
      text-align: left;
      padding: 0.5rem 1rem;
      font-size: 0.9rem;
      line-height: 1.2rem;
      color: var(--color-info-text);
    }

.signin > div,
  .signin form {
    display: block;
  }

.signin > div input[type], .signin form input[type] {
      margin-bottom: 0.5rem;
    }

.signin > div button, .signin form button {
      width: 100%;
    }

.signin .provider + .provider {
    margin-top: 1rem;
  }

.logo {
  display: inline-block;
  max-width: 150px;
  margin: 1.25rem 0;
  max-height: 70px;
}

.card {
  background-color: var(--color-background-card);
  border-radius: 1rem;
  padding: 1.25rem 2rem;
}

.card .header {
    color: var(--color-primary);
  }

.card input[type]::-moz-placeholder {
    color: color-mix(
      in srgb,
      var(--color-text) 20%,
      var(--color-button-active-background)
    );
  }

.card input[type]::placeholder {
    color: color-mix(
      in srgb,
      var(--color-text) 20%,
      var(--color-button-active-background)
    );
  }

.card input[type] {
    background: color-mix(in srgb, var(--color-background-card) 95%, black);
  }

.section-header {
  color: var(--color-text);
}

@media screen and (min-width: 450px) {
  .card {
    margin: 2rem 0;
    width: 368px;
  }
}

@media screen and (max-width: 450px) {
  .card {
    margin: 1rem 0;
    width: 343px;
  }
}
`;function nK(e){let{url:t,theme:r}=e;return nq("div",{className:"verify-request",children:[r.brandColor&&nq("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${r.brandColor}
        }
      `}}),nq("div",{className:"card",children:[r.logo&&nq("img",{src:r.logo,alt:"Logo",className:"logo"}),nq("h1",{children:"Check your email"}),nq("p",{children:"A sign in link has been sent to your email address."}),nq("p",{children:nq("a",{className:"site",href:t.origin,children:t.host})})]})]})}function nB({html:e,title:t,status:r,cookies:n,theme:i,headTags:a}){return{cookies:n,status:r,headers:{"Content-Type":"text/html"},body:`<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><style>${nJ}</style><title>${t}</title>${a??""}</head><body class="__next-auth-theme-${i?.colorScheme??"auto"}"><div class="page">${n$(e)}</div></body></html>`}}function nG(e){let{url:t,theme:r,query:n,cookies:i,pages:a,providers:s}=e;return{csrf:(e,t,r)=>e?(t.logger.warn("csrf-disabled"),r.push({name:t.cookies.csrfToken.name,value:"",options:{...t.cookies.csrfToken.options,maxAge:0}}),{status:404,cookies:r}):{headers:{"Content-Type":"application/json"},body:{csrfToken:t.csrfToken},cookies:r},providers:e=>({headers:{"Content-Type":"application/json"},body:e.reduce((e,{id:t,name:r,type:n,signinUrl:i,callbackUrl:a})=>(e[t]={id:t,name:r,type:n,signinUrl:i,callbackUrl:a},e),{})}),signin(t,o){if(t)throw new _.D7("Unsupported action");if(a?.signIn){let t=`${a.signIn}${a.signIn.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:e.callbackUrl??"/"})}`;return o&&(t=`${t}&${new URLSearchParams({error:o})}`),{redirect:t,cookies:i}}let l=s?.find(e=>"webauthn"===e.type&&e.enableConditionalUI&&!!e.simpleWebAuthnBrowserVersion),c="";if(l){let{simpleWebAuthnBrowserVersion:e}=l;c=`<script src="https://unpkg.com/@simplewebauthn/browser@${e}/dist/bundle/index.umd.min.js" crossorigin="anonymous"></script>`}return nB({cookies:i,theme:r,html:nV({csrfToken:e.csrfToken,providers:e.providers?.filter(e=>["email","oauth","oidc"].includes(e.type)||"credentials"===e.type&&e.credentials||"webauthn"===e.type&&e.formFields||!1),callbackUrl:e.callbackUrl,theme:e.theme,error:o,...n}),title:"Sign In",headTags:c})},signout:()=>a?.signOut?{redirect:a.signOut,cookies:i}:nB({cookies:i,theme:r,html:nW({csrfToken:e.csrfToken,url:t,theme:r}),title:"Sign Out"}),verifyRequest:e=>a?.verifyRequest?{redirect:a.verifyRequest,cookies:i}:nB({cookies:i,theme:r,html:nK({url:t,theme:r,...e}),title:"Verify Request"}),error:e=>a?.error?{redirect:`${a.error}${a.error.includes("?")?"&":"?"}error=${e}`,cookies:i}:nB({cookies:i,theme:r,...nL({url:t,theme:r,error:e}),title:"Error"})}}function nz(e,t=Date.now()){return new Date(t+1e3*e)}async function nQ(e,t,r,n){if(!r?.providerAccountId||!r.type)throw Error("Missing or invalid provider account");if(!["email","oauth","oidc","webauthn"].includes(r.type))throw Error("Provider not supported");let{adapter:i,jwt:a,events:s,session:{strategy:o,generateSessionToken:l}}=n;if(!i)return{user:t,account:r};let c=t,u=r,{createUser:d,updateUser:f,getUser:h,getUserByAccount:p,getUserByEmail:m,linkAccount:g,createSession:y,getSessionAndUser:w,deleteSession:b}=i,v=null,x=null,k=!1,E="jwt"===o;if(e){if(E)try{let t=n.cookies.sessionToken.name;(v=await a.decode({...a,token:e,salt:t}))&&"sub"in v&&v.sub&&(x=await h(v.sub))}catch{}else{let t=await w(e);t&&(v=t.session,x=t.user)}}if("email"===u.type){let t=await m(c.email);return t?(x?.id!==t.id&&!E&&e&&await b(e),x=await f({id:t.id,emailVerified:new Date}),await s.updateUser?.({user:x})):(x=await d({...c,emailVerified:new Date}),await s.createUser?.({user:x}),k=!0),{session:v=E?{}:await y({sessionToken:l(),userId:x.id,expires:nz(n.session.maxAge)}),user:x,isNewUser:k}}if("webauthn"===u.type){let e=await p({providerAccountId:u.providerAccountId,provider:u.provider});if(e){if(x){if(e.id===x.id){let e={...u,userId:x.id};return{session:v,user:x,isNewUser:k,account:e}}throw new _.FW("The account is already associated with another user",{provider:u.provider})}v=E?{}:await y({sessionToken:l(),userId:e.id,expires:nz(n.session.maxAge)});let t={...u,userId:e.id};return{session:v,user:e,isNewUser:k,account:t}}{if(x){await g({...u,userId:x.id}),await s.linkAccount?.({user:x,account:u,profile:c});let e={...u,userId:x.id};return{session:v,user:x,isNewUser:k,account:e}}if(c.email?await m(c.email):null)throw new _.FW("Another account already exists with the same e-mail address",{provider:u.provider});x=await d({...c}),await s.createUser?.({user:x}),await g({...u,userId:x.id}),await s.linkAccount?.({user:x,account:u,profile:c}),v=E?{}:await y({sessionToken:l(),userId:x.id,expires:nz(n.session.maxAge)});let e={...u,userId:x.id};return{session:v,user:x,isNewUser:!0,account:e}}}let S=await p({providerAccountId:u.providerAccountId,provider:u.provider});if(S){if(x){if(S.id===x.id)return{session:v,user:x,isNewUser:k};throw new _.Xw("The account is already associated with another user",{provider:u.provider})}return{session:v=E?{}:await y({sessionToken:l(),userId:S.id,expires:nz(n.session.maxAge)}),user:S,isNewUser:k}}{let{provider:e}=n,{type:t,provider:r,providerAccountId:i,userId:a,...o}=u,f={providerAccountId:i,provider:r,type:t,userId:a};if(u=Object.assign(e.account(o)??{},f),x)return await g({...u,userId:x.id}),await s.linkAccount?.({user:x,account:u,profile:c}),{session:v,user:x,isNewUser:k};let h=c.email?await m(c.email):null;if(h){let e=n.provider;if(e?.allowDangerousEmailAccountLinking)x=h,k=!1;else throw new _.Xw("Another account already exists with the same e-mail address",{provider:u.provider})}else x=await d({...c,emailVerified:null}),k=!0;return await s.createUser?.({user:x}),await g({...u,userId:x.id}),await s.linkAccount?.({user:x,account:u,profile:c}),{session:v=E?{}:await y({sessionToken:l(),userId:x.id,expires:nz(n.session.maxAge)}),user:x,isNewUser:k}}}if("undefined"==typeof navigator||!navigator.userAgent?.startsWith?.("Mozilla/5.0 ")){let e="oauth4webapi",t="v3.3.1";a=`${e}/${t}`}function nZ(e,t){if(null==e)return!1;try{return e instanceof t||Object.getPrototypeOf(e)[Symbol.toStringTag]===t.prototype[Symbol.toStringTag]}catch{return!1}}let nY="ERR_INVALID_ARG_VALUE",nX="ERR_INVALID_ARG_TYPE";function n0(e,t,r){let n=TypeError(e,{cause:r});return Object.assign(n,{code:t}),n}let n1=Symbol(),n2=Symbol(),n3=Symbol(),n5=Symbol(),n4=Symbol(),n6=Symbol(),n8=Symbol(),n9=new TextEncoder,n7=new TextDecoder;function ie(e){return"string"==typeof e?n9.encode(e):n7.decode(e)}let it=32768;function ir(e){e instanceof ArrayBuffer&&(e=new Uint8Array(e));let t=[];for(let r=0;r<e.byteLength;r+=it)t.push(String.fromCharCode.apply(null,e.subarray(r,r+it)));return btoa(t.join("")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ii(e){try{let t=atob(e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"")),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r}catch(e){throw n0("The input to be decoded is not correctly encoded.",nY,e)}}function ia(e){return"string"==typeof e?ii(e):ir(e)}class is extends Error{code;constructor(e,t){super(e,t),this.name=this.constructor.name,this.code=aR,Error.captureStackTrace?.(this,this.constructor)}}class io extends Error{code;constructor(e,t){super(e,t),this.name=this.constructor.name,t?.code&&(this.code=t?.code),Error.captureStackTrace?.(this,this.constructor)}}function il(e,t,r){return new io(e,{code:t,cause:r})}function ic(e,t){if(!(e instanceof CryptoKey))throw n0(`${t} must be a CryptoKey`,nX)}function iu(e,t){if(ic(e,t),"private"!==e.type)throw n0(`${t} must be a private CryptoKey`,nY)}function id(e){return e.toLowerCase().replace(/^application\//,"")}function ih(e){return!(null===e||"object"!=typeof e||Array.isArray(e))}function ip(e){nZ(e,Headers)&&(e=Object.fromEntries(e.entries()));let t=new Headers(e);if(a&&!t.has("user-agent")&&t.set("user-agent",a),t.has("authorization"))throw n0('"options.headers" must not include the "authorization" header name',nY);if(t.has("dpop"))throw n0('"options.headers" must not include the "dpop" header name',nY);return t}function im(e){if("function"==typeof e&&(e=e()),!(e instanceof AbortSignal))throw n0('"options.signal" must return or be an instance of AbortSignal',nX);return e}async function ig(e,t){if(!(e instanceof URL))throw n0('"issuerIdentifier" must be an instance of URL',nX);iB(e,t?.[n1]!==!0);let r=new URL(e.href);switch(t?.algorithm){case void 0:case"oidc":r.pathname=`${r.pathname}/.well-known/openid-configuration`.replace("//","/");break;case"oauth2":"/"===r.pathname?r.pathname=".well-known/oauth-authorization-server":r.pathname=`.well-known/oauth-authorization-server/${r.pathname}`.replace("//","/");break;default:throw n0('"options.algorithm" must be "oidc" (default), or "oauth2"',nY)}let n=ip(t?.headers);return n.set("accept","application/json"),(t?.[n5]||fetch)(r.href,{body:void 0,headers:Object.fromEntries(n.entries()),method:"GET",redirect:"manual",signal:t?.signal?im(t.signal):void 0})}function iy(e,t,r,n,i){try{if("number"!=typeof e||!Number.isFinite(e))throw n0(`${r} must be a number`,nX,i);if(e>0)return;if(t&&0!==e)throw n0(`${r} must be a non-negative number`,nY,i);throw n0(`${r} must be a positive number`,nY,i)}catch(e){if(n)throw il(e.message,n,i);throw e}}function iw(e,t,r,n){try{if("string"!=typeof e)throw n0(`${t} must be a string`,nX,n);if(0===e.length)throw n0(`${t} must not be empty`,nY,n)}catch(e){if(r)throw il(e.message,r,n);throw e}}async function ib(e,t){let r;if(!(e instanceof URL)&&e!==a9)throw n0('"expectedIssuer" must be an instance of URL',nX);if(!nZ(t,Response))throw n0('"response" must be an instance of Response',nX);if(200!==t.status)throw il('"response" is not a conform Authorization Server Metadata response (unexpected HTTP status code)',aU,t);aV(t);try{r=await t.json()}catch(e){throw iv(t),il('failed to parse "response" body as JSON',a$,e)}if(!ih(r))throw il('"response" body must be a top level object',aC,{body:r});if(iw(r.issuer,'"response" body "issuer" property',aC,{body:r}),new URL(r.issuer).href!==e.href&&e!==a9)throw il('"response" body "issuer" property does not match the expected value',aL,{expected:e.href,body:r,attribute:"issuer"});return r}function iv(e){ik(e,"application/json")}function i_(e,...t){let r='"response" content-type must be ';if(t.length>2){let e=t.pop();r+=`${t.join(", ")}, or ${e}`}else 2===t.length?r+=`${t[0]} or ${t[1]}`:r+=t[0];return il(r,aI,e)}function ix(e,...t){if(!t.includes(an(e)))throw i_(e,...t)}function ik(e,t){if(an(e)!==t)throw i_(e,t)}function iE(){return ia(crypto.getRandomValues(new Uint8Array(32)))}function iS(){return iE()}function iA(){return iE()}function iP(){return iE()}async function iR(e){return iw(e,"codeVerifier"),ia(await crypto.subtle.digest("SHA-256",ie(e)))}function iT(e){return e instanceof CryptoKey?{key:e}:e?.key instanceof CryptoKey?(void 0!==e.kid&&iw(e.kid,'"kid"'),{key:e.key,kid:e.kid}):{}}function iO(e){switch(e.algorithm.hash.name){case"SHA-256":return"PS256";case"SHA-384":return"PS384";case"SHA-512":return"PS512";default:throw new is("unsupported RsaHashedKeyAlgorithm hash name",{cause:e})}}function i$(e){switch(e.algorithm.hash.name){case"SHA-256":return"RS256";case"SHA-384":return"RS384";case"SHA-512":return"RS512";default:throw new is("unsupported RsaHashedKeyAlgorithm hash name",{cause:e})}}function iC(e){switch(e.algorithm.namedCurve){case"P-256":return"ES256";case"P-384":return"ES384";case"P-521":return"ES512";default:throw new is("unsupported EcKeyAlgorithm namedCurve",{cause:e})}}function iI(e){switch(e.algorithm.name){case"RSA-PSS":return iO(e);case"RSASSA-PKCS1-v1_5":return i$(e);case"ECDSA":return iC(e);case"Ed25519":case"EdDSA":return"Ed25519";default:throw new is("unsupported CryptoKey algorithm name",{cause:e})}}function iU(e){let t=e?.[n2];return"number"==typeof t&&Number.isFinite(t)?t:0}function iN(e){let t=e?.[n3];return"number"==typeof t&&Number.isFinite(t)&&-1!==Math.sign(t)?t:30}function ij(){return Math.floor(Date.now()/1e3)}function iD(e){if("object"!=typeof e||null===e)throw n0('"as" must be an object',nX);iw(e.issuer,'"as.issuer"')}function iq(e){if("object"!=typeof e||null===e)throw n0('"client" must be an object',nX);iw(e.client_id,'"client.client_id"')}function iL(e){return iw(e,'"clientSecret"'),(t,r,n,i)=>{n.set("client_id",r.client_id),n.set("client_secret",e)}}function iF(e,t){let r=ij()+iU(t);return{jti:iE(),aud:e.issuer,exp:r+60,iat:r,nbf:r,iss:t.client_id,sub:t.client_id}}function iM(e,t){let{key:r,kid:n}=iT(e);return iu(r,'"clientPrivateKey.key"'),async(e,i,a,s)=>{let o={alg:iI(r),kid:n},l=iF(e,i);t?.[n4]?.(o,l),a.set("client_id",i.client_id),a.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),a.set("client_assertion",await iW(o,l,r))}}function iH(e,t){let r;iw(e,'"clientSecret"');let n=t?.[n4];return async(t,i,a,s)=>{r||=await crypto.subtle.importKey("raw",ie(e),{hash:"SHA-256",name:"HMAC"},!1,["sign"]);let o={alg:"HS256"},l=iF(t,i);n?.(o,l);let c=`${ia(ie(JSON.stringify(o)))}.${ia(ie(JSON.stringify(l)))}`,u=await crypto.subtle.sign(r.algorithm,r,ie(c));a.set("client_id",i.client_id),a.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),a.set("client_assertion",`${c}.${ia(new Uint8Array(u))}`)}}function iV(){return(e,t,r,n)=>{r.set("client_id",t.client_id)}}async function iW(e,t,r){if(!r.usages.includes("sign"))throw n0('CryptoKey instances used for signing assertions must include "sign" in their "usages"',nY);let n=`${ia(ie(JSON.stringify(e)))}.${ia(ie(JSON.stringify(t)))}`,i=ia(await crypto.subtle.sign(aQ(r),r,ie(n)));return`${n}.${i}`}async function iJ(e){let{kty:t,e:r,n,x:i,y:a,crv:o}=await crypto.subtle.exportKey("jwk",e),l={kty:t,e:r,n,x:i,y:a,crv:o};return s.set(e,l),l}let iK=URL.parse?(e,t)=>URL.parse(e,t):(e,t)=>{try{return new URL(e,t)}catch{return null}};function iB(e,t){if(t&&"https:"!==e.protocol)throw il("only requests to HTTPS are allowed",aN,e);if("https:"!==e.protocol&&"http:"!==e.protocol)throw il("only HTTP and HTTPS requests are allowed",aj,e)}function iG(e,t,r,n){let i;if("string"!=typeof e||!(i=iK(e)))throw il(`authorization server metadata does not contain a valid ${r?`"as.mtls_endpoint_aliases.${t}"`:`"as.${t}"`}`,void 0===e?aM:aH,{attribute:r?`mtls_endpoint_aliases.${t}`:t});return iB(i,n),i}function iz(e,t,r,n){return r&&e.mtls_endpoint_aliases&&t in e.mtls_endpoint_aliases?iG(e.mtls_endpoint_aliases[t],t,r,n):iG(e[t],t,r,n)}class iQ extends Error{cause;code;error;status;error_description;response;constructor(e,t){super(e,t),this.name=this.constructor.name,this.code=aP,this.cause=t.cause,this.error=t.cause.error,this.status=t.response.status,this.error_description=t.cause.error_description,Object.defineProperty(this,"response",{enumerable:!1,value:t.response}),Error.captureStackTrace?.(this,this.constructor)}}class iZ extends Error{cause;code;error;error_description;constructor(e,t){super(e,t),this.name=this.constructor.name,this.code=aT,this.cause=t.cause,this.error=t.cause.get("error"),this.error_description=t.cause.get("error_description")??void 0,Error.captureStackTrace?.(this,this.constructor)}}class iY extends Error{cause;code;response;status;constructor(e,t){super(e,t),this.name=this.constructor.name,this.code=aA,this.cause=t.cause,this.status=t.response.status,this.response=t.response,Object.defineProperty(this,"response",{enumerable:!1}),Error.captureStackTrace?.(this,this.constructor)}}function iX(e){return e.length>=2&&'"'===e[0]&&'"'===e[e.length-1]?e.slice(1,-1):e}let i0=/((?:,|, )?[0-9a-zA-Z!#$%&'*+-.^_`|~]+=)/,i1=/(?:^|, ?)([0-9a-zA-Z!#$%&'*+\-.^_`|~]+)(?=$|[ ,])/g;function i2(e,t){let r=t.split(i0).slice(1);if(!r.length)return{scheme:e.toLowerCase(),parameters:{}};r[r.length-1]=r[r.length-1].replace(/,$/,"");let n={};for(let e=1;e<r.length;e+=2){let t=e;if('"'===r[t][0])for(;'"'!==r[t].slice(-1)&&++e<r.length;)r[t]+=r[e];n[r[t-1].replace(/^(?:, ?)|=$/g,"").toLowerCase()]=iX(r[t])}return{scheme:e.toLowerCase(),parameters:n}}function i3(e){if(!nZ(e,Response))throw n0('"response" must be an instance of Response',nX);let t=e.headers.get("www-authenticate");if(null===t)return;let r=[];for(let{1:e,index:n}of t.matchAll(i1))r.push([e,n]);if(r.length)return r.map(([e,r],n,i)=>{let a;let s=i[n+1];return i2(e,a=s?t.slice(r,s[1]):t.slice(r))})}async function i5(e){if(e.status>399&&e.status<500){aV(e),iv(e);try{let t=await e.clone().json();if(ih(t)&&"string"==typeof t.error&&t.error.length)return t}catch{}}}async function i4(e,t,r){if(e.status!==t){let t;if(t=await i5(e))throw await e.body?.cancel(),new iQ("server responded with an error in the response body",{cause:t,response:e});throw il(`"response" is not a conform ${r} response (unexpected HTTP status code)`,aU,e)}}function i6(e){if(!ag.has(e))throw n0('"options.DPoP" is not a valid DPoPHandle',nY)}async function i8(e,t,r,n,i,a){if(iw(e,'"accessToken"'),!(r instanceof URL))throw n0('"url" must be an instance of URL',nX);iB(r,a?.[n1]!==!0),n=ip(n),a?.DPoP?(i6(a.DPoP),await a.DPoP.addProof(r,n,t.toUpperCase(),e),n.set("authorization",`DPoP ${e}`)):n.set("authorization",`Bearer ${e}`);let s=await (a?.[n5]||fetch)(r.href,{body:i,headers:Object.fromEntries(n.entries()),method:t,redirect:"manual",signal:a?.signal?im(a.signal):void 0});return a?.DPoP?.cacheNonce(s),s}async function i9(e,t,r,n){iD(e),iq(t);let i=iz(e,"userinfo_endpoint",t.use_mtls_endpoint_aliases,n?.[n1]!==!0),a=ip(n?.headers);return t.userinfo_signed_response_alg?a.set("accept","application/jwt"):(a.set("accept","application/json"),a.append("accept","application/jwt")),i8(r,"GET",i,a,null,{...n,[n2]:iU(t)})}function i7(e,t,r,n){(o||=new WeakMap).set(e,{jwks:t,uat:r,get age(){return ij()-this.uat}}),n&&Object.assign(n,{jwks:structuredClone(t),uat:r})}function ae(e){return!!(!("object"!=typeof e||null===e||!("uat"in e)||"number"!=typeof e.uat||ij()-e.uat>=300)&&"jwks"in e&&ih(e.jwks)&&Array.isArray(e.jwks.keys)&&Array.prototype.every.call(e.jwks.keys,ih))}function at(e,t){o?.delete(e),delete t?.jwks,delete t?.uat}let ar=Symbol();function an(e){return e.headers.get("content-type")?.split(";")[0]}async function ai(e,t,r,n,i){let a;if(iD(e),iq(t),!nZ(n,Response))throw n0('"response" must be an instance of Response',nX);if(ad(n),200!==n.status)throw il('"response" is not a conform UserInfo Endpoint response (unexpected HTTP status code)',aU,n);if(aV(n),"application/jwt"===an(n)){let{claims:r,jwt:s}=await aZ(await n.text(),a0.bind(void 0,t.userinfo_signed_response_alg,e.userinfo_signing_alg_values_supported,void 0),iU(t),iN(t),i?.[n6]).then(af.bind(void 0,t.client_id)).then(ap.bind(void 0,e));al.set(n,s),a=r}else{if(t.userinfo_signed_response_alg)throw il("JWT UserInfo Response expected",aO,n);try{a=await n.json()}catch(e){throw iv(n),il('failed to parse "response" body as JSON',a$,e)}}if(!ih(a))throw il('"response" body must be a top level object',aC,{body:a});if(iw(a.sub,'"response" body "sub" property',aC,{body:a}),r===ar);else if(iw(r,'"expectedSubject"'),a.sub!==r)throw il('unexpected "response" body "sub" property value',aL,{expected:r,body:a,attribute:"sub"});return a}async function aa(e,t,r,n,i,a,s){return await r(e,t,i,a),a.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),(s?.[n5]||fetch)(n.href,{body:i,headers:Object.fromEntries(a.entries()),method:"POST",redirect:"manual",signal:s?.signal?im(s.signal):void 0})}async function as(e,t,r,n,i,a){let s=iz(e,"token_endpoint",t.use_mtls_endpoint_aliases,a?.[n1]!==!0);i.set("grant_type",n);let o=ip(a?.headers);o.set("accept","application/json"),a?.DPoP!==void 0&&(i6(a.DPoP),await a.DPoP.addProof(s,o,"POST"));let l=await aa(e,t,r,s,i,o,a);return a?.DPoP?.cacheNonce(l),l}let ao=new WeakMap,al=new WeakMap;function ac(e){if(!e.id_token)return;let t=ao.get(e);if(!t)throw n0('"ref" was already garbage collected or did not resolve from the proper sources',nY);return t}async function au(e,t,r,n,i){let a;if(iD(e),iq(t),!nZ(r,Response))throw n0('"response" must be an instance of Response',nX);ad(r),await i4(r,200,"Token Endpoint"),aV(r);try{a=await r.json()}catch(e){throw iv(r),il('failed to parse "response" body as JSON',a$,e)}if(!ih(a))throw il('"response" body must be a top level object',aC,{body:a});if(iw(a.access_token,'"response" body "access_token" property',aC,{body:a}),iw(a.token_type,'"response" body "token_type" property',aC,{body:a}),a.token_type=a.token_type.toLowerCase(),"dpop"!==a.token_type&&"bearer"!==a.token_type)throw new is("unsupported `token_type` value",{cause:{body:a}});if(void 0!==a.expires_in){let e="number"!=typeof a.expires_in?parseFloat(a.expires_in):a.expires_in;iy(e,!1,'"response" body "expires_in" property',aC,{body:a}),a.expires_in=e}if(void 0!==a.refresh_token&&iw(a.refresh_token,'"response" body "refresh_token" property',aC,{body:a}),void 0!==a.scope&&"string"!=typeof a.scope)throw il('"response" body "scope" property must be a string',aC,{body:a});if(void 0!==a.id_token){iw(a.id_token,'"response" body "id_token" property',aC,{body:a});let s=["aud","exp","iat","iss","sub"];!0===t.require_auth_time&&s.push("auth_time"),void 0!==t.default_max_age&&(iy(t.default_max_age,!1,'"client.default_max_age"'),s.push("auth_time")),n?.length&&s.push(...n);let{claims:o,jwt:l}=await aZ(a.id_token,a0.bind(void 0,t.id_token_signed_response_alg,e.id_token_signing_alg_values_supported,"RS256"),iU(t),iN(t),i?.[n6]).then(av.bind(void 0,s)).then(am.bind(void 0,e)).then(ah.bind(void 0,t.client_id));if(Array.isArray(o.aud)&&1!==o.aud.length){if(void 0===o.azp)throw il('ID Token "aud" (audience) claim includes additional untrusted audiences',aq,{claims:o,claim:"aud"});if(o.azp!==t.client_id)throw il('unexpected ID Token "azp" (authorized party) claim value',aq,{expected:t.client_id,claims:o,claim:"azp"})}void 0!==o.auth_time&&iy(o.auth_time,!1,'ID Token "auth_time" (authentication time)',aC,{claims:o}),al.set(r,l),ao.set(a,o)}return a}function ad(e){let t;if(t=i3(e))throw new iY("server responded with a challenge in the WWW-Authenticate HTTP Header",{cause:t,response:e})}function af(e,t){return void 0!==t.claims.aud?ah(e,t):t}function ah(e,t){if(Array.isArray(t.claims.aud)){if(!t.claims.aud.includes(e))throw il('unexpected JWT "aud" (audience) claim value',aq,{expected:e,claims:t.claims,claim:"aud"})}else if(t.claims.aud!==e)throw il('unexpected JWT "aud" (audience) claim value',aq,{expected:e,claims:t.claims,claim:"aud"});return t}function ap(e,t){return void 0!==t.claims.iss?am(e,t):t}function am(e,t){let r=e[a7]?.(t)??e.issuer;if(t.claims.iss!==r)throw il('unexpected JWT "iss" (issuer) claim value',aq,{expected:r,claims:t.claims,claim:"iss"});return t}let ag=new WeakSet;function ay(e){return ag.add(e),e}async function aw(e,t,r,n,i,a,s){if(iD(e),iq(t),!ag.has(n))throw n0('"callbackParameters" must be an instance of URLSearchParams obtained from "validateAuthResponse()", or "validateJwtAuthResponse()',nY);iw(i,'"redirectUri"');let o=a1(n,"code");if(!o)throw il('no authorization code in "callbackParameters"',aC);let l=new URLSearchParams(s?.additionalParameters);return l.set("redirect_uri",i),l.set("code",o),a!==a8&&(iw(a,'"codeVerifier"'),l.set("code_verifier",a)),as(e,t,r,"authorization_code",l,s)}let ab={aud:"audience",c_hash:"code hash",client_id:"client id",exp:"expiration time",iat:"issued at",iss:"issuer",jti:"jwt id",nonce:"nonce",s_hash:"state hash",sub:"subject",ath:"access token hash",htm:"http method",htu:"http uri",cnf:"confirmation",auth_time:"authentication time"};function av(e,t){for(let r of e)if(void 0===t.claims[r])throw il(`JWT "${r}" (${ab[r]}) claim missing`,aC,{claims:t.claims});return t}let a_=Symbol(),ax=Symbol();async function ak(e,t,r,n){return"string"==typeof n?.expectedNonce||"number"==typeof n?.maxAge||n?.requireIdToken?aE(e,t,r,n.expectedNonce,n.maxAge,{[n6]:n[n6]}):aS(e,t,r,n)}async function aE(e,t,r,n,i,a){let s=[];switch(n){case void 0:n=a_;break;case a_:break;default:iw(n,'"expectedNonce" argument'),s.push("nonce")}switch(i??=t.default_max_age){case void 0:i=ax;break;case ax:break;default:iy(i,!1,'"maxAge" argument'),s.push("auth_time")}let o=await au(e,t,r,s,a);iw(o.id_token,'"response" body "id_token" property',aC,{body:o});let l=ac(o);if(i!==ax){let e=ij()+iU(t),r=iN(t);if(l.auth_time+i<e-r)throw il("too much time has elapsed since the last End-User authentication",aD,{claims:l,now:e,tolerance:r,claim:"auth_time"})}if(n===a_){if(void 0!==l.nonce)throw il('unexpected ID Token "nonce" claim value',aq,{expected:void 0,claims:l,claim:"nonce"})}else if(l.nonce!==n)throw il('unexpected ID Token "nonce" claim value',aq,{expected:n,claims:l,claim:"nonce"});return o}async function aS(e,t,r,n){let i=await au(e,t,r,void 0,n),a=ac(i);if(a){if(void 0!==t.default_max_age){iy(t.default_max_age,!1,'"client.default_max_age"');let e=ij()+iU(t),r=iN(t);if(a.auth_time+t.default_max_age<e-r)throw il("too much time has elapsed since the last End-User authentication",aD,{claims:a,now:e,tolerance:r,claim:"auth_time"})}if(void 0!==a.nonce)throw il('unexpected ID Token "nonce" claim value',aq,{expected:void 0,claims:a,claim:"nonce"})}return i}let aA="OAUTH_WWW_AUTHENTICATE_CHALLENGE",aP="OAUTH_RESPONSE_BODY_ERROR",aR="OAUTH_UNSUPPORTED_OPERATION",aT="OAUTH_AUTHORIZATION_RESPONSE_ERROR",aO="OAUTH_JWT_USERINFO_EXPECTED",a$="OAUTH_PARSE_ERROR",aC="OAUTH_INVALID_RESPONSE",aI="OAUTH_RESPONSE_IS_NOT_JSON",aU="OAUTH_RESPONSE_IS_NOT_CONFORM",aN="OAUTH_HTTP_REQUEST_FORBIDDEN",aj="OAUTH_REQUEST_PROTOCOL_FORBIDDEN",aD="OAUTH_JWT_TIMESTAMP_CHECK_FAILED",aq="OAUTH_JWT_CLAIM_COMPARISON_FAILED",aL="OAUTH_JSON_ATTRIBUTE_COMPARISON_FAILED",aF="OAUTH_KEY_SELECTION_FAILED",aM="OAUTH_MISSING_SERVER_METADATA",aH="OAUTH_INVALID_SERVER_METADATA";function aV(e){if(e.bodyUsed)throw n0('"response" body has been used already',nY)}async function aW(e,t){iD(e);let r=iz(e,"jwks_uri",!1,t?.[n1]!==!0),n=ip(t?.headers);return n.set("accept","application/json"),n.append("accept","application/jwk-set+json"),(t?.[n5]||fetch)(r.href,{body:void 0,headers:Object.fromEntries(n.entries()),method:"GET",redirect:"manual",signal:t?.signal?im(t.signal):void 0})}async function aJ(e){let t;if(!nZ(e,Response))throw n0('"response" must be an instance of Response',nX);if(200!==e.status)throw il('"response" is not a conform JSON Web Key Set response (unexpected HTTP status code)',aU,e);aV(e);try{t=await e.json()}catch(t){throw ix(e,"application/json","application/jwk-set+json"),il('failed to parse "response" body as JSON',a$,t)}if(!ih(t))throw il('"response" body must be a top level object',aC,{body:t});if(!Array.isArray(t.keys))throw il('"response" body "keys" property must be an array',aC,{body:t});if(!Array.prototype.every.call(t.keys,ih))throw il('"response" body "keys" property members must be JWK formatted objects',aC,{body:t});return t}function aK(e){switch(e){case"PS256":case"ES256":case"RS256":case"PS384":case"ES384":case"RS384":case"PS512":case"ES512":case"RS512":case"Ed25519":case"EdDSA":return!0;default:return!1}}function aB(e){if(!aK(e.alg))throw new is('unsupported JWS "alg" identifier',{cause:{alg:e.alg}})}function aG(e){let{algorithm:t}=e;if("number"!=typeof t.modulusLength||t.modulusLength<2048)throw new is(`unsupported ${t.name} modulusLength`,{cause:e})}function az(e){let{algorithm:t}=e;switch(t.namedCurve){case"P-256":return"SHA-256";case"P-384":return"SHA-384";case"P-521":return"SHA-512";default:throw new is("unsupported ECDSA namedCurve",{cause:e})}}function aQ(e){switch(e.algorithm.name){case"ECDSA":return{name:e.algorithm.name,hash:az(e)};case"RSA-PSS":switch(aG(e),e.algorithm.hash.name){case"SHA-256":case"SHA-384":case"SHA-512":return{name:e.algorithm.name,saltLength:parseInt(e.algorithm.hash.name.slice(-3),10)>>3};default:throw new is("unsupported RSA-PSS hash name",{cause:e})}case"RSASSA-PKCS1-v1_5":return aG(e),e.algorithm.name;case"Ed25519":case"EdDSA":return e.algorithm.name}throw new is("unsupported CryptoKey algorithm name",{cause:e})}async function aZ(e,t,r,n,i){let a,s,{0:o,1:l,length:c}=e.split(".");if(5===c){if(void 0!==i)e=await i(e),{0:o,1:l,length:c}=e.split(".");else throw new is("JWE decryption is not configured",{cause:e})}if(3!==c)throw il("Invalid JWT",aC,e);try{a=JSON.parse(ie(ia(o)))}catch(e){throw il("failed to parse JWT Header body as base64url encoded JSON",a$,e)}if(!ih(a))throw il("JWT Header must be a top level object",aC,e);if(t(a),void 0!==a.crit)throw new is('no JWT "crit" header parameter extensions are supported',{cause:{header:a}});try{s=JSON.parse(ie(ia(l)))}catch(e){throw il("failed to parse JWT Payload body as base64url encoded JSON",a$,e)}if(!ih(s))throw il("JWT Payload must be a top level object",aC,e);let u=ij()+r;if(void 0!==s.exp){if("number"!=typeof s.exp)throw il('unexpected JWT "exp" (expiration time) claim type',aC,{claims:s});if(s.exp<=u-n)throw il('unexpected JWT "exp" (expiration time) claim value, expiration is past current timestamp',aD,{claims:s,now:u,tolerance:n,claim:"exp"})}if(void 0!==s.iat&&"number"!=typeof s.iat)throw il('unexpected JWT "iat" (issued at) claim type',aC,{claims:s});if(void 0!==s.iss&&"string"!=typeof s.iss)throw il('unexpected JWT "iss" (issuer) claim type',aC,{claims:s});if(void 0!==s.nbf){if("number"!=typeof s.nbf)throw il('unexpected JWT "nbf" (not before) claim type',aC,{claims:s});if(s.nbf>u+n)throw il('unexpected JWT "nbf" (not before) claim value',aD,{claims:s,now:u,tolerance:n,claim:"nbf"})}if(void 0!==s.aud&&"string"!=typeof s.aud&&!Array.isArray(s.aud))throw il('unexpected JWT "aud" (audience) claim type',aC,{claims:s});return{header:a,claims:s,jwt:e}}async function aY(e,t,r){let n;switch(t.alg){case"RS256":case"PS256":case"ES256":n="SHA-256";break;case"RS384":case"PS384":case"ES384":n="SHA-384";break;case"RS512":case"PS512":case"ES512":case"Ed25519":case"EdDSA":n="SHA-512";break;default:throw new is(`unsupported JWS algorithm for ${r} calculation`,{cause:{alg:t.alg}})}let i=await crypto.subtle.digest(n,ie(e));return ia(i.slice(0,i.byteLength/2))}async function aX(e){if(e.bodyUsed)throw n0("form_post Request instances must contain a readable body",nY,{cause:e});return e.text()}function a0(e,t,r,n){if(void 0!==e){if("string"==typeof e?n.alg!==e:!e.includes(n.alg))throw il('unexpected JWT "alg" header parameter',aC,{header:n,expected:e,reason:"client configuration"});return}if(Array.isArray(t)){if(!t.includes(n.alg))throw il('unexpected JWT "alg" header parameter',aC,{header:n,expected:t,reason:"authorization server metadata"});return}if(void 0!==r){if("string"==typeof r?n.alg!==r:"function"==typeof r?!r(n.alg):!r.includes(n.alg))throw il('unexpected JWT "alg" header parameter',aC,{header:n,expected:r,reason:"default value"});return}throw il('missing client or server configuration to verify used JWT "alg" header parameter',void 0,{client:e,issuer:t,fallback:r})}function a1(e,t){let{0:r,length:n}=e.getAll(t);if(n>1)throw il(`"${t}" parameter must be provided only once`,aC);return r}let a2=Symbol(),a3=Symbol();function a5(e,t,r,n){if(iD(e),iq(t),r instanceof URL&&(r=r.searchParams),!(r instanceof URLSearchParams))throw n0('"parameters" must be an instance of URLSearchParams, or URL',nX);if(a1(r,"response"))throw il('"parameters" contains a JARM response, use validateJwtAuthResponse() instead of validateAuthResponse()',aC,{parameters:r});let i=a1(r,"iss"),a=a1(r,"state");if(!i&&e.authorization_response_iss_parameter_supported)throw il('response parameter "iss" (issuer) missing',aC,{parameters:r});if(i&&i!==e.issuer)throw il('unexpected "iss" (issuer) response parameter value',aC,{expected:e.issuer,parameters:r});switch(n){case void 0:case a3:if(void 0!==a)throw il('unexpected "state" response parameter encountered',aC,{expected:void 0,parameters:r});break;case a2:break;default:if(iw(n,'"expectedState" argument'),a!==n)throw il(void 0===a?'response parameter "state" missing':'unexpected "state" response parameter value',aC,{expected:n,parameters:r})}if(a1(r,"error"))throw new iZ("authorization response from the server is an error",{cause:r});let s=a1(r,"id_token"),o=a1(r,"token");if(void 0!==s||void 0!==o)throw new is("implicit and hybrid flows are not supported");return ay(new URLSearchParams(r))}function a4(e){switch(e){case"PS256":case"PS384":case"PS512":return{name:"RSA-PSS",hash:`SHA-${e.slice(-3)}`};case"RS256":case"RS384":case"RS512":return{name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.slice(-3)}`};case"ES256":case"ES384":return{name:"ECDSA",namedCurve:`P-${e.slice(-3)}`};case"ES512":return{name:"ECDSA",namedCurve:"P-521"};case"Ed25519":case"EdDSA":return"Ed25519";default:throw new is("unsupported JWS algorithm",{cause:{alg:e}})}}async function a6(e,t){let{ext:r,key_ops:n,use:i,...a}=t;return crypto.subtle.importKey("jwk",a,a4(e),!0,["verify"])}let a8=Symbol(),a9=Symbol(),a7=Symbol(),se=900;async function st(e,t,r){let{cookies:n,logger:i}=r,a=n[e],s=new Date;s.setTime(s.getTime()+1e3*se),i.debug(`CREATE_${e.toUpperCase()}`,{name:a.name,payload:t,COOKIE_TTL:se,expires:s});let o=await t4({...r.jwt,maxAge:se,token:{value:t},salt:a.name}),l={...a.options,expires:s};return{name:a.name,value:o,options:l}}async function sr(e,t,r){try{let{logger:n,cookies:i,jwt:a}=r;if(n.debug(`PARSE_${e.toUpperCase()}`,{cookie:t}),!t)throw new _.gS(`${e} cookie was missing`);let s=await t6({...a,token:t,salt:i[e].name});if(s?.value)return s.value;throw Error("Invalid cookie")}catch(t){throw new _.gS(`${e} value could not be parsed`,{cause:t})}}function sn(e,t,r){let{logger:n,cookies:i}=t,a=i[e];n.debug(`CLEAR_${e.toUpperCase()}`,{cookie:a}),r.push({name:a.name,value:"",options:{...i[e].options,maxAge:0}})}function si(e,t){return async function(r,n,i){let{provider:a,logger:s}=i;if(!a?.checks?.includes(e))return;let o=r?.[i.cookies[t].name];s.debug(`USE_${t.toUpperCase()}`,{value:o});let l=await sr(t,o,i);return sn(t,i,n),l}}let sa={async create(e){let t=iS(),r=await iR(t);return{cookie:await st("pkceCodeVerifier",t,e),value:r}},use:si("pkce","pkceCodeVerifier")},ss=900,so="encodedState",sl={async create(e,t){let{provider:r}=e;if(!r.checks.includes("state")){if(t)throw new _.gS("State data was provided but the provider is not configured to use state");return}let n={origin:t,random:iA()},i=await t4({secret:e.jwt.secret,token:n,salt:so,maxAge:ss});return{cookie:await st("state",i,e),value:i}},use:si("state","state"),async decode(e,t){try{t.logger.debug("DECODE_STATE",{state:e});let r=await t6({secret:t.jwt.secret,token:e,salt:so});if(r)return r;throw Error("Invalid state")}catch(e){throw new _.gS("State could not be decoded",{cause:e})}}},sc={async create(e){if(!e.provider.checks.includes("nonce"))return;let t=iP();return{cookie:await st("nonce",t,e),value:t}},use:si("nonce","nonce")},su=900,sd="encodedWebauthnChallenge",sf={create:async(e,t,r)=>({cookie:await st("webauthnChallenge",await t4({secret:e.jwt.secret,token:{challenge:t,registerData:r},salt:sd,maxAge:su}),e)}),async use(e,t,r){let n=t?.[e.cookies.webauthnChallenge.name],i=await sr("webauthnChallenge",n,e),a=await t6({secret:e.jwt.secret,token:i,salt:sd});if(sn("webauthnChallenge",e,r),!a)throw new _.gS("WebAuthn challenge was missing");return a}};function sh(e){let t,r;if("string"!=typeof e)throw new ed("JWTs must use Compact JWS serialization, JWT must be a string");let{1:n,length:i}=e.split(".");if(5===i)throw new ed("Only JWTs using Compact JWS serialization can be decoded");if(3!==i)throw new ed("Invalid JWT");if(!n)throw new ed("JWTs must contain a payload");try{t=ek(n)}catch{throw new ed("Failed to base64url decode the payload")}try{r=JSON.parse(J.decode(t))}catch{throw new ed("Failed to parse the decoded payload as JSON")}if(!eb(r))throw new ed("Invalid JWT Claims Set");return r}function sp(e){return encodeURIComponent(e).replace(/%20/g,"+")}function sm(e,t){let r=sp(e),n=sp(t),i=btoa(`${r}:${n}`);return`Basic ${i}`}async function sg(e,t,r){let n,i,a;let{logger:s,provider:o}=r,{token:l,userinfo:c}=o;if(l?.url&&"authjs.dev"!==l.url.host||c?.url&&"authjs.dev"!==c.url.host)n={issuer:o.issuer??"https://authjs.dev",token_endpoint:l?.url.toString(),userinfo_endpoint:c?.url.toString()};else{let e=new URL(o.issuer),t=await ig(e,{[n1]:!0,[n5]:o[rv]});if(!(n=await ib(e,t)).token_endpoint)throw TypeError("TODO: Authorization server did not provide a token endpoint.");if(!n.userinfo_endpoint)throw TypeError("TODO: Authorization server did not provide a userinfo endpoint.")}let u={client_id:o.clientId,...o.client};switch(u.token_endpoint_auth_method){case void 0:case"client_secret_basic":i=(e,t,r,n)=>{n.set("authorization",sm(o.clientId,o.clientSecret))};break;case"client_secret_post":i=iL(o.clientSecret);break;case"client_secret_jwt":i=iH(o.clientSecret);break;case"private_key_jwt":i=iM(o.token.clientPrivateKey,{[n4](e,t){t.aud=[n.issuer,n.token_endpoint]}});break;case"none":i=iV();break;default:throw Error("unsupported client authentication method")}let d=[],f=await sl.use(t,d,r);try{a=a5(n,u,new URLSearchParams(e),o.checks.includes("state")?f:a2)}catch(e){if(e instanceof iZ){let t={providerId:o.id,...Object.fromEntries(e.cause.entries())};throw s.debug("OAuthCallbackError",t),new _.iV("OAuth Provider returned an error",t)}throw e}let h=await sa.use(t,d,r),p=o.callbackUrl;!r.isOnRedirectProxy&&o.redirectProxyUrl&&(p=o.redirectProxyUrl);let m=await aw(n,u,i,a,p,h??"decoy",{[n1]:!0,[n5]:(...e)=>(o.checks.includes("pkce")||e[1].body.delete("code_verifier"),(o[rv]??fetch)(...e))});o.token?.conform&&(m=await o.token.conform(m.clone())??m);let g={},y=rR(o);if(o[r_])switch(o.id){case"microsoft-entra-id":case"azure-ad":{let{tid:e}=sh((await m.clone().json()).id_token);if("string"==typeof e){let t=/microsoftonline\.com\/(\w+)\/v2\.0/,r=n.issuer?.match(t)?.[1]??"common",i=new URL(n.issuer.replace(r,e)),a=await ig(i,{[n5]:o[rv]});n=await ib(i,a)}}}let w=await ak(n,u,m,{expectedNonce:await sc.use(t,d,r),requireIdToken:y}),b=w;if(y){let t=ac(w);if(g=t,o[r_]&&"apple"===o.id)try{g.user=JSON.parse(e?.user)}catch{}if(!1===o.idToken){let e=await i9(n,u,w.access_token,{[n5]:o[rv],[n1]:!0});g=await ai(n,u,t.sub,e)}}else if(c?.request){let e=await c.request({tokens:b,provider:o});e instanceof Object&&(g=e)}else if(c?.url){let e=await i9(n,u,w.access_token,{[n5]:o[rv]});g=await e.json()}else throw TypeError("No userinfo endpoint configured");return b.expires_in&&(b.expires_at=Math.floor(Date.now()/1e3)+Number(b.expires_in)),{...await sy(g,o,b,s),profile:g,cookies:d}}async function sy(e,t,r,n){try{let n=await t.profile(e,r);return{user:{...n,id:crypto.randomUUID(),email:n.email?.toLowerCase()},account:{...r,provider:t.id,type:t.type,providerAccountId:n.id??crypto.randomUUID()}}}catch(r){n.debug("getProfile error details",e),n.error(new _.X0(r,{provider:t.id}))}}function sw(e,t,r){let{user:n,exists:i=!1}=r??{};switch(e){case"authenticate":return"authenticate";case"register":if(n&&t===i)return"register";break;case void 0:if(!t){if(!n||i)return"authenticate";return"register"}}return null}async function sb(e,t,r,n){let i=await sE(e,t,r),{cookie:a}=await sf.create(e,i.challenge,r);return{status:200,cookies:[...n??[],a],body:{action:"register",options:i},headers:{"Content-Type":"application/json"}}}async function sv(e,t,r,n){let i=await sk(e,t,r),{cookie:a}=await sf.create(e,i.challenge);return{status:200,cookies:[...n??[],a],body:{action:"authenticate",options:i},headers:{"Content-Type":"application/json"}}}async function s_(e,t,r){let n;let{adapter:i,provider:a}=e,s=t.body&&"string"==typeof t.body.data?JSON.parse(t.body.data):void 0;if(!s||"object"!=typeof s||!("id"in s)||"string"!=typeof s.id)throw new _.l4("Invalid WebAuthn Authentication response");let o=sR(sP(s.id)),l=await i.getAuthenticator(o);if(!l)throw new _.l4(`WebAuthn authenticator not found in database: ${JSON.stringify({credentialID:o})}`);let{challenge:c}=await sf.use(e,t.cookies,r);try{let r=a.getRelayingParty(e,t);n=await a.simpleWebAuthn.verifyAuthenticationResponse({...a.verifyAuthenticationOptions,expectedChallenge:c,response:s,authenticator:sA(l),expectedOrigin:r.origin,expectedRPID:r.id})}catch(e){throw new _.vV(e)}let{verified:u,authenticationInfo:d}=n;if(!u)throw new _.vV("WebAuthn authentication response could not be verified");try{let{newCounter:e}=d;await i.updateAuthenticatorCounter(l.credentialID,e)}catch(e){throw new _.dq(`Failed to update authenticator counter. This may cause future authentication attempts to fail. ${JSON.stringify({credentialID:o,oldCounter:l.counter,newCounter:d.newCounter})}`,e)}let f=await i.getAccount(l.providerAccountId,a.id);if(!f)throw new _.l4(`WebAuthn account not found in database: ${JSON.stringify({credentialID:o,providerAccountId:l.providerAccountId})}`);let h=await i.getUser(f.userId);if(!h)throw new _.l4(`WebAuthn user not found in database: ${JSON.stringify({credentialID:o,providerAccountId:l.providerAccountId,userID:f.userId})}`);return{account:f,user:h}}async function sx(e,t,r){let n;let{provider:i}=e,a=t.body&&"string"==typeof t.body.data?JSON.parse(t.body.data):void 0;if(!a||"object"!=typeof a||!("id"in a)||"string"!=typeof a.id)throw new _.l4("Invalid WebAuthn Registration response");let{challenge:s,registerData:o}=await sf.use(e,t.cookies,r);if(!o)throw new _.l4("Missing user registration data in WebAuthn challenge cookie");try{let r=i.getRelayingParty(e,t);n=await i.simpleWebAuthn.verifyRegistrationResponse({...i.verifyRegistrationOptions,expectedChallenge:s,response:a,expectedOrigin:r.origin,expectedRPID:r.id})}catch(e){throw new _.vV(e)}if(!n.verified||!n.registrationInfo)throw new _.vV("WebAuthn registration response could not be verified");let l={providerAccountId:sR(n.registrationInfo.credentialID),provider:e.provider.id,type:i.type},c={providerAccountId:l.providerAccountId,counter:n.registrationInfo.counter,credentialID:sR(n.registrationInfo.credentialID),credentialPublicKey:sR(n.registrationInfo.credentialPublicKey),credentialBackedUp:n.registrationInfo.credentialBackedUp,credentialDeviceType:n.registrationInfo.credentialDeviceType,transports:sT(a.response.transports)};return{user:o,account:l,authenticator:c}}async function sk(e,t,r){let{provider:n,adapter:i}=e,a=r&&r.id?await i.listAuthenticatorsByUserId(r.id):null,s=n.getRelayingParty(e,t);return await n.simpleWebAuthn.generateAuthenticationOptions({...n.authenticationOptions,rpID:s.id,allowCredentials:a?.map(e=>({id:sP(e.credentialID),type:"public-key",transports:sO(e.transports)}))})}async function sE(e,t,r){let{provider:n,adapter:i}=e,a=r.id?await i.listAuthenticatorsByUserId(r.id):null,s=rf(32),o=n.getRelayingParty(e,t);return await n.simpleWebAuthn.generateRegistrationOptions({...n.registrationOptions,userID:s,userName:r.email,userDisplayName:r.name??void 0,rpID:o.id,rpName:o.name,excludeCredentials:a?.map(e=>({id:sP(e.credentialID),type:"public-key",transports:sO(e.transports)}))})}function sS(e){let{provider:t,adapter:r}=e;if(!r)throw new _.Xp("An adapter is required for the WebAuthn provider");if(!t||"webauthn"!==t.type)throw new _.Ab("Provider must be WebAuthn");return{...e,provider:t,adapter:r}}function sA(e){return{...e,credentialDeviceType:e.credentialDeviceType,transports:sO(e.transports),credentialID:sP(e.credentialID),credentialPublicKey:sP(e.credentialPublicKey)}}function sP(e){return new Uint8Array(Buffer.from(e,"base64"))}function sR(e){return Buffer.from(e).toString("base64")}function sT(e){return e?.join(",")}function sO(e){return e?e.split(","):void 0}async function s$(e,t,r,n){if(!t.provider)throw new _.Ab("Callback route called without provider");let{query:i,body:a,method:s,headers:o}=e,{provider:l,adapter:c,url:u,callbackUrl:d,pages:f,jwt:h,events:p,callbacks:m,session:{strategy:g,maxAge:y},logger:w}=t,b="jwt"===g;try{if("oauth"===l.type||"oidc"===l.type){let s;let o=l.authorization?.url.searchParams.get("response_mode")==="form_post"?a:i;if(t.isOnRedirectProxy&&o?.state){let e=await sl.decode(o.state,t);if(e?.origin&&new URL(e.origin).origin!==t.url.origin){let t=`${e.origin}?${new URLSearchParams(o)}`;return w.debug("Proxy redirecting to",t),{redirect:t,cookies:n}}}let g=await sg(o,e.cookies,t);g.cookies.length&&n.push(...g.cookies),w.debug("authorization result",g);let{user:v,account:_,profile:x}=g;if(!v||!_||!x)return{redirect:`${u}/signin`,cookies:n};if(c){let{getUserByAccount:e}=c;s=await e({providerAccountId:_.providerAccountId,provider:l.id})}let k=await sC({user:s??v,account:_,profile:x},t);if(k)return{redirect:k,cookies:n};let{user:E,session:S,isNewUser:A}=await nQ(r.value,v,_,t);if(b){let e={name:E.name,email:E.email,picture:E.image,sub:E.id?.toString()},i=await m.jwt({token:e,user:E,account:_,profile:x,isNewUser:A,trigger:A?"signUp":"signIn"});if(null===i)n.push(...r.clean());else{let e=t.cookies.sessionToken.name,a=await h.encode({...h,token:i,salt:e}),s=new Date;s.setTime(s.getTime()+1e3*y);let o=r.chunk(a,{expires:s});n.push(...o)}}else n.push({name:t.cookies.sessionToken.name,value:S.sessionToken,options:{...t.cookies.sessionToken.options,expires:S.expires}});if(await p.signIn?.({user:E,account:_,profile:x,isNewUser:A}),A&&f.newUser)return{redirect:`${f.newUser}${f.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:d})}`,cookies:n};return{redirect:d,cookies:n}}if("email"===l.type){let e=i?.token,a=i?.email;if(!e){let t=TypeError("Missing token. The sign-in URL was manually opened without token or the link was not sent correctly in the email.",{cause:{hasToken:!!e}});throw t.name="Configuration",t}let s=l.secret??t.secret,o=await c.useVerificationToken({identifier:a,token:await rd(`${e}${s}`)}),u=!!o,g=u&&o.expires.valueOf()<Date.now();if(!u||g||a&&o.identifier!==a)throw new _.GX({hasInvite:u,expired:g});let{identifier:w}=o,v=await c.getUserByEmail(w)??{id:crypto.randomUUID(),email:w,emailVerified:null},x={providerAccountId:v.email,userId:v.id,type:"email",provider:l.id},k=await sC({user:v,account:x},t);if(k)return{redirect:k,cookies:n};let{user:E,session:S,isNewUser:A}=await nQ(r.value,v,x,t);if(b){let e={name:E.name,email:E.email,picture:E.image,sub:E.id?.toString()},i=await m.jwt({token:e,user:E,account:x,isNewUser:A,trigger:A?"signUp":"signIn"});if(null===i)n.push(...r.clean());else{let e=t.cookies.sessionToken.name,a=await h.encode({...h,token:i,salt:e}),s=new Date;s.setTime(s.getTime()+1e3*y);let o=r.chunk(a,{expires:s});n.push(...o)}}else n.push({name:t.cookies.sessionToken.name,value:S.sessionToken,options:{...t.cookies.sessionToken.options,expires:S.expires}});if(await p.signIn?.({user:E,account:x,isNewUser:A}),A&&f.newUser)return{redirect:`${f.newUser}${f.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:d})}`,cookies:n};return{redirect:d,cookies:n}}if("credentials"===l.type&&"POST"===s){let e=a??{};Object.entries(i??{}).forEach(([e,t])=>u.searchParams.set(e,t));let c=await l.authorize(e,new Request(u,{headers:o,method:s,body:JSON.stringify(a)}));if(c)c.id=c.id?.toString()??crypto.randomUUID();else throw new _.UC;let f={providerAccountId:c.id,type:"credentials",provider:l.id},g=await sC({user:c,account:f,credentials:e},t);if(g)return{redirect:g,cookies:n};let w={name:c.name,email:c.email,picture:c.image,sub:c.id},b=await m.jwt({token:w,user:c,account:f,isNewUser:!1,trigger:"signIn"});if(null===b)n.push(...r.clean());else{let e=t.cookies.sessionToken.name,i=await h.encode({...h,token:b,salt:e}),a=new Date;a.setTime(a.getTime()+1e3*y);let s=r.chunk(i,{expires:a});n.push(...s)}return await p.signIn?.({user:c,account:f}),{redirect:d,cookies:n}}if("webauthn"===l.type&&"POST"===s){let i,a,s;let o=e.body?.action;if("string"!=typeof o||"authenticate"!==o&&"register"!==o)throw new _.l4("Invalid action parameter");let l=sS(t);switch(o){case"authenticate":{let t=await s_(l,e,n);i=t.user,a=t.account;break}case"register":{let r=await sx(t,e,n);i=r.user,a=r.account,s=r.authenticator}}await sC({user:i,account:a},t);let{user:c,isNewUser:u,session:g,account:w}=await nQ(r.value,i,a,t);if(!w)throw new _.l4("Error creating or finding account");if(s&&c.id&&await l.adapter.createAuthenticator({...s,userId:c.id}),b){let e={name:c.name,email:c.email,picture:c.image,sub:c.id?.toString()},i=await m.jwt({token:e,user:c,account:w,isNewUser:u,trigger:u?"signUp":"signIn"});if(null===i)n.push(...r.clean());else{let e=t.cookies.sessionToken.name,a=await h.encode({...h,token:i,salt:e}),s=new Date;s.setTime(s.getTime()+1e3*y);let o=r.chunk(a,{expires:s});n.push(...o)}}else n.push({name:t.cookies.sessionToken.name,value:g.sessionToken,options:{...t.cookies.sessionToken.options,expires:g.expires}});if(await p.signIn?.({user:c,account:w,isNewUser:u}),u&&f.newUser)return{redirect:`${f.newUser}${f.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:d})}`,cookies:n};return{redirect:d,cookies:n}}throw new _.Ab(`Callback for provider type (${l.type}) is not supported`)}catch(t){if(t instanceof _.l4)throw t;let e=new _.Ng(t,{provider:l.id});throw w.debug("callback route error details",{method:s,query:i,body:a}),e}}async function sC(e,t){let r;let{signIn:n,redirect:i}=t.callbacks;try{r=await n(e)}catch(e){if(e instanceof _.l4)throw e;throw new _.JK(e)}if(!r)throw new _.JK("AccessDenied");if("string"==typeof r)return await i({url:r,baseUrl:t.url.origin})}async function sI(e,t,r,n,i){let{adapter:a,jwt:s,events:o,callbacks:l,logger:c,session:{strategy:u,maxAge:d}}=e,f={body:null,headers:{"Content-Type":"application/json"},cookies:r},h=t.value;if(!h)return f;if("jwt"===u){try{let r=e.cookies.sessionToken.name,a=await s.decode({...s,token:h,salt:r});if(!a)throw Error("Invalid JWT");let c=await l.jwt({token:a,...n&&{trigger:"update"},session:i}),u=nz(d);if(null!==c){let e={user:{name:c.name,email:c.email,image:c.picture},expires:u.toISOString()},n=await l.session({session:e,token:c});f.body=n;let i=await s.encode({...s,token:c,salt:r}),a=t.chunk(i,{expires:u});f.cookies?.push(...a),await o.session?.({session:n,token:c})}else f.cookies?.push(...t.clean())}catch(e){c.error(new _.xo(e)),f.cookies?.push(...t.clean())}return f}try{let{getSessionAndUser:r,deleteSession:s,updateSession:c}=a,u=await r(h);if(u&&u.session.expires.valueOf()<Date.now()&&(await s(h),u=null),u){let{user:t,session:r}=u,a=e.session.updateAge,s=r.expires.valueOf()-1e3*d+1e3*a,p=nz(d);s<=Date.now()&&await c({sessionToken:h,expires:p});let m=await l.session({session:{...r,user:t},user:t,newSession:i,...n?{trigger:"update"}:{}});f.body=m,f.cookies?.push({name:e.cookies.sessionToken.name,value:h,options:{...e.cookies.sessionToken.options,expires:p}}),await o.session?.({session:m})}else h&&f.cookies?.push(...t.clean())}catch(e){c.error(new _.li(e))}return f}async function sU(e,t){let r,n;let{logger:i,provider:a}=t,s=a.authorization?.url;if(!s||"authjs.dev"===s.host){let e=new URL(a.issuer),t=await ig(e,{[n5]:a[rv],[n1]:!0}),r=await ib(e,t);if(!r.authorization_endpoint)throw TypeError("Authorization server did not provide an authorization endpoint.");s=new URL(r.authorization_endpoint)}let o=s.searchParams,l=a.callbackUrl;!t.isOnRedirectProxy&&a.redirectProxyUrl&&(l=a.redirectProxyUrl,n=a.callbackUrl,i.debug("using redirect proxy",{redirect_uri:l,data:n}));let c=Object.assign({response_type:"code",client_id:a.clientId,redirect_uri:l,...a.authorization?.params},Object.fromEntries(a.authorization?.url.searchParams??[]),e);for(let e in c)o.set(e,c[e]);let u=[];a.authorization?.url.searchParams.get("response_mode")==="form_post"&&(t.cookies.state.options.sameSite="none",t.cookies.state.options.secure=!0,t.cookies.nonce.options.sameSite="none",t.cookies.nonce.options.secure=!0);let d=await sl.create(t,n);if(d&&(o.set("state",d.value),u.push(d.cookie)),a.checks?.includes("pkce")){if(r&&!r.code_challenge_methods_supported?.includes("S256"))"oidc"===a.type&&(a.checks=["nonce"]);else{let{value:e,cookie:r}=await sa.create(t);o.set("code_challenge",e),o.set("code_challenge_method","S256"),u.push(r)}}let f=await sc.create(t);return f&&(o.set("nonce",f.value),u.push(f.cookie)),"oidc"!==a.type||s.searchParams.has("scope")||s.searchParams.set("scope","openid profile email"),i.debug("authorization url is ready",{url:s,cookies:u,provider:a}),{redirect:s.toString(),cookies:u}}async function sN(e,t){let r;let{body:n}=e,{provider:i,callbacks:a,adapter:s}=t,o=(i.normalizeIdentifier??sj)(n?.email),l={id:crypto.randomUUID(),email:o,emailVerified:null},c=await s.getUserByEmail(o)??l,u={providerAccountId:o,userId:c.id,type:"email",provider:i.id};try{r=await a.signIn({user:c,account:u,email:{verificationRequest:!0}})}catch(e){throw new _.JK(e)}if(!r)throw new _.JK("AccessDenied");if("string"==typeof r)return{redirect:await a.redirect({url:r,baseUrl:t.url.origin})};let{callbackUrl:d,theme:f}=t,h=await i.generateVerificationToken?.()??rf(32),p=86400,m=new Date(Date.now()+(i.maxAge??p)*1e3),g=i.secret??t.secret,y=new URL(t.basePath,t.url.origin),w=i.sendVerificationRequest({identifier:o,token:h,expires:m,url:`${y}/callback/${i.id}?${new URLSearchParams({callbackUrl:d,token:h,email:o})}`,provider:i,theme:f,request:rc(e)}),b=s.createVerificationToken?.({identifier:o,token:await rd(`${h}${g}`),expires:m});return await Promise.all([w,b]),{redirect:`${y}/verify-request?${new URLSearchParams({provider:i.id,type:i.type})}`}}function sj(e){if(!e)throw Error("Missing email from request body.");let[t,r]=e.toLowerCase().trim().split("@");return r=r.split(",")[0],`${t}@${r}`}async function sD(e,t,r){let n=`${r.url.origin}${r.basePath}/signin`;if(!r.provider)return{redirect:n,cookies:t};switch(r.provider.type){case"oauth":case"oidc":{let{redirect:n,cookies:i}=await sU(e.query,r);return i&&t.push(...i),{redirect:n,cookies:t}}case"email":return{...await sN(e,r),cookies:t};default:return{redirect:n,cookies:t}}}async function sq(e,t,r){let{jwt:n,events:i,callbackUrl:a,logger:s,session:o}=r,l=t.value;if(!l)return{redirect:a,cookies:e};try{if("jwt"===o.strategy){let e=r.cookies.sessionToken.name,t=await n.decode({...n,token:l,salt:e});await i.signOut?.({token:t})}else{let e=await r.adapter?.deleteSession(l);await i.signOut?.({session:e})}}catch(e){s.error(new _.V1(e))}return e.push(...t.clean()),{redirect:a,cookies:e}}async function sL(e,t){let{adapter:r,jwt:n,session:{strategy:i}}=e,a=t.value;if(!a)return null;if("jwt"===i){let t=e.cookies.sessionToken.name,r=await n.decode({...n,token:a,salt:t});if(r&&r.sub)return{id:r.sub,name:r.name,email:r.email,image:r.picture}}else{let e=await r?.getSessionAndUser(a);if(e)return e.user}return null}async function sF(e,t,r,n){let i=sS(t),{provider:a}=i,{action:s}=e.query??{};if("register"!==s&&"authenticate"!==s&&void 0!==s)return{status:400,body:{error:"Invalid action"},cookies:n,headers:{"Content-Type":"application/json"}};let o=await sL(t,r),l=o?{user:o,exists:!0}:await a.getUserInfo(t,e),c=l?.user;switch(sw(s,!!o,l)){case"authenticate":return sv(i,e,c,n);case"register":if("string"==typeof c?.email)return sb(i,e,c,n);break;default:return{status:400,body:{error:"Invalid request"},cookies:n,headers:{"Content-Type":"application/json"}}}}async function sM(e,t){let{action:r,providerId:n,error:i,method:a}=e,s=t.skipCSRFCheck===rw,{options:o,cookies:l}=await rO({authOptions:t,action:r,providerId:n,url:e.url,callbackUrl:e.body?.callbackUrl??e.query?.callbackUrl,csrfToken:e.body?.csrfToken,cookies:e.cookies,isPost:"POST"===a,csrfDisabled:s}),c=new v(o.cookies.sessionToken,e.cookies,o.logger);if("GET"===a){let t=nG({...o,query:e.query,cookies:l});switch(r){case"callback":return await s$(e,o,c,l);case"csrf":return t.csrf(s,o,l);case"error":return t.error(i);case"providers":return t.providers(o.providers);case"session":return await sI(o,c,l);case"signin":return t.signin(n,i);case"signout":return t.signout();case"verify-request":return t.verifyRequest();case"webauthn-options":return await sF(e,o,c,l)}}else{let{csrfTokenVerified:t}=o;switch(r){case"callback":return"credentials"===o.provider.type&&rm(r,t),await s$(e,o,c,l);case"session":return rm(r,t),await sI(o,c,l,!0,e.body?.data);case"signin":return rm(r,t),await sD(e,l,o);case"signout":return rm(r,t),await sq(l,c,o)}}throw new _.D7(`Cannot handle action: ${r}`)}function sH(e,t,r=!1){try{let n=e.AUTH_URL;n&&(t.basePath?r||ri(t).warn("env-url-basepath-redundant"):t.basePath=new URL(n).pathname)}catch{}finally{t.basePath??(t.basePath="/auth")}if(!t.secret?.length){t.secret=[];let r=e.AUTH_SECRET;for(let n of(r&&t.secret.push(r),[1,2,3])){let r=e[`AUTH_SECRET_${n}`];r&&t.secret.unshift(r)}}t.redirectProxyUrl??(t.redirectProxyUrl=e.AUTH_REDIRECT_PROXY_URL),t.trustHost??(t.trustHost=!!(e.AUTH_URL??e.AUTH_TRUST_HOST??e.VERCEL??e.CF_PAGES??"production"!==e.NODE_ENV)),t.providers=t.providers.map(t=>{let{id:r}="function"==typeof t?t({}):t,n=r.toUpperCase().replace(/-/g,"_"),i=e[`AUTH_${n}_ID`],a=e[`AUTH_${n}_SECRET`],s=e[`AUTH_${n}_ISSUER`],o=e[`AUTH_${n}_KEY`],l="function"==typeof t?t({clientId:i,clientSecret:a,issuer:s,apiKey:o}):t;return"oauth"===l.type||"oidc"===l.type?(l.clientId??(l.clientId=i),l.clientSecret??(l.clientSecret=a),l.issuer??(l.issuer=s)):"email"===l.type&&(l.apiKey??(l.apiKey=o)),l})}function sV(e,t,r,n,i){let a;let s=i?.basePath,o=n.AUTH_URL??n.NEXTAUTH_URL;if(o)a=new URL(o),s&&"/"!==s&&"/"!==a.pathname&&(a.pathname!==s&&ri(i).warn("env-url-basepath-mismatch"),a.pathname="/");else{let e=r.get("x-forwarded-host")??r.get("host"),n=r.get("x-forwarded-proto")??t??"https",i=n.endsWith(":")?n:n+":";a=new URL(`${i}//${e}`)}let l=a.toString().replace(/\/$/,"");if(s){let t=s?.replace(/(^\/|\/$)/g,"")??"";return new URL(`${l}/${t}/${e}`)}return new URL(`${l}/${e}`)}async function sW(e,t){let r=ri(t),n=await rl(e,t);if(!n)return Response.json("Bad request.",{status:400});let i=$(n,t);if(Array.isArray(i))i.forEach(r.warn);else if(i){if(r.error(i),!new Set(["signin","signout","error","verify-request"]).has(n.action)||"GET"!==n.method){let e="There was a problem with the server configuration. Check the server logs for more information.";return Response.json({message:e},{status:500})}let{pages:e,theme:a}=t,s=e?.error&&n.url.searchParams.get("callbackUrl")?.startsWith(e.error);if(!e?.error||s)return s&&r.error(new _.Mq(`The error page ${e?.error} should not require authentication`)),ru(nG({theme:a}).error("Configuration"));let o=`${n.url.origin}${e.error}?error=Configuration`;return Response.redirect(o)}let a=e.headers?.has("X-Auth-Return-Redirect"),s=t.raw===rb;try{let e=await sM(n,t);if(s)return e;let r=ru(e),i=r.headers.get("Location");if(!a||!i)return r;return Response.json({url:i},{headers:r.headers})}catch(h){let i=h;r.error(i);let o=i instanceof _.l4;if(o&&s&&!a)throw i;if("POST"===e.method&&"session"===n.action)return Response.json(null,{status:400});let l=(0,_.pI)(i)?i.type:"Configuration",c=new URLSearchParams({error:l});i instanceof _.UC&&c.set("code",i.code);let u=o&&i.kind||"error",d=t.pages?.[u]??`${t.basePath}/${u.toLowerCase()}`,f=`${n.url.origin}${d}?${c}`;if(a)return Response.json({url:f});return Response.redirect(f)}}var sJ=r(5752);function sK(e){let t=process.env.AUTH_URL??process.env.NEXTAUTH_URL;if(!t)return e;let{origin:r}=new URL(t),{href:n,origin:i}=e.nextUrl;return new sJ.NextRequest(n.replace(i,r),e)}function sB(e){try{e.secret??(e.secret=process.env.AUTH_SECRET??process.env.NEXTAUTH_SECRET);let t=process.env.AUTH_URL??process.env.NEXTAUTH_URL;if(!t)return;let{pathname:r}=new URL(t);if("/"===r)return;e.basePath||(e.basePath=r)}catch{}finally{e.basePath||(e.basePath="/api/auth"),sH(process.env,e,!0)}}var sG=r(7351);async function sz(e,t){let r=sV("session",e.get("x-forwarded-proto"),e,process.env,t);return sW(new Request(r,{headers:{cookie:e.get("cookie")??""}}),{...t,callbacks:{...t.callbacks,async session(...e){let r=await t.callbacks?.session?.(...e)??{...e[0].session,expires:e[0].session.expires?.toISOString?.()??e[0].session.expires};return{user:e[0].user??e[0].token,...r}}}})}function sQ(e){return"function"==typeof e}function sZ(e,t){return"function"==typeof e?async(...r)=>{if(!r.length){let r=await (0,sG.headers)(),n=await e(void 0);return t?.(n),sz(r,n).then(e=>e.json())}if(r[0]instanceof Request){let n=r[0],i=r[1],a=await e(n);return t?.(a),sY([n,i],a)}if(sQ(r[0])){let n=r[0];return async(...r)=>{let i=await e(r[0]);return t?.(i),sY(r,i,n)}}let n="req"in r[0]?r[0].req:r[0],i="res"in r[0]?r[0].res:r[1],a=await e(n);return t?.(a),sz(new Headers(n.headers),a).then(async e=>{let t=await e.json();for(let t of e.headers.getSetCookie())"headers"in i?i.headers.append("set-cookie",t):i.appendHeader("set-cookie",t);return t})}:(...t)=>{if(!t.length)return Promise.resolve((0,sG.headers)()).then(t=>sz(t,e).then(e=>e.json()));if(t[0]instanceof Request)return sY([t[0],t[1]],e);if(sQ(t[0])){let r=t[0];return async(...t)=>sY(t,e,r).then(e=>e)}let r="req"in t[0]?t[0].req:t[0],n="res"in t[0]?t[0].res:t[1];return sz(new Headers(r.headers),e).then(async e=>{let t=await e.json();for(let t of e.headers.getSetCookie())"headers"in n?n.headers.append("set-cookie",t):n.appendHeader("set-cookie",t);return t})}}async function sY(e,t,r){let n=sK(e[0]),i=await sz(n.headers,t),a=await i.json(),s=!0;t.callbacks?.authorized&&(s=await t.callbacks.authorized({request:n,auth:a}));let o=sJ.NextResponse.next?.();if(s instanceof Response){o=s;let e=s.headers.get("Location"),{pathname:r}=n.nextUrl;e&&sX(r,new URL(e).pathname,t)&&(s=!0)}else if(r){let t=n;t.auth=a,o=await r(t,e[1])??sJ.NextResponse.next()}else if(!s){let e=t.pages?.signIn??`${t.basePath}/signin`;if(n.nextUrl.pathname!==e){let t=n.nextUrl.clone();t.pathname=e,t.searchParams.set("callbackUrl",n.nextUrl.href),o=sJ.NextResponse.redirect(t)}}let l=new Response(o?.body,o);for(let e of i.headers.getSetCookie())l.headers.append("set-cookie",e);return l}function sX(e,t,r){let n=t.replace(`${e}/`,""),i=Object.values(r.pages??{});return(s0.has(n)||i.includes(t))&&t===e}let s0=new Set(["providers","session","csrf","signin","signout","callback","verify-request","error"]);var s1=r(8428);async function s2(e,t={},r,n){let i=new Headers(await (0,sG.headers)()),{redirect:a=!0,redirectTo:s,...o}=t instanceof FormData?Object.fromEntries(t):t,l=s?.toString()??i.get("Referer")??"/",c=sV("signin",i.get("x-forwarded-proto"),i,process.env,n);if(!e)return c.searchParams.append("callbackUrl",l),a&&(0,s1.redirect)(c.toString()),c.toString();let u=`${c}/${e}?${new URLSearchParams(r)}`,d={};for(let t of n.providers){let{options:r,...n}="function"==typeof t?t():t,i=r?.id??n.id;if(i===e){d={id:i,type:r?.type??n.type};break}}if(!d.id){let e=`${c}?${new URLSearchParams({callbackUrl:l})}`;return a&&(0,s1.redirect)(e),e}"credentials"===d.type&&(u=u.replace("signin","callback")),i.set("Content-Type","application/x-www-form-urlencoded");let f=new URLSearchParams({...o,callbackUrl:l}),h=new Request(u,{method:"POST",headers:i,body:f}),p=await sW(h,{...n,raw:rb,skipCSRFCheck:rw}),m=await (0,sG.cookies)();for(let e of p?.cookies??[])m.set(e.name,e.value,e.options);let g=(p instanceof Response?p.headers.get("Location"):p.redirect)??u;return a?(0,s1.redirect)(g):g}async function s3(e,t){let r=new Headers(await (0,sG.headers)());r.set("Content-Type","application/x-www-form-urlencoded");let n=sV("signout",r.get("x-forwarded-proto"),r,process.env,t),i=e?.redirectTo??r.get("Referer")??"/",a=new URLSearchParams({callbackUrl:i}),s=new Request(n,{method:"POST",headers:r,body:a}),o=await sW(s,{...t,raw:rb,skipCSRFCheck:rw}),l=await (0,sG.cookies)();for(let e of o?.cookies??[])l.set(e.name,e.value,e.options);return e?.redirect??!0?(0,s1.redirect)(o.redirect):o}async function s5(e,t){let r=new Headers(await (0,sG.headers)());r.set("Content-Type","application/json");let n=sV("session",r.get("x-forwarded-proto"),r,process.env,t),i=JSON.stringify({data:e}),a=new Request(n,{method:"POST",headers:r,body:i}),s=await sW(a,{...t,raw:rb,skipCSRFCheck:rw}),o=await (0,sG.cookies)();for(let e of s?.cookies??[])o.set(e.name,e.value,e.options);return s.body}function s4(e){return{id:"credentials",name:"Credentials",type:"credentials",credentials:{},authorize:()=>null,options:e}}function s6(e){return{id:"google",name:"Google",type:"oidc",issuer:"https://accounts.google.com",style:{brandColor:"#1a73e8"},options:e}}let{auth:s8,handlers:{GET:s9,POST:s7},signIn:oe,signOut:ot}=function(e){if("function"==typeof e){let t=async t=>{let r=await e(t);return sB(r),sW(sK(t),r)};return{handlers:{GET:t,POST:t},auth:sZ(e,e=>sB(e)),signIn:async(t,r,n)=>{let i=await e(void 0);return sB(i),s2(t,r,n,i)},signOut:async t=>{let r=await e(void 0);return sB(r),s3(t,r)},unstable_update:async t=>{let r=await e(void 0);return sB(r),s5(t,r)}}}sB(e);let t=t=>sW(sK(t),e);return{handlers:{GET:t,POST:t},auth:sZ(e),signIn:(t,r,n)=>s2(t,r,n,e),signOut:t=>s3(t,e),unstable_update:t=>s5(t,e)}}({adapter:c(d),providers:[s4({name:"credentials",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},async authorize(e){if(!e?.email||!e?.password)throw Error("Invalid credentials");let t=e.email,r=e.password,n=await d.user.findUnique({where:{email:t}});if(!n||!n?.hashedPassword)throw Error("User not found");if(!await h().compare(r,n.hashedPassword))throw Error("Invalid password");return{id:n.id,name:n.name,email:n.email,image:n.image}}}),s6({clientId:process.env.GOOGLE_CLIENT_ID,clientSecret:process.env.GOOGLE_CLIENT_SECRET})],pages:{signIn:"/auth/login"},session:{strategy:"jwt"},callbacks:{jwt:async({token:e,user:t})=>(t&&(e.id=t.id),e),session:async({session:e,token:t})=>(e.user&&(e.user.id=t.id),e)},secret:process.env.NEXTAUTH_SECRET});async function or({params:e}){let t=await s8();if(!t?.user?.id)return(0,s1.notFound)();let r=await d.rubric.findUnique({where:{id:e.rubricId,userId:t.user.id}});if(!r)return(0,s1.notFound)();let n=JSON.parse(r.content);return(0,l.jsxs)("div",{className:"container mx-auto py-8",children:[(0,l.jsxs)("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:r.title}),(0,l.jsxs)("div",{className:"mt-2 flex gap-4 text-sm text-gray-500",children:[(0,l.jsxs)("p",{children:["Grado: ",r.grade,"\xb0 Primaria"]}),(0,l.jsxs)("p",{children:["Asignatura: ",r.subject]})]})]}),l.jsx("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:(0,l.jsxs)("tr",{children:[l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Criterio"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Destacado (4)"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Satisfactorio (3)"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"En Proceso (2)"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Inicial (1)"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.rubric.criteria.map((e,t)=>(0,l.jsxs)("tr",{children:[l.jsx("td",{className:"px-6 py-4 whitespace-normal text-sm font-medium text-gray-900",children:e.name}),l.jsx("td",{className:"px-6 py-4 whitespace-normal text-sm text-gray-500",children:e.levels.destacado}),l.jsx("td",{className:"px-6 py-4 whitespace-normal text-sm text-gray-500",children:e.levels.satisfactorio}),l.jsx("td",{className:"px-6 py-4 whitespace-normal text-sm text-gray-500",children:e.levels.enProceso}),l.jsx("td",{className:"px-6 py-4 whitespace-normal text-sm text-gray-500",children:e.levels.inicial})]},t))})]})})]})}},3653:(e,t,r)=>{"use strict";r.r(t),r.d(t,{DashboardNav:()=>o});var n=r(5344);r(3729);var i=r(6506),a=r(8428);let s=[{href:"/dashboard",label:"Overview"},{href:"/dashboard/lesson-plans",label:"Lesson Plans"},{href:"/dashboard/rubrics",label:"Rubrics"},{href:"/dashboard/activities",label:"Activities"},{href:"/dashboard/subscription",label:"Subscription"}];function o(){let e=(0,a.usePathname)();return n.jsx("nav",{className:"flex space-x-4 px-4 py-3 bg-white shadow rounded-lg",children:s.map(t=>{let r=e===t.href;return n.jsx(i.default,{href:t.href,className:`${r?"text-blue-600 font-semibold":"text-gray-600 hover:text-gray-900"} transition-colors`,children:t.label},t.href)})})}},9363:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var n=r(5036);r(2);var i=r(6843);let a=(0,i.createProxy)(String.raw`/Users/paulsilva/Documents/demo-02/src/components/dashboard/nav.tsx`),{__esModule:s,$$typeof:o}=a;a.default;let l=(0,i.createProxy)(String.raw`/Users/paulsilva/Documents/demo-02/src/components/dashboard/nav.tsx#DashboardNav`);var c=r(6274);function u({children:e}){return n.jsx("div",{className:"flex min-h-screen flex-col",children:(0,n.jsxs)("div",{className:"flex flex-1",children:[(0,n.jsxs)("div",{className:"w-72 bg-white px-8 py-6 border-r",children:[n.jsx("div",{className:"flex h-16 shrink-0 items-center",children:n.jsx(c.default,{href:"/",className:"text-2xl font-bold text-accent-600 hover:text-accent-500 transition-colors",children:"ProfeChat"})}),n.jsx(l,{})]}),n.jsx("main",{className:"flex-1 bg-gray-50",children:n.jsx("div",{className:"py-8 px-6",children:e})})]})})}},8173:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>a,__esModule:()=>i,default:()=>s});let n=(0,r(6843).createProxy)(String.raw`/Users/paulsilva/Documents/demo-02/src/app/(dashboard)/dashboard/rubrics/[rubricId]/page.tsx`),{__esModule:i,$$typeof:a}=n,s=n.default}};var __webpack_require__=require("../../../../../webpack-runtime.js");__webpack_require__.C(exports);var __webpack_exec__=e=>__webpack_require__(__webpack_require__.s=e),__webpack_exports__=__webpack_require__.X(0,[638,24,56],()=>__webpack_exec__(6715));module.exports=__webpack_exports__})();